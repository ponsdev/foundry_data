{"version":3,"sources":["node_modules/browser-pack/_prelude.js","FVTT-Common/src/module/Handlebars.ts","FVTT-Common/src/module/ModuleSettings.ts","FVTT-Common/src/module/settings-app/SettingsApp.ts","src/module/Constants.ts","src/module/Handlebars.ts","src/module/Main.ts","src/module/Setup.ts","src/module/filter/EqualityType.ts","src/module/filter/FilterGroup.ts","src/module/filter/Operation/ArrayIncludesFilter.ts","src/module/filter/Operation/NumberFilter.ts","src/module/filter/Operation/StringFilter.ts","src/module/filter/Operation/WeightedFilter.ts","src/module/loot-app/Filters.ts","src/module/loot-app/Flags.ts","src/module/loot-app/Formatting.ts","src/module/loot-app/LootApp.ts","src/module/loot-app/Utilities.ts","src/module/loot-app/data/Materials.ts","src/module/loot-app/data/Runes.ts","src/module/loot-app/source/Consumable.ts","src/module/loot-app/source/DataSource.ts","src/module/loot-app/source/Permanent.ts","src/module/loot-app/source/RollableTables.ts","src/module/loot-app/source/Spells.ts","src/module/loot-app/source/Treasure.ts","src/types/PF2E.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","/*\n * Copyright 2021 Andrew Cuccinello\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n *\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport interface HandlebarsContext {\n    data: Record<string, any> & {\n        root: Record<string, any>;\n    };\n    hash?: Record<string, any>;\n    // contents of block\n    fn?: (context: any) => string;\n    // contents of else block\n    inverse?: () => string;\n    loc?: {\n        start: { line: number; column: number };\n        end: { line: number; column: number };\n    };\n    name?: string;\n}\n\nexport function registerHelpers() {\n    // absolute equality check\n    Handlebars.registerHelper('ifeq', function (this: HandlebarsContext, a: any, b: any, options: HandlebarsContext) {\n        if (a === b) {\n            if (!options.fn) {\n                return '';\n            }\n            return options.fn(this);\n        } else {\n            if (!options.inverse) {\n                return '';\n            }\n            return options.inverse();\n        }\n    });\n}\n","/*\n * Copyright 2021 Andrew Cuccinello\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n *\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport SettingsApp from './settings-app/SettingsApp';\nimport { registerHelpers } from './Handlebars';\nimport { registerHandlebarsTemplates } from '../../../src/module/Handlebars';\n\n// TODO: Localization of strings in this file.\n\nconst MENU_KEY = 'SETTINGS_MENU';\n\nexport type IFeatureInputType = 'checkbox' | 'number' | 'text' | 'file';\nexport interface IFeatureAttribute {\n    icon: string;\n    title: string;\n}\nexport interface IFeatureInput {\n    name: string;\n    label: string;\n    type: IFeatureInputType;\n    help?: string;\n    value: any;\n    max?: number;\n    min?: number;\n}\nexport interface IFeatureRegistration {\n    name: string;\n    type: BooleanConstructor | NumberConstructor | StringConstructor;\n    default: any;\n    onChange?: (value: any) => void;\n}\nexport type HookCallback = () => void;\nexport interface IFeatureDefinition {\n    id: string;\n    title: string;\n    attributes?: IFeatureAttribute[];\n    description: string;\n    default?: boolean;\n    inputs: IFeatureInput[];\n    register: IFeatureRegistration[];\n    help?: string;\n    onReady?: HookCallback;\n    onInit?: HookCallback;\n    onSetup?: HookCallback;\n}\n\nexport const ATTR_RELOAD_REQUIRED: IFeatureAttribute = {\n    icon: 'fas fa-sync',\n    title: 'Reload Required',\n};\nexport const ATTR_REOPEN_SHEET_REQUIRED: IFeatureAttribute = {\n    icon: 'fas fa-sticky-note',\n    title: 'Sheets must be closed and re-opened.',\n};\n\nexport interface ModuleSettingsArgs {\n    moduleName: string;\n    moduleTitle: string;\n    features: IFeatureDefinition[];\n}\n\n// TODO: This can be a generic class so we have correctly typed features.\nexport default class ModuleSettings {\n    protected static _instance: ModuleSettings;\n    public static get instance() {\n        return this._instance;\n    }\n\n    public static initialize(options: ModuleSettingsArgs) {\n        this._instance = new ModuleSettings(options);\n        this._instance.registerAllSettings();\n\n        registerHelpers();\n\n        Hooks.on('init', () => ModuleSettings.instance.onInit());\n        Hooks.on('setup', () => ModuleSettings.instance.onSetup());\n        Hooks.on('ready', () => ModuleSettings.instance.onReady());\n    }\n\n    protected constructor(options: ModuleSettingsArgs) {\n        this._moduleName = options.moduleName;\n        this._moduleTitle = options.moduleTitle;\n        this._features = options.features;\n    }\n\n    protected _moduleName: string;\n    protected _moduleTitle: string;\n    protected _features: IFeatureDefinition[];\n\n    public get moduleName() {\n        return this._moduleName;\n    }\n\n    public get moduleTitle() {\n        return this._moduleTitle;\n    }\n\n    public get features() {\n        return duplicate(this._features) as IFeatureDefinition[];\n    }\n\n    /**\n     * Retrieve a setting from the store.\n     * @param key They key the setting resides at.\n     */\n    public get<T = any>(key: string): T {\n        return (game as Game).settings.get(this._moduleName, key) as T;\n    }\n\n    /**\n     * Set the value of a setting in the store.\n     * @param key The key the setting resides at.\n     * @param value The value the setting should be set to.\n     */\n    public async set(key: string, value: any) {\n        return (game as Game).settings.set(this._moduleName, key, value);\n    }\n\n    /**\n     * Register a setting with the store.\n     * @param key The key the setting should reside at.\n     * @param value The default value of the setting.\n     */\n    public reg(key: string, value: any) {\n        (game as Game).settings.register(this._moduleName, key, value);\n    }\n\n    /**\n     * Binds on init hooks for each feature that has them.\n     */\n    public onInit() {\n        for (const feature of this._features) {\n            if (feature.onInit && this.get(feature.id)) {\n                feature.onInit();\n            }\n        }\n    }\n\n    /**\n     * Binds on setup hooks for each feature that has them.\n     */\n    public onSetup() {\n        for (const feature of this._features) {\n            if (feature.onSetup && this.get(feature.id)) {\n                feature.onSetup();\n            }\n        }\n    }\n\n    /**\n     * Binds on ready hooks for each feature that has them.\n     */\n    public onReady() {\n        for (const feature of this._features) {\n            if (feature.onReady && this.get(feature.id)) {\n                feature.onReady();\n            }\n        }\n    }\n\n    /**\n     * Registers all game settings for the application.\n     */\n    protected registerAllSettings() {\n        for (const feature of this._features) {\n            // Register the feature toggle\n            const enabled = {\n                name: feature.id,\n                scope: 'world',\n                type: Boolean,\n                default: feature.default ?? false,\n                config: false,\n                restricted: true,\n            };\n            this.reg(feature.id, enabled);\n\n            // Register any other settings values for a feature.\n            for (const registration of feature.register) {\n                const setting = {\n                    name: registration.name,\n                    scope: 'world',\n                    type: registration.type,\n                    default: registration.default,\n                    config: false,\n                    restricted: true,\n                    onChange: registration.onChange,\n                };\n                this.reg(registration.name, setting);\n            }\n        }\n\n        const templatePaths = [\n            `templates/settings-app/SettingsApp.html`,\n            `templates/settings-app/tabs/About.html`,\n            `templates/settings-app/tabs/Features.html`,\n            `templates/settings-app/tabs/License.html`,\n        ].map((path: string) => `modules/${this._moduleName}/${path}`);\n        loadTemplates(templatePaths);\n\n        (game as Game).settings.registerMenu(this._moduleName, MENU_KEY, {\n            name: 'Settings',\n            label: 'Settings',\n            hint: 'Configure enabled features and other options, view the license, and see the about section to learn more about my modules.',\n            icon: 'fas fa-cogs',\n            type: SettingsApp,\n            restricted: true,\n        });\n    }\n}\n","/*\n * Copyright 2021 Andrew Cuccinello\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n *\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { MODULE_NAME } from '../../../../src/module/Constants';\nimport ModuleSettings, { ATTR_RELOAD_REQUIRED } from '../ModuleSettings';\n\nexport default class SettingsApp extends FormApplication<FormApplication.Options, any, any> {\n    static get defaultOptions() {\n        const options = super.defaultOptions;\n        options.title = game.i18n.localize(ModuleSettings.instance.moduleTitle);\n        options.template = `modules/${ModuleSettings.instance.moduleName}/templates/settings-app/SettingsApp.html`;\n        options.classes = options.classes ?? [];\n        options.classes = [...options.classes, 'dj-settings-app', 'settings-app'];\n        options.tabs = [\n            {\n                navSelector: `.settings-app-nav`,\n                contentSelector: `.settings-app-body`,\n                initial: `about`,\n            },\n        ];\n        options.width = 600;\n        options.height = 800;\n        return options;\n    }\n\n    constructor(object?: object, options?: FormApplication.Options) {\n        if (object === undefined) {\n            object = {};\n        }\n        super(object, options);\n    }\n\n    getData(options?: object) {\n        const renderData: Record<string, any> = super.getData(options);\n\n        renderData['tabs'] = [\n            `modules/${ModuleSettings.instance.moduleName}/templates/settings-app/tabs/About.html`,\n            `modules/${ModuleSettings.instance.moduleName}/templates/settings-app/tabs/Features.html`,\n            `modules/${ModuleSettings.instance.moduleName}/templates/settings-app/tabs/License.html`,\n        ];\n\n        let features = ModuleSettings.instance.features;\n        for (const setting of features) {\n            setting.inputs.unshift({\n                name: setting.id,\n                label: 'Enable',\n                type: 'checkbox',\n                value: true, // remember will be overridden below\n            });\n\n            for (const input of setting.inputs) {\n                input['value'] = ModuleSettings.instance.get(input.name);\n            }\n        }\n        renderData['features'] = features;\n\n        return renderData;\n    }\n\n    protected async _updateObject(event: Event, formData: any): Promise<void> {\n        let shouldReload = false;\n        const features = ModuleSettings.instance.features;\n        for (const [key, newValue] of Object.entries(formData)) {\n            const oldValue = ModuleSettings.instance.get(key);\n            await ModuleSettings.instance.set(key, newValue);\n\n            if (oldValue !== newValue) {\n                const reloadRequired = features.find((feature) => feature.id === key)?.attributes?.includes(ATTR_RELOAD_REQUIRED) ?? false;\n                shouldReload = shouldReload || reloadRequired;\n            }\n        }\n\n        if (shouldReload) {\n            if (confirm('The Foundry window must be refreshed before some settings are applied. Refresh now?')) {\n                window.location = window.location;\n            }\n        }\n    }\n}\n","/*\n * Copyright 2021 Andrew Cuccinello\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n *\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const MODULE_NAME = `pf2e-lootgen`;\nexport const MODULE_TITLE = `PF2E Loot Generator`;\nexport const PF2E_LOOT_SHEET_NAME = `LootSheetPF2e`;\nexport const ITEM_ID_LENGTH = 16;\n\nexport const TOOLBOX_NAME = `pf2e-toolbox`;\nexport const QUICK_MYSTIFY = `ENABLE_QUICK_MYSTIFY`;\n","/*\n * Copyright 2022 Andrew Cuccinello\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n *\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { MODULE_NAME } from './Constants';\nimport { GenType } from './loot-app/source/DataSource';\nimport { numericCommas } from './loot-app/Formatting';\nimport { HandlebarsContext } from '../../FVTT-Common/src/module/Handlebars';\n\nexport async function registerHandlebarsTemplates() {\n    const templatePath = (path: string) => `modules/${MODULE_NAME}/${path}`;\n\n    const partials: Record<string, string> = {\n        'weight-range': `templates/loot-app/partials/weight-range.html`,\n        'tab-buttons': `templates/loot-app/tabs/partials/tab-buttons.html`,\n        'create-select': `templates/loot-app/tabs/partials/create-select.html`,\n        'rune-stats': `templates/loot-app/tabs/partials/rune-stats.html`,\n        'property-runes': `templates/loot-app/tabs/partials/property-runes.html`,\n        'final-info': `templates/loot-app/tabs/partials/final-info.html`,\n        'collapsible': `templates/loot-app/partials/collapsible.html`,\n    };\n\n    const templatePaths = [\n        `templates/settings-app/SettingsApp.html`,\n        `templates/settings-app/tabs/About.html`,\n        `templates/settings-app/tabs/Features.html`,\n        `templates/settings-app/tabs/License.html`,\n\n        `templates/loot-app/inventory.html`,\n        `templates/loot-app/sidebar.html`,\n        `templates/loot-app/partials/loot-profile.html`,\n\n        `templates/loot-app/tabs/settings.html`,\n\n        `templates/loot-app/tabs/create/index.html`,\n        `templates/loot-app/tabs/create/weapon.html`,\n        `templates/loot-app/tabs/create/armor.html`,\n        `templates/loot-app/tabs/create/shield.html`,\n\n        `templates/chat/table-output.html`,\n\n        ...Object.values(GenType).map((type) => `templates/loot-app/tabs/${type}.html`),\n        ...Object.values(partials),\n    ].map(templatePath);\n\n    for (const [key, value] of Object.entries(partials)) {\n        Handlebars.registerPartial(key, `{{> ${templatePath(value)} }}`);\n    }\n\n    await loadTemplates(templatePaths);\n}\n\nexport function registerHandlebarsHelpers() {\n    // stringify the object provided.\n    Handlebars.registerHelper('json', (data: any) => {\n        return JSON.stringify(data);\n    });\n    // object exists and is not null or empty\n    Handlebars.registerHelper('defined', (data: any) => {\n        return data !== undefined && data !== null && data !== '';\n    });\n    // use the provided value if it exists, otherwise default to the fallback.\n    Handlebars.registerHelper('default', (value: any, defaultValue: any) => {\n        return value === undefined || value === null ? defaultValue : value;\n    });\n    // separate hundreds groups in numbers with commas\n    Handlebars.registerHelper('numeric-commas', (a: string | number | undefined) => {\n        if (!a) return undefined;\n        return numericCommas(a);\n    });\n    // round a number or return other values\n    Handlebars.registerHelper('round', (a: any) => {\n        if (typeof a === 'number') {\n            return Math.round(a);\n        }\n        return a;\n    });\n\n    // assorted helpers for dealing with equality in templates\n    Handlebars.registerHelper('eq', (lhs: any, rhs: any, context: HandlebarsContext) => {\n        return lhs === rhs;\n    });\n    Handlebars.registerHelper('lt', (lhs: number, rhs: number, context: HandlebarsContext) => {\n        return lhs < rhs;\n    });\n    Handlebars.registerHelper('gt', (lhs: number, rhs: number, context: HandlebarsContext) => {\n        return lhs > rhs;\n    });\n    Handlebars.registerHelper('lteq', (lhs: number, rhs: number, context: HandlebarsContext) => {\n        return lhs <= rhs;\n    });\n    Handlebars.registerHelper('gteq', (lhs: number, rhs: number, context: HandlebarsContext) => {\n        return lhs >= rhs;\n    });\n\n    /**\n     * Walk an object tree. Mostly exists for convenience so lookup does not need to be chained.\n     * @param data The data to walk over.\n     * @param path The data path to walk.\n     * @param context The handlebars context where this is being called.\n     */\n    const walk = (data: Record<string, any>, path: string, context: HandlebarsContext) => {\n        let current = data;\n        const parts = path.split('.');\n        while (parts.length > 0) {\n            let key = parts.shift() as string;\n\n            if (context.hash && key.startsWith('$')) {\n                key = context.hash[key.substr(1)];\n            }\n            current = current[key];\n\n            if (current === null || current === undefined) {\n                return undefined;\n            }\n        }\n        return current;\n    };\n    Handlebars.registerHelper('walk', walk);\n\n    // When working with keys in the partial system, append the module name\n    //  so we have a lower chance of overwriting or deleting another modules\n    //  registered partials.\n    const blockKey = (key: string) => `${MODULE_NAME}-${key}`;\n\n    /**\n     * Set a block, so the next call to get-block renders the provided content.\n     * @param name The name of the block to set.\n     * @param parentContext The handlebars context where the block is being set.\n     */\n    const setBlock = (name: string, parentContext: HandlebarsContext) => {\n        Handlebars.registerPartial(blockKey(name), (childContext: HandlebarsContext) => {\n            return parentContext.fn!(mergeObject(parentContext, childContext));\n        });\n    };\n    /**\n     * Get and render a block by it's name.\n     * @param name The name of the block.\n     * @param context The handlebars context where this block is rendering.\n     */\n    const getBlock = (name: string, context: HandlebarsContext) => {\n        const loadPartial = (name: string) => {\n            let partial = Handlebars.partials[name];\n            if (typeof partial === 'string') {\n                partial = Handlebars.compile(partial);\n                Handlebars.partials[name] = partial;\n            }\n            return partial;\n        };\n\n        const partial = loadPartial(blockKey(name)) || context.fn;\n        // @ts-ignore\n        return partial(this, { data: context.hash });\n    };\n    /**\n     * Unset a block template. It is important to unset so later calls to\n     *  a template do not re-render old data where it does not belong.\n     * @param name The name of the block to delete.\n     */\n    const delBlock = (name: string) => {\n        Handlebars.unregisterPartial(blockKey(name));\n    };\n\n    Handlebars.registerHelper('set-block', setBlock);\n    Handlebars.registerHelper('del-block', delBlock);\n    Handlebars.registerHelper('get-block', getBlock);\n}\n","/*\n * Copyright 2021 Andrew Cuccinello\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n *\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { setup } from './Setup';\n\nsetup();\n","/*\n * Copyright 2021 Andrew Cuccinello\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n *\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport ModuleSettings, { IFeatureDefinition } from '../../FVTT-Common/src/module/ModuleSettings';\nimport { MODULE_NAME, MODULE_TITLE } from './Constants';\nimport { registerHandlebarsHelpers, registerHandlebarsTemplates } from './Handlebars';\nimport { extendLootSheet } from './loot-app/LootApp';\nimport { FLAGS_KEY } from './loot-app/Flags';\n\nexport const FEATURE_ALLOW_MERGING = 'allow-merging';\n\nexport const FEATURE_QUICK_ROLL_MODIFIERS = 'quick-roll-modifiers-enabled';\nexport const FEATURE_QUICK_ROLL_CONTROL = 'quick-roll-control-count';\nexport const FEATURE_QUICK_ROLL_SHIFT = 'quick-roll-shift-count';\n\nexport const FEATURE_OUTPUT_LOOT_ROLLS = 'output-loot-rolls';\nexport const FEATURE_OUTPUT_LOOT_ROLLS_WHISPER = 'output-loot-rolls-whisper';\n\n// TODO: Localization\nexport const FEATURES: IFeatureDefinition[] = [\n    {\n        id: FEATURE_ALLOW_MERGING,\n        title: 'Merge When Generating',\n        attributes: [],\n        description:\n            'If this setting is enabled, PF2E Lootgen will attempt to merge generated items into' +\n            ' existing stacks on the actor. If this setting is disabled, new stacks will still merge but not' +\n            ' merge with existing items.',\n        inputs: [],\n        register: [],\n        help:\n            'PF2E Lootgen will not check for modifications on existing items, so if you expect to change' +\n            ' them this may result in improper treasure values, item descriptions, etc. for generated items.',\n    },\n    {\n        id: FEATURE_QUICK_ROLL_MODIFIERS,\n        title: 'Quick Roll Key Modifiers',\n        attributes: [],\n        description: 'When a key is held when using the quick roll buttons on the loot generator, these settings determine how many items should be rolled.',\n        inputs: [\n            {\n                name: FEATURE_QUICK_ROLL_CONTROL,\n                label: 'Control',\n                type: 'number',\n                value: 10,\n                min: 1,\n            },\n            {\n                name: FEATURE_QUICK_ROLL_SHIFT,\n                label: 'Shift',\n                type: 'number',\n                value: 5,\n                min: 1,\n            },\n        ],\n        register: [\n            {\n                name: FEATURE_QUICK_ROLL_CONTROL,\n                type: Number,\n                default: 10,\n            },\n            {\n                name: FEATURE_QUICK_ROLL_SHIFT,\n                type: Number,\n                default: 5,\n            },\n        ],\n        help: 'Holding down multiple keys will multiply together the modifiers.',\n    },\n    {\n        id: FEATURE_OUTPUT_LOOT_ROLLS,\n        title: 'Output Loot Rolled to Chat',\n        attributes: [],\n        description: '',\n        inputs: [\n            {\n                name: FEATURE_OUTPUT_LOOT_ROLLS_WHISPER,\n                label: 'Whisper Results',\n                type: 'checkbox',\n                value: false,\n                help: 'If enabled, always whisper the results to the GMs. Otherwise, respect your current roll mode.',\n            },\n        ],\n        register: [\n            {\n                name: FEATURE_OUTPUT_LOOT_ROLLS_WHISPER,\n                type: Boolean,\n                default: false,\n            },\n        ],\n        help: '',\n    },\n];\n\nexport const setup = () => {\n    Hooks.on('init', () =>\n        ModuleSettings.initialize({\n            moduleName: MODULE_NAME,\n            moduleTitle: MODULE_TITLE,\n            features: FEATURES,\n        }),\n    );\n\n    Hooks.on('setup', registerHandlebarsTemplates);\n    Hooks.on('setup', registerHandlebarsHelpers);\n\n    Hooks.on('ready', async () => {\n        const extendedSheet = extendLootSheet();\n        // @ts-ignore\n        Actors.registerSheet(MODULE_NAME, extendedSheet, {\n            label: 'PF2E Loot Generator',\n            types: ['loot'],\n            makeDefault: false,\n        });\n\n        // recreate a loot sheet for testing\n        // await game.actors?.getName('TestLoot')?.delete();\n        // await Actor.create({ name: 'TestLoot', type: 'loot', ['flags.core.sheetClass']: 'pf2e-lootgen.LootApp' });\n        // await game.actors?.getName('TestLoot')?.sheet?.render(true);\n    });\n};\n","/*\n * Copyright 2021 Andrew Cuccinello\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n *\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * A type of equality comparison.\n */\nexport enum EqualityType {\n    EqualTo,\n    LessThan,\n    LessThanEqualTo,\n    GreaterThan,\n    GreaterThanEqualTo,\n    LocaleInvariant\n}\n","/*\n * Copyright 2021 Andrew Cuccinello\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n *\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ISpecification } from './ISpecification';\nimport { PF2EItem } from '../../types/PF2E';\n\nexport abstract class FilterGroup implements ISpecification<PF2EItem> {\n    protected children: ISpecification<PF2EItem>[];\n\n    protected constructor(children?: ISpecification<PF2EItem>[]) {\n        if (children === undefined) {\n            children = [];\n        }\n\n        this.children = children;\n    }\n\n    public abstract isSatisfiedBy(data: PF2EItem): boolean;\n\n    public and(other: ISpecification<PF2EItem>): ISpecification<PF2EItem> {\n        return new AndGroup([this, other]);\n    }\n\n    public not(other?: ISpecification<PF2EItem>): ISpecification<PF2EItem> {\n        return new NotGroup(this);\n    }\n\n    public or(other: ISpecification<PF2EItem>): ISpecification<PF2EItem> {\n        return new OrGroup([this, other]);\n    }\n\n    public addChildren(others: ISpecification<PF2EItem> | ISpecification<PF2EItem>[]) {\n        if (!Array.isArray(others)) {\n            others = [others];\n        }\n        this.children.push(...others);\n    }\n}\n\nexport class AndGroup extends FilterGroup {\n    public constructor(children?: ISpecification<PF2EItem>[]) {\n        super(children);\n    }\n\n    public isSatisfiedBy(data: PF2EItem): boolean {\n        for (const child of this.children) {\n            if (!child.isSatisfiedBy(data)) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\n\nexport class NotGroup extends FilterGroup {\n    public constructor(filter: ISpecification<PF2EItem>) {\n        super([filter]);\n    }\n\n    public isSatisfiedBy(data: PF2EItem): boolean {\n        return !this.children[0].isSatisfiedBy(data);\n    }\n}\n\nexport class OrGroup extends FilterGroup {\n    public constructor(children?: ISpecification<PF2EItem>[]) {\n        super(children);\n    }\n\n    public isSatisfiedBy(data: PF2EItem): boolean {\n        for (const child of this.children) {\n            if (child.isSatisfiedBy(data)) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\n","/*\n * Copyright 2021 Andrew Cuccinello\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n *\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { WeightedFilter } from './WeightedFilter';\nimport { EqualityType } from '../EqualityType';\nimport { PF2EItem } from '../../../types/PF2E';\n\nexport class ArrayIncludesFilter extends WeightedFilter<string> {\n    constructor(selector: string, desiredValue: string, weight: number) {\n        super(selector, desiredValue, weight, EqualityType.EqualTo);\n    }\n\n    protected getValue(data: PF2EItem): string {\n        const value = super.getValue(data);\n        if (Array.isArray(value)) {\n            return value.includes(this.desiredValue) ? this.desiredValue : '';\n        }\n        return '';\n    }\n}\n","/*\n * Copyright 2021 Andrew Cuccinello\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n *\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { WeightedFilter } from './WeightedFilter';\nimport { EqualityType } from '../EqualityType';\n\nexport class NumberFilter extends WeightedFilter<number> {\n    public constructor(selector: string, desiredValue: number, weight: number, equalityType: EqualityType) {\n        super(selector, desiredValue, weight, equalityType);\n    }\n}\n","/*\n * Copyright 2021 Andrew Cuccinello\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n *\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { WeightedFilter } from './WeightedFilter';\nimport { EqualityType } from '../EqualityType';\n\nexport class StringFilter extends WeightedFilter<string> {\n    public constructor(selector: string, desiredValue: string, weight: number) {\n        super(selector, desiredValue, weight, EqualityType.EqualTo);\n    }\n}\n","/*\n * Copyright 2021 Andrew Cuccinello\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n *\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { EqualityType } from '../EqualityType';\nimport { ISpecification } from '../ISpecification';\nimport { PF2EItem } from '../../../types/PF2E';\n\nexport abstract class WeightedFilter<T extends number | string | boolean> implements ISpecification<PF2EItem> {\n    protected readonly selector: string;\n    protected readonly desiredValue: T;\n    protected readonly equality: EqualityType;\n    public readonly weight: number;\n\n    // constructor is protected here so we can type them properly, and extend with type specific functions later\n    protected constructor(selector: string, desiredValue: T, weight: number, equalityType: EqualityType) {\n        this.selector = selector;\n        this.desiredValue = desiredValue;\n        this.weight = weight;\n        this.equality = equalityType;\n    }\n\n    /**\n     * Get a value from a data path, e.g. a series of period separated property keys.\n     * @param data The data to fetch the value from.\n     * @protected\n     */\n    protected getValue(data: PF2EItem): T {\n        const path: string[] = this.selector.split('.');\n\n        let current: any = data;\n        while (path.length > 0) {\n            const key = path.shift() as string;\n            current = current[key];\n        }\n        return current;\n    }\n\n    protected compareTo(value: T): boolean {\n        switch (this.equality) {\n            case EqualityType.EqualTo:\n                return value === this.desiredValue;\n            case EqualityType.LessThan:\n                return value < this.desiredValue;\n            case EqualityType.LessThanEqualTo:\n                return value <= this.desiredValue;\n            case EqualityType.GreaterThan:\n                return value > this.desiredValue;\n            case EqualityType.GreaterThanEqualTo:\n                return value >= this.desiredValue;\n            case EqualityType.LocaleInvariant:\n                return value.toLocaleString().localeCompare(this.desiredValue.toLocaleString()) === 0;\n        }\n    }\n\n    /**\n     * Return true if this operation is satisfied by the data.\n     * @param data The data to test.\n     */\n    public isSatisfiedBy(data: PF2EItem): boolean {\n        return this.compareTo(this.getValue(data));\n    }\n}\n","/*\n * Copyright 2021 Andrew Cuccinello\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n *\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SpellSchool, SpellTradition } from './source/Spells';\nimport { IEnabled, INamed, IWeighted } from './source/Mixins';\nimport { GenType, ordinalNumber } from './source/DataSource';\nimport { Rarity } from '../../types/PF2E';\n\nexport enum FilterType {\n    SpellSchool = 'school',\n    SpellLevel = 'level',\n    SpellTradition = 'tradition',\n    SpellRarity = 'rarity',\n}\n\nexport interface AppFilter extends IWeighted, IEnabled, INamed {\n    id: string;\n    filterType: FilterType;\n    filterCategory: GenType;\n    desiredValue: number | string | boolean;\n}\nexport interface SpellFilter extends AppFilter {\n    filterCategory: GenType.Spell;\n}\n\nconst levelFilterId = (level: number) => `level-${level}`;\nconst levelFilter = (level: number): SpellFilter => {\n    return {\n        id: levelFilterId(level),\n        name: `${ordinalNumber(level)}-Level`,\n\n        filterType: FilterType.SpellLevel,\n        filterCategory: GenType.Spell,\n\n        desiredValue: level,\n\n        weight: 1,\n        enabled: true,\n    };\n};\n\nconst schoolFilterId = (school: SpellSchool) => `${school}`;\nconst schoolFilter = (school: SpellSchool): SpellFilter => {\n    return {\n        id: schoolFilterId(school),\n        name: school.capitalize(),\n\n        filterType: FilterType.SpellLevel,\n        filterCategory: GenType.Spell,\n\n        desiredValue: school,\n\n        weight: 1,\n        enabled: true,\n    };\n};\n\nconst traditionFilterId = (tradition: SpellTradition) => `${tradition}`;\nconst traditionFilter = (tradition: SpellTradition): SpellFilter => {\n    return {\n        id: traditionFilterId(tradition),\n        name: tradition.capitalize(),\n\n        filterType: FilterType.SpellTradition,\n        filterCategory: GenType.Spell,\n\n        desiredValue: tradition,\n\n        weight: 1,\n        enabled: true,\n    };\n};\n\nconst rarityFilterId = (rarity: Rarity) => `${rarity}`;\nconst rarityFilter = (rarity: Rarity): SpellFilter => {\n    return {\n        id: rarityFilterId(rarity),\n        name: rarity.capitalize(),\n\n        filterType: FilterType.SpellRarity,\n        filterCategory: GenType.Spell,\n\n        desiredValue: rarity,\n\n        weight: 1,\n        enabled: true,\n    };\n};\n\nexport const spellLevelFilters: Record<string, AppFilter> = Array.fromRange(10).reduce(\n    (prev, curr) =>\n        mergeObject(prev, {\n            [levelFilterId(curr + 1)]: levelFilter(curr + 1),\n        }),\n    {},\n);\n\nexport const spellSchoolFilters: Record<string, AppFilter> = Object.values(SpellSchool).reduce(\n    (prev, curr) =>\n        mergeObject(prev, {\n            [schoolFilterId(curr)]: schoolFilter(curr),\n        }),\n    {},\n);\n\nexport const spellTraditionFilters: Record<string, AppFilter> = Object.values(SpellTradition).reduce(\n    (prev, curr) =>\n        mergeObject(prev, {\n            [traditionFilterId(curr)]: traditionFilter(curr),\n        }),\n    {},\n);\nexport const spellRarityFilters: Record<string, AppFilter> = Object.values(Rarity).reduce(\n    (prev, curr) =>\n        mergeObject(prev, {\n            [rarityFilterId(curr)]: rarityFilter(curr),\n        }),\n    {},\n);\n\nexport const spellFilters = { ...spellLevelFilters, ...spellSchoolFilters, ...spellTraditionFilters, ...spellRarityFilters };\n","/*\n * Copyright 2021 Andrew Cuccinello\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n *\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { MODULE_NAME } from '../Constants';\nimport { DataSource, GenType } from './source/DataSource';\nimport { dataSourcesOfType, filtersOfType } from './Utilities';\nimport { AppFilter, FilterType } from './Filters';\nimport { IEnabled, IWeighted } from './source/Mixins';\n\nexport const FLAGS_KEY = MODULE_NAME;\n\nexport interface LootCategoryConfig {\n    count: number;\n}\nexport interface LootStoredData extends IEnabled, IWeighted {}\nexport interface LootAppFlags {\n    sources: {\n        [storeId: string]: LootStoredData;\n    };\n    filters: {\n        [storeId: string]: LootStoredData;\n    };\n    config: {\n        [TKey in GenType]: LootCategoryConfig;\n    };\n}\n\nexport function sourceFlagPath(source: DataSource, withFlags: boolean = false): string {\n    let path = `sources.${source.storeId}`;\n    if (withFlags) {\n        path = `flags.${FLAGS_KEY}.${path}`;\n    }\n    return path;\n}\nexport function filterFlagPath(filter: AppFilter, withFlags: boolean = false): string {\n    let path = `filters.${filter.id}`;\n    if (withFlags) {\n        path = `flags.${FLAGS_KEY}.${path}`;\n    }\n    return path;\n}\nexport function createFlagPath(name: string, withFlags: boolean = false): string {\n    let path = `create.${name}`;\n    if (withFlags) {\n        path = `flags.${FLAGS_KEY}.${path}`;\n    }\n    return path;\n}\n\nHandlebars.registerHelper('source-flag', (source: DataSource) => sourceFlagPath(source, true));\nHandlebars.registerHelper('filter-flag', (filter: AppFilter) => filterFlagPath(filter, true));\nHandlebars.registerHelper('create-flag', (name: string) => createFlagPath(name, true));\n\n/**\n * Get a filter with the saved weight and enabled status from an actor.\n * @param actor The actor to fetch from.\n * @param filter The filter to fetch.\n */\nexport function getFilterSettings<T extends AppFilter>(actor: Actor, filter: T): T {\n    const flags = actor.getFlag(FLAGS_KEY, filterFlagPath(filter)) as Partial<AppFilter>;\n    return mergeObject(duplicate(filter) as AppFilter, flags) as T;\n}\n\n/**\n * Load and merge changed settings into a copy of the provided data source.\n * @param actor The actor to load from.\n * @param source The source to load.\n */\nexport function getDataSourceSettings<T extends DataSource>(actor: Actor, source: T): T {\n    const flags = actor.getFlag(FLAGS_KEY, sourceFlagPath(source)) as Partial<DataSource>;\n    return mergeObject(duplicate(source) as DataSource, flags) as T;\n}\n\n/**\n * Set the options values of a single data source for an actor.\n * @param actor The actor to update.\n * @param source The data source to update.\n */\nexport async function setDataSourceSetting(actor: Actor, source: DataSource | DataSource[]): Promise<Actor> {\n    if (!Array.isArray(source)) {\n        source = [source];\n    }\n    const updateData = source.reduce(\n        (prev, curr) =>\n            mergeObject(prev, {\n                [`flags.${FLAGS_KEY}.sources.${curr.itemType}.${curr.id}`]: curr,\n            }),\n        {},\n    );\n    return (await actor.update(updateData))!;\n}\n\n// TODO: Should be pretty easy to collapse buildSourceSettingUpdate + buildFilterSettingUpdate into one function.\nexport type SetValueKeys = keyof IEnabled | keyof IWeighted;\nexport function buildSourceSettingUpdate(actor: Actor, type: GenType, keys: SetValueKeys | SetValueKeys[], values: any | any[]): Record<string, any> {\n    if (!Array.isArray(keys)) keys = [keys];\n    if (!Array.isArray(values)) values = [values];\n    if (keys.length !== values.length) {\n        throw new Error(`keys and values must be of equal length, got ${keys.length} and ${values.length}.`);\n    }\n\n    const sources = dataSourcesOfType(type);\n    const updateData: Record<string, any> = {};\n    for (const source of Object.values(sources)) {\n        for (let i = 0; i < keys.length; i++) {\n            updateData[`${sourceFlagPath(source, true)}.${keys[i]}`] = values[i];\n        }\n    }\n    return updateData;\n}\nexport function buildFilterSettingUpdate(actor: Actor, type: FilterType, keys: SetValueKeys | SetValueKeys[], values: any | any[]): Record<string, any> {\n    if (!Array.isArray(keys)) keys = [keys];\n    if (!Array.isArray(values)) values = [values];\n    if (keys.length !== values.length) {\n        throw new Error(`keys and values must be of equal length, got ${keys.length} and ${values.length}.`);\n    }\n\n    const filters = filtersOfType(type);\n    const updateData: Record<string, any> = {};\n    for (const filter of Object.values(filters)) {\n        for (let i = 0; i < keys.length; i++) {\n            updateData[`${filterFlagPath(filter, true)}.${keys[i]}`] = values[i];\n        }\n    }\n    return updateData;\n}\n","/*\n * Copyright 2021 Andrew Cuccinello\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n *\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Replace numbers in a string with commas.\n * @param value\n */\nexport const numericCommas = (value: string | number) => {\n    return value.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n};","/*\n * Copyright 2021 Andrew Cuccinello\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n *\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FEATURE_ALLOW_MERGING, FEATURE_QUICK_ROLL_CONTROL, FEATURE_QUICK_ROLL_MODIFIERS, FEATURE_QUICK_ROLL_SHIFT } from '../Setup';\nimport ModuleSettings from '../../../FVTT-Common/src/module/ModuleSettings';\nimport { DataSource, GenType, PoolSource, SourceType } from './source/DataSource';\nimport { buildFilterSettingUpdate, buildSourceSettingUpdate, createFlagPath, FLAGS_KEY, getDataSourceSettings, getFilterSettings, SetValueKeys } from './Flags';\nimport { permanentSources } from './source/Permanent';\nimport { treasureSources } from './source/Treasure';\nimport { AndGroup, OrGroup } from '../filter/FilterGroup';\nimport {\n    calculateFinalPriceAndLevel,\n    createSpellItems,\n    dataSourcesOfType,\n    drawFromSources,\n    DrawResult,\n    getEquipmentType,\n    maybeMystifyItems,\n    maybeOutputItemsToChat,\n    mergeExistingStacks,\n    mergeStacks,\n    rollTreasureValues,\n} from './Utilities';\nimport { SpellItemType, spellSources } from './source/Spells';\nimport { BasePriceData, CREATE_KEY_NONE, getValidMaterialGrades, getValidMaterials, ItemMaterials } from './data/Materials';\nimport { ITEM_ID_LENGTH, MODULE_NAME, PF2E_LOOT_SHEET_NAME, QUICK_MYSTIFY, TOOLBOX_NAME } from '../Constants';\nimport { AppFilter, FilterType, spellLevelFilters, spellRarityFilters, spellSchoolFilters, spellTraditionFilters } from './Filters';\nimport { NumberFilter } from '../filter/Operation/NumberFilter';\nimport { ArrayIncludesFilter } from '../filter/Operation/ArrayIncludesFilter';\nimport { StringFilter } from '../filter/Operation/StringFilter';\nimport { consumableSources } from './source/Consumable';\nimport { WeightedFilter } from '../filter/Operation/WeightedFilter';\nimport { EqualityType } from '../filter/EqualityType';\nimport {\n    ArmorPropertyRuneType,\n    EquipmentItem,\n    EquipmentType,\n    HTMLItemString,\n    isArmor,\n    isEquipment,\n    isShield,\n    isWeapon,\n    PF2EItem,\n    PhysicalItem,\n    PreciousMaterialGrade,\n    PreciousMaterialType,\n    PropertyRuneCreateKey,\n    PropertyRuneType,\n    Rarity,\n    ResiliencyRuneType,\n    StrikingRuneType,\n    WeaponPropertyRuneType,\n} from '../../types/PF2E';\nimport { FundamentalRuneType, ItemRunes, PotencyRuneType } from './data/Runes';\n\nexport enum LootAppSetting {\n    Count = 'count',\n}\n\ninterface FormOption<TSlug, TLabel = string> {\n    slug: TSlug;\n    label: TLabel;\n}\nexport type LootAppCreateData = {\n    type: EquipmentType;\n\n    template: EquipmentItem;\n    templateLink: HTMLItemString;\n    product?: EquipmentItem;\n\n    preciousMaterial: PreciousMaterialType;\n    preciousMaterialGrade: PreciousMaterialGrade;\n\n    potencyRune: PotencyRuneType;\n\n    strikingRune?: StrikingRuneType;\n    resiliencyRune?: ResiliencyRuneType;\n\n    shieldType?: EquipmentType;\n\n    materials: ReturnType<typeof getValidMaterials>;\n    grades: ReturnType<typeof getValidMaterialGrades>;\n    runes: typeof ItemRunes[EquipmentType];\n    shieldTypes?: FormOption<EquipmentType>[];\n\n    hardness: number;\n    hitPoints: number;\n    brokenThreshold: number;\n    finalPrice: BasePriceData;\n    finalLevel: number;\n} & {\n    [T in PropertyRuneCreateKey]: PropertyRuneType;\n};\n\nexport const extendLootSheet = () => {\n    type ActorSheetConstructor = new (...args: any[]) => ActorSheet<ActorSheet.Options, any>;\n\n    // @ts-ignore\n    const BaseClass: ActorSheetConstructor = CONFIG.Actor.sheetClasses['loot'][`pf2e.${PF2E_LOOT_SHEET_NAME}`].cls;\n    class LootApp extends BaseClass {\n        static get defaultOptions() {\n            // @ts-ignore\n            const options = super.defaultOptions;\n            options.classes = options.classes ?? [];\n            options.classes = [...options.classes, 'pf2e-lootgen', 'loot-app'];\n            options.tabs = [\n                ...options.tabs,\n                {\n                    navSelector: '.loot-app-nav',\n                    contentSelector: '.loot-app-content',\n                    initial: 'settings',\n                },\n            ];\n            return options;\n        }\n\n        get title(): string {\n            return 'PF2E Loot Generator';\n        }\n\n        get template(): string {\n            return `modules/${MODULE_NAME}/templates/loot-app/index.html`;\n        }\n\n        // base item data dragged from somewhere\n        protected _createBaseItem: EquipmentItem | undefined;\n\n        protected get createBaseItem(): EquipmentItem | undefined {\n            if (this._createBaseItem) {\n                return duplicate(this._createBaseItem);\n            } else return undefined;\n        }\n\n        protected set createBaseItem(value: EquipmentItem | undefined) {\n            // delete local old base item to prevent memory leak\n            if (this.createBaseItem !== undefined && this.createBaseItem !== null) {\n                game.items?.delete(this.createBaseItem._id);\n            }\n\n            value = duplicate(value) as EquipmentItem;\n            value._id = foundry.utils.randomID(ITEM_ID_LENGTH);\n            value['flags'] = { ...value['flags'], [FLAGS_KEY]: { temporary: true } };\n\n            // @ts-ignore\n            const item: Item = new (game.items as Items).documentClass(value);\n            // @ts-ignore\n            game.items?.set(value._id, item);\n            this._createBaseItem = value;\n        }\n\n        // mapping of collapse-ids to hidden or not states\n        protected collapsibles: Record<string, boolean> = {};\n\n        protected getCreateFlag<T>(key: string): T | undefined {\n            return this.actor.getFlag(FLAGS_KEY, `create.${key}`) as T;\n        }\n\n        protected async getCreateData() {\n            if (this.createBaseItem === undefined) {\n                return {};\n            }\n            const equipmentType = getEquipmentType(this.createBaseItem);\n            if (equipmentType === undefined) {\n                return {};\n            }\n\n            let data: Partial<LootAppCreateData> = {};\n            data['type'] = equipmentType;\n            data['template'] = this.createBaseItem;\n            data['templateLink'] = `@Item[${this.createBaseItem._id}]`;\n\n            const materialGradeType = this.getCreateFlag<PreciousMaterialGrade>('preciousMaterialGrade') ?? PreciousMaterialGrade.None;\n            data['preciousMaterialGrade'] = materialGradeType;\n\n            const materialType = this.getCreateFlag<PreciousMaterialType>('preciousMaterial') ?? CREATE_KEY_NONE;\n            data['preciousMaterial'] = materialType;\n\n            const potencyRuneType = this.getCreateFlag<PotencyRuneType>('potencyRune') ?? '0';\n            data['potencyRune'] = potencyRuneType;\n\n            let fundamentalRune: FundamentalRuneType = '';\n            if (isWeapon(this.createBaseItem)) {\n                fundamentalRune = this.getCreateFlag<StrikingRuneType>('strikingRune') ?? '';\n                data['strikingRune'] = fundamentalRune;\n            }\n            if (isArmor(this.createBaseItem)) {\n                fundamentalRune = this.getCreateFlag<ResiliencyRuneType>('resiliencyRune') ?? '';\n                data['resiliencyRune'] = fundamentalRune;\n            }\n\n            const propertyRunes: [PropertyRuneType, PropertyRuneType, PropertyRuneType, PropertyRuneType] = ['', '', '', ''];\n            for (let i = 0; i < 4; i++) {\n                const key = `propertyRune${i + 1}` as PropertyRuneCreateKey;\n                propertyRunes[i] = this.getCreateFlag<PropertyRuneType>(key) ?? '';\n                data[key] = propertyRunes[i];\n            }\n\n            data['materials'] = getValidMaterials(this.createBaseItem);\n            data['grades'] = getValidMaterialGrades(this.createBaseItem, materialType);\n            data['runes'] = ItemRunes[equipmentType];\n\n            // switch here so the type is narrowed by ts properly\n            switch (equipmentType) {\n                case EquipmentType.Buckler:\n                case EquipmentType.Shield:\n                case EquipmentType.Tower:\n                    data['shieldType'] = equipmentType;\n                    data['shieldTypes'] = [EquipmentType.Buckler, EquipmentType.Shield, EquipmentType.Tower].map((type) => {\n                        return {\n                            slug: type,\n                            label: type.toString().capitalize(),\n                        };\n                    });\n                    break;\n            }\n\n            const dataUpdates = this.validateFlagData(this.createBaseItem);\n            data = mergeObject(data, dataUpdates);\n\n            const { price, level, hardness, hitPoints, brokenThreshold } = calculateFinalPriceAndLevel({\n                item: this.createBaseItem,\n                materialType,\n                materialGradeType,\n                potencyRune: potencyRuneType,\n                fundamentalRune: fundamentalRune,\n                propertyRunes: propertyRunes,\n            });\n\n            data['hardness'] = hardness;\n            data['hitPoints'] = hitPoints;\n            data['brokenThreshold'] = brokenThreshold;\n            data['finalPrice'] = { basePrice: price };\n            data['finalLevel'] = level;\n\n            const product = this.buildProduct(data as LootAppCreateData);\n            if (product) {\n                data['product'] = product;\n            }\n\n            return data;\n        }\n\n        protected buildProduct(data: LootAppCreateData): EquipmentItem | undefined {\n            const product = this.createBaseItem;\n            if (product === undefined) {\n                return undefined;\n            }\n\n            // setting this way to ensure it exists, armor does not contain this ATM but I expect it\n            // to be added to armors in later version of PF2E as automation continues to improve\n            product.data.specific = { value: true };\n\n            product.data.level.value = data.finalLevel;\n            product.data.price.value = `${data.finalPrice.basePrice} gp`;\n\n            product.data.preciousMaterial.value = data.preciousMaterial;\n            product.data.preciousMaterialGrade.value = data.preciousMaterialGrade;\n\n            product.data.propertyRune1.value = data.propertyRune1;\n            product.data.propertyRune2.value = data.propertyRune2;\n            product.data.propertyRune3.value = data.propertyRune3;\n            product.data.propertyRune4.value = data.propertyRune4;\n\n            if (isWeapon(product) && data.strikingRune) {\n                product.data.potencyRune.value = data.potencyRune;\n                product.data.strikingRune.value = data.strikingRune;\n            }\n            if (isArmor(product) && data.resiliencyRune) {\n                product.data.potencyRune.value = data.potencyRune;\n                product.data.resiliencyRune.value = data.resiliencyRune;\n            }\n\n            let newName: string = '';\n            if (data.potencyRune && data.potencyRune !== '0' && (data.potencyRune as string) !== '') {\n                newName = `+${data.potencyRune}`;\n            }\n            if (data.strikingRune && (data.strikingRune as string) !== '') {\n                newName += ` ${game.i18n.localize(CONFIG.PF2E.weaponStrikingRunes[data.strikingRune])}`;\n            }\n            if (data.resiliencyRune && (data.resiliencyRune as string) !== '') {\n                newName += ` ${game.i18n.localize(CONFIG.PF2E.armorResiliencyRunes[data.resiliencyRune])}`;\n            }\n\n            if (data.preciousMaterial && (data.preciousMaterial as string) !== '') {\n                newName += ` ${game.i18n.localize(CONFIG.PF2E.preciousMaterials[data.preciousMaterial])}`;\n            }\n\n            if (isWeapon(product)) {\n                for (let i = 1; i <= 4; i++) {\n                    const key = `propertyRune${i}` as PropertyRuneCreateKey;\n                    const value = data[key] as WeaponPropertyRuneType;\n                    if (value && (value as string) !== '') {\n                        newName += ` ${game.i18n.localize(CONFIG.PF2E.weaponPropertyRunes[value])}`;\n                    }\n                }\n            }\n            if (isArmor(product)) {\n                for (let i = 1; i <= 4; i++) {\n                    const key = `propertyRune${i}` as PropertyRuneCreateKey;\n                    const value = data[key] as ArmorPropertyRuneType;\n                    if (value && (value as string) !== '') {\n                        newName += ` ${game.i18n.localize(CONFIG.PF2E.armorPropertyRunes[value])}`;\n                    }\n                }\n            }\n\n            product.data.hardness.value = data.hardness;\n            product.data.hp.value = data.hitPoints;\n            product.data.maxHp.value = data.hitPoints;\n            product.data.brokenThreshold.value = data.brokenThreshold;\n\n            // update table description of shields\n            if (isShield(product)) {\n                let description = product.data.description.value;\n\n                const startLength = '<td>'.length;\n\n                const hardnessStart = description.indexOf('<td>') + startLength;\n\n                if (hardnessStart !== -1) {\n                    const hardnessEnd = description.indexOf('</td>', hardnessStart);\n                    description = description.slice(0, hardnessStart) + data.hardness + description.slice(hardnessEnd, description.length);\n\n                    const hitPointsStart = description.indexOf('<td>', hardnessStart) + startLength;\n                    const hitPointsEnd = description.indexOf('</td>', hitPointsStart);\n                    description = description.slice(0, hitPointsStart) + data.hitPoints + description.slice(hitPointsEnd, description.length);\n\n                    const breakThresholdStart = description.indexOf('<td>', hitPointsStart) + startLength;\n                    const breakThresholdEnd = description.indexOf('</td>', breakThresholdStart);\n                    description = description.slice(0, breakThresholdStart) + data.brokenThreshold + description.slice(breakThresholdEnd, description.length);\n\n                    product.data.description.value = description;\n                }\n            }\n\n            if (data.finalLevel === 25) {\n                product.data.traits.rarity.value = Rarity.Unique;\n            }\n\n            product.name = `${newName} ${product.name}`;\n            product._id = foundry.utils.randomID(ITEM_ID_LENGTH);\n\n            return product;\n        }\n\n        protected validateFlagData(item: EquipmentItem): Record<string, any> {\n            const dataUpdates: Record<string, any> = {};\n            let equipmentType = getEquipmentType(item)!;\n\n            let preciousMaterialType = this.getCreateFlag<PreciousMaterialType>('preciousMaterial');\n            let preciousMaterialGradeType = this.getCreateFlag<PreciousMaterialGrade>('preciousMaterialGrade');\n\n            if (!preciousMaterialGradeType) {\n                preciousMaterialGradeType = PreciousMaterialGrade.None;\n            }\n\n            if (preciousMaterialType) {\n                let preciousMaterial = ItemMaterials[preciousMaterialType];\n                if (!preciousMaterial.hasOwnProperty(equipmentType)) {\n                    preciousMaterialType = '';\n                    dataUpdates['preciousMaterial'] = preciousMaterialType;\n                }\n\n                const validGrades = getValidMaterialGrades(item, preciousMaterialType);\n                if (!validGrades.hasOwnProperty(preciousMaterialGradeType)) {\n                    preciousMaterialGradeType = preciousMaterial.defaultGrade;\n                    dataUpdates['preciousMaterialGrade'] = preciousMaterialGradeType;\n                }\n            }\n\n            let potencyRuneType = this.getCreateFlag<PotencyRuneType>('potencyRune');\n            // when initializing we can have empty string technically\n            if ((potencyRuneType as string) === '') {\n                potencyRuneType = '0';\n            }\n            if (potencyRuneType) {\n                const potencyValue = parseInt(potencyRuneType);\n\n                if (potencyValue < 4) {\n                    dataUpdates['propertyRune4'] = '';\n                }\n                if (potencyValue < 3) {\n                    dataUpdates['propertyRune3'] = '';\n                }\n                if (potencyValue < 2) {\n                    dataUpdates['propertyRune2'] = '';\n                }\n                if (potencyValue < 1) {\n                    dataUpdates['propertyRune1'] = '';\n                    dataUpdates['strikingRune'] = '';\n                    dataUpdates['resiliencyRune'] = '';\n                }\n            }\n\n            if (!isObjectEmpty(dataUpdates)) {\n                const flagUpdates: Record<string, any> = {};\n                for (const [key, value] of Object.entries(dataUpdates)) {\n                    flagUpdates[createFlagPath(key, true)] = value;\n                }\n                this.actor.update(flagUpdates);\n            }\n            return dataUpdates;\n        }\n\n        public async getData(options?: ActorSheet.Options) {\n            const data = (await super.getData(options)) as Record<string, any>;\n\n            data['constants'] = {\n                rangeMin: 1,\n                rangeMax: 25,\n            };\n            data['collapsibles'] = { ...data['collapsibles'], ...this.collapsibles };\n\n            const getFilter = (filter: AppFilter): AppFilter => getFilterSettings(this.actor, filter);\n            data['filters'] = {\n                spell: {\n                    school: Object.values(spellSchoolFilters).map(getFilter),\n                    level: Object.values(spellLevelFilters).map(getFilter),\n                    tradition: Object.values(spellTraditionFilters).map(getFilter),\n                    rarity: Object.values(spellRarityFilters).map(getFilter),\n                },\n            };\n\n            const getSource = (source: DataSource): DataSource => getDataSourceSettings(this.actor, source);\n            data['sources'] = {\n                [GenType.Consumable]: Object.values(consumableSources).map(getSource),\n                [GenType.Permanent]: Object.values(permanentSources).map(getSource),\n                [GenType.Treasure]: Object.values(treasureSources).map(getSource),\n                [GenType.Spell]: Object.values(spellSources).map(getSource),\n            };\n\n            data['flags'] = {\n                ...data['flags'],\n                ...data['actor']['flags'][FLAGS_KEY],\n            };\n\n            data['create'] = await this.getCreateData();\n\n            return data;\n        }\n\n        private async createItems(datas: PF2EItem[]) {\n            //@ts-ignore\n            await this.actor.createEmbeddedDocuments('Item', datas);\n        }\n\n        private async updateItems(datas: PF2EItem[]) {\n            //@ts-ignore\n            await this.actor.updateEmbeddedDocuments('Item', datas);\n        }\n\n        /**\n         * Create a group of items from a draw result\n         * @param event\n         * @param results\n         * @private\n         */\n        private async createItemsFromDraw(event: JQuery.ClickEvent, results: DrawResult[]) {\n            let itemsToUpdate: PF2EItem[] | undefined = undefined;\n            let itemsToCreate = results.map((d) => d.itemData);\n            await maybeOutputItemsToChat(itemsToCreate as PhysicalItem[]);\n            if (ModuleSettings.instance.get(FEATURE_ALLOW_MERGING)) {\n                const existing = this.actor.data.items.map((item) => item.data as PF2EItem);\n                [itemsToUpdate, itemsToCreate] = mergeExistingStacks(existing, itemsToCreate);\n            } else {\n                itemsToCreate = mergeStacks(itemsToCreate);\n            }\n\n            itemsToCreate = maybeMystifyItems(event, ...(itemsToCreate as PhysicalItem[]));\n            itemsToCreate.sort((a, b) => a.data.slug.localeCompare(b.data.slug));\n\n            if (itemsToUpdate !== undefined) {\n                await this.updateItems(itemsToUpdate);\n            }\n            await this.createItems(itemsToCreate);\n        }\n\n        /**\n         * Helper function to retrieve certain settings from the flags store.\n         * @param type The type of the setting, since these settings are duplicated over the three generator types.\n         * @param key The setting key.\n         * @private\n         */\n        private getLootAppSetting<T = any>(type: GenType, key: LootAppSetting): T {\n            return this.actor.getFlag(MODULE_NAME, `config.${type}.${key}`) as T;\n        }\n\n        protected override async _onDropItem(event: any, data: any) {\n            const dragEvent: DragEvent = event as DragEvent;\n            const dropRegion = $(this.element).find('div.template-drop');\n            const dropTarget = dropRegion.find(dragEvent.target as any);\n\n            const isTemplateDrop = dropTarget.length > 0;\n\n            if (isTemplateDrop) {\n                const item = (await Item.fromDropData(data))?.data as PF2EItem;\n\n                if ((isWeapon(item) && item.data.group.value !== 'bomb') || isArmor(item)) {\n                    this.createBaseItem = item;\n                    await this.actor.unsetFlag(FLAGS_KEY, 'create');\n                } else {\n                    ui.notifications?.warn('The item creator only supports weapons, armor, and shields right now.');\n                    return;\n                }\n\n                const flags: Record<string, any> = {};\n                if (isEquipment(item)) {\n                    flags['preciousMaterial'] = item.data.preciousMaterial.value ?? '';\n                    flags['preciousMaterialGrade'] = item.data.preciousMaterialGrade.value ?? PreciousMaterialGrade.Standard;\n                    flags['propertyRune1'] = item.data.propertyRune1.value ?? '';\n                    flags['propertyRune2'] = item.data.propertyRune2.value ?? '';\n                    flags['propertyRune3'] = item.data.propertyRune3.value ?? '';\n                    flags['propertyRune4'] = item.data.propertyRune4.value ?? '';\n                    flags['potencyRune'] = item.data.potencyRune.value ?? '';\n\n                    if (isWeapon(item)) {\n                        flags['strikingRune'] = item.data.strikingRune.value ?? '';\n                    } else if (isArmor(item)) {\n                        flags['resiliencyRune'] = item.data.resiliencyRune.value ?? '';\n                    }\n\n                    if (isShield(item)) {\n                        flags['shieldType'] = getEquipmentType(item);\n                    }\n                }\n\n                await this.actor.setFlag(FLAGS_KEY, 'create', flags);\n\n                return;\n            }\n\n            return super._onDropItem(event, data);\n        }\n\n        public async activateListeners(html: JQuery) {\n            super.activateListeners(html);\n\n            // Since all our data is derived from the form, for simplicity of code if the\n            //  data has never been set, e.g. the user has never interacted with the form,\n            //  we will submit the form to get a default set of data stored on the server.\n            //  This is done in activateListeners so we can ensure we get the proper HTML\n            //  to derive the form data from.\n            if (!this.actor.getFlag(MODULE_NAME, 'config')) {\n                await this._updateObject(new Event('submit'), this._getSubmitData());\n            }\n\n            // TODO: Move to utility file\n            /**\n             * Calculate quick roll count by checking event modifiers and the module settings.\n             * @param event\n             */\n            const getQuickRollCount = (event: JQuery.ClickEvent): number => {\n                if (!ModuleSettings.instance.get(FEATURE_QUICK_ROLL_MODIFIERS)) {\n                    return 1;\n                }\n\n                let count = 1;\n                if (event.shiftKey) {\n                    count *= ModuleSettings.instance.get(FEATURE_QUICK_ROLL_SHIFT) as number;\n                }\n                if (event.ctrlKey) {\n                    count *= ModuleSettings.instance.get(FEATURE_QUICK_ROLL_CONTROL) as number;\n                }\n                return count;\n            };\n            /**\n             * Get the closest container and element for an event.\n             * @param event\n             */\n            const getContainer = (event: JQuery.ClickEvent) => {\n                const element = $(event.currentTarget);\n                const container = element.closest('.tab-container');\n                return { element, container };\n            };\n\n            const getType = (event: JQuery.ClickEvent) => {\n                const { container } = getContainer(event);\n                return container.data('type') as GenType;\n            };\n\n            // group roll button\n            html.find('.buttons .roll').on('click', async (event) => {\n                event.preventDefault();\n                event.stopPropagation();\n\n                const { container } = getContainer(event);\n                const type = container.data('type') as GenType;\n\n                const sources = Object.values(dataSourcesOfType(type))\n                    .map((source) => getDataSourceSettings(this.actor, source))\n                    .filter((table) => table.enabled);\n\n                let results = await drawFromSources(this.getLootAppSetting<number>(type, LootAppSetting.Count), sources);\n                results = await rollTreasureValues(results);\n\n                await this.createItemsFromDraw(event, results);\n            });\n            // quick roll button for sources\n            html.find('.treasure i.quick-roll, .permanent i.quick-roll, .consumable i.quick-roll').on('click', async (event) => {\n                event.preventDefault();\n                event.stopPropagation();\n\n                const element = $(event.currentTarget).closest('.source-wrapper');\n                const source: DataSource = element.data('source');\n\n                let results = await drawFromSources(getQuickRollCount(event), [source]);\n                results = await rollTreasureValues(results);\n\n                await this.createItemsFromDraw(event, results);\n            });\n\n            const rollSpells = async (event: JQuery.ClickEvent, consumableTypes: SpellItemType[]) => {\n                event.preventDefault();\n                event.stopPropagation();\n\n                const promises: Promise<Item[]>[] = [];\n                for (const source of Object.values(spellSources)) {\n                    const pack = game.packs.get(source.id);\n                    if (pack === undefined) {\n                        continue;\n                    }\n                    // noinspection ES6MissingAwait\n                    promises.push(pack.getDocuments() as Promise<Item[]>);\n                }\n\n                const levelFilters = Object.values(spellLevelFilters)\n                    .map((filter) => getFilterSettings(this.actor, filter))\n                    .filter((filter) => filter.enabled)\n                    .map((filter) => new NumberFilter('data.level.value', filter.desiredValue as number, filter.weight, EqualityType.EqualTo));\n                const schoolFilters = Object.values(spellSchoolFilters)\n                    .map((filter) => getFilterSettings(this.actor, filter))\n                    .filter((filter) => filter.enabled)\n                    .map((filter) => new StringFilter('data.school.value', filter.desiredValue as string, filter.weight));\n                const traditionFilters = Object.values(spellTraditionFilters)\n                    .map((filter) => getFilterSettings(this.actor, filter))\n                    .filter((filter) => filter.enabled)\n                    .map((filter) => new ArrayIncludesFilter('data.traditions.value', filter.desiredValue as string, filter.weight));\n                const rarityFilters = Object.values(spellRarityFilters)\n                    .map((filter) => getFilterSettings(this.actor, filter))\n                    .filter((filter) => filter.enabled)\n                    .map((filter) => new StringFilter('data.traits.rarity.value', filter.desiredValue as string, filter.weight));\n\n                const isLevel = new OrGroup([...levelFilters]);\n                const isSchool = new OrGroup([...schoolFilters]);\n                const isTradition = new OrGroup([...traditionFilters]);\n                const isRarity = new OrGroup([...rarityFilters]);\n                const isEnabled = new AndGroup([isLevel, isSchool, isTradition, isRarity]);\n                const filters: WeightedFilter<number | string>[] = [...levelFilters, ...schoolFilters, ...traditionFilters, ...rarityFilters];\n\n                let spells = (await Promise.all(promises)).flat().map((spell) => spell.data) as unknown as PF2EItem[];\n                spells = spells.filter((spell) => isEnabled.isSatisfiedBy(spell));\n\n                const sources: Record<number, PoolSource> = {};\n                for (const entry of spells) {\n                    const weight = filters.reduce((prev, curr) => (curr.isSatisfiedBy(entry) ? prev + curr.weight : prev), 0);\n                    if (!sources.hasOwnProperty(weight)) {\n                        sources[weight] = {\n                            id: null,\n                            storeId: null,\n                            enabled: true,\n                            sourceType: SourceType.Pool,\n                            weight: weight,\n                            elements: [],\n                        };\n                    }\n                    sources[weight].elements.push(entry);\n                }\n\n                if (Object.values(sources).length === 0) {\n                    // TODO: Localization\n                    ui.notifications?.warn('The current filters excluded all spells.', { permanent: true });\n                    return;\n                }\n\n                const drawnSpells = await drawFromSources(this.getLootAppSetting<number>(GenType.Spell, LootAppSetting.Count), Object.values(sources));\n\n                let createdItems = (await createSpellItems(drawnSpells, consumableTypes)) as PhysicalItem[];\n                createdItems = maybeMystifyItems(event, ...createdItems);\n\n                // TODO: Join stacks, slug needs updating to do so.\n\n                await this.createItems(createdItems);\n                await maybeOutputItemsToChat(createdItems);\n            };\n\n            // roll scrolls\n            html.find('.buttons .roll-scroll').on('click', async (event) => {\n                await rollSpells(event, [SpellItemType.Scroll]);\n            });\n            // roll wands\n            html.find('.buttons .roll-wand').on('click', async (event) => {\n                await rollSpells(event, [SpellItemType.Wand]);\n            });\n            // roll scrolls + wands\n            html.find('.buttons .roll-both').on('click', async (event) => {\n                await rollSpells(event, [SpellItemType.Scroll, SpellItemType.Wand]);\n            });\n\n            // create item\n            html.find('#create-item').on('click', async (event) => {\n                const createData = await this.getCreateData();\n                if (!createData.product) {\n                    return;\n                }\n\n                [createData.product] = maybeMystifyItems(event, createData.product) as EquipmentItem[];\n\n                await this.createItems([createData.product]);\n            });\n            // clear loot\n            html.find('button.clear-loot').on('click', async (event) => {\n                event.preventDefault();\n                event.stopPropagation();\n\n                await this.actor.deleteEmbeddedDocuments(\n                    'Item',\n                    this.actor.items.map((item) => item.id!),\n                );\n            });\n\n            /**\n             * Handle a settings update event, e.g. one of the check all, check none, or reset buttons are pressed.\n             * @param event The triggering even.\n             * @param keys The keys that should be updated.\n             * @param values The values that should be placed in those keys.\n             */\n            const settingsUpdate = async (event: JQuery.ClickEvent, keys: SetValueKeys[], values: any[]): Promise<void> => {\n                event.preventDefault();\n                event.stopPropagation();\n\n                let updateData = buildSourceSettingUpdate(this.actor, getType(event), keys, values);\n                if (getType(event) === GenType.Spell) {\n                    updateData = { ...updateData, ...buildFilterSettingUpdate(this.actor, FilterType.SpellSchool, keys, values) };\n                    updateData = { ...updateData, ...buildFilterSettingUpdate(this.actor, FilterType.SpellLevel, keys, values) };\n                    updateData = { ...updateData, ...buildFilterSettingUpdate(this.actor, FilterType.SpellTradition, keys, values) };\n                }\n                await this.actor.update(updateData);\n            };\n\n            // check-all button\n            html.find('.buttons .check-all').on('click', async (event) => {\n                await settingsUpdate(event, ['enabled'], [true]);\n            });\n            // check-none button\n            html.find('.buttons .check-none').on('click', async (event) => {\n                await settingsUpdate(event, ['enabled'], [false]);\n            });\n            // reset button\n            html.find('.buttons .reset').on('click', async (event) => {\n                await settingsUpdate(event, ['weight', 'enabled'], [1, true]);\n            });\n\n            // collapsibles\n            html.find('.collapsible h4').on('click', async (event) => {\n                const header = $(event.currentTarget);\n                const container = header.closest('.collapsible');\n                const wrapper = header.next('.collapse-content');\n\n                const id: string = container.data('collapse-id');\n                wrapper.toggle('fast', 'swing', () => {\n                    this.collapsibles[id] = wrapper.css('display') === 'none';\n                });\n            });\n        }\n    }\n    return LootApp;\n};\n","/*\n * Copyright 2021 Andrew Cuccinello\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n *\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { permanentSources } from './source/Permanent';\nimport { consumableSources } from './source/Consumable';\nimport { isTreasureSource, TreasureSource, treasureSources } from './source/Treasure';\nimport { scrollTemplateIds, SpellItemType, spellSources, TEMPLATE_PACK_ID, wandTemplateIds } from './source/Spells';\nimport { DataSource, GenType, getPack, isPackSource, isPoolSource, isTableSource } from './source/DataSource';\nimport { AppFilter, FilterType, spellLevelFilters, spellRarityFilters, spellSchoolFilters, spellTraditionFilters } from './Filters';\nimport {\n    ConsumableItem,\n    EquipmentItem,\n    EquipmentType,\n    isArmor,\n    isPhysicalItem,\n    isShield,\n    isSpell,\n    isTreasure,\n    isWeapon,\n    PF2EItem,\n    PhysicalItem,\n    PreciousMaterialGrade,\n    PreciousMaterialType,\n    PriceString,\n    PropertyRuneType,\n    Shield,\n    SpellItem,\n} from '../../types/PF2E';\nimport { isWeaponArmorData, ItemMaterials } from './data/Materials';\nimport { FundamentalRuneType, ItemRunes, PotencyRuneType } from './data/Runes';\nimport { DocumentClassForCompendiumMetadata } from '@league-of-foundry-developers/foundry-vtt-types/src/foundry/foundry.js/collections/documentCollections/compendiumCollection';\nimport { MODULE_NAME, QUICK_MYSTIFY, TOOLBOX_NAME } from '../Constants';\nimport { ChatMessageDataConstructorData } from '@league-of-foundry-developers/foundry-vtt-types/src/foundry/common/data/data.mjs/chatMessageData';\nimport { DiceRollMode } from '@league-of-foundry-developers/foundry-vtt-types/src/foundry/common/constants.mjs';\nimport ModuleSettings from '../../../FVTT-Common/src/module/ModuleSettings';\nimport { FEATURE_OUTPUT_LOOT_ROLLS, FEATURE_OUTPUT_LOOT_ROLLS_WHISPER } from '../Setup';\n\n/**\n * Returns distinct elements of an array when used to filter an array.\n * @param value\n * @param index\n * @param array\n */\nexport function distinct<T>(value: T, index: number, array: T[]): boolean {\n    return array.indexOf(value) === index;\n}\n\n/**\n * Choose a random element from the array.\n * @param choices The array of choices.\n */\nfunction chooseFromArray<T>(choices: T[]): T {\n    return choices[Math.floor(Math.random() * choices.length)];\n}\n\n/**\n * Return the correct source map for the given item type.\n * @param type Type of sources to fetch.\n */\nexport function dataSourcesOfType(type: GenType): Record<string, DataSource> {\n    switch (type) {\n        case GenType.Treasure:\n            return treasureSources;\n        case GenType.Permanent:\n            return permanentSources;\n        case GenType.Consumable:\n            return consumableSources;\n        case GenType.Spell:\n            return spellSources;\n    }\n}\n\nexport function filtersOfType(type: FilterType): Record<string, AppFilter> {\n    switch (type) {\n        case FilterType.SpellSchool:\n            return spellSchoolFilters;\n        case FilterType.SpellLevel:\n            return spellLevelFilters;\n        case FilterType.SpellTradition:\n            return spellTraditionFilters;\n        case FilterType.SpellRarity:\n            return spellRarityFilters;\n    }\n}\n\n/**\n * Get an item with an id of itemId from the pack with id packId.\n * @param packId\n * @param itemId\n */\nexport async function getItemFromPack<T = DocumentClassForCompendiumMetadata<CompendiumCollection.Metadata>>(\n    packId: string,\n    itemId: string,\n): Promise<T | undefined> {\n    const pack = await game.packs?.get(packId);\n    if (pack === undefined) {\n        return undefined;\n    }\n    const result = await pack.getDocument(itemId);\n    if (!result) {\n        return undefined;\n    }\n    return result as unknown as T;\n}\n\nexport interface DrawOptions {}\nexport interface DrawResult {\n    itemData: PF2EItem;\n    source: DataSource;\n}\nexport interface SpellDrawResult extends DrawResult {}\n\n/**\n * Draw from a series of data sources and return the item data for the items drawn, along with their source tables.\n * @param count The number of items to draw.\n * @param sources The data sources available to be drawn from.\n * @param options Options\n */\nexport async function drawFromSources(count: number, sources: DataSource[], options?: DrawOptions): Promise<DrawResult[]> {\n    if (options === undefined) {\n        options = {};\n    }\n\n    if (sources.length === 0) {\n        return [];\n    }\n    sources = duplicate(sources) as DataSource[];\n\n    let weightTotal = 0;\n    sources.forEach((source) => {\n        weightTotal += source.weight;\n        source.weight = weightTotal;\n    });\n\n    const chooseSource = () => {\n        let choice = sources[0];\n        const random = Math.random() * weightTotal;\n        for (let i = 1; i < sources.length; i++) {\n            if (random < choice.weight) break;\n            choice = sources[i];\n        }\n        return choice;\n    };\n\n    const results: DrawResult[] = [];\n    for (let i = 0; i < count; i++) {\n        const source = chooseSource();\n\n        let item: PF2EItem | undefined;\n        if (isTableSource(source)) {\n            const table = await getItemFromPack<RollTable>(source.tableSource.id, source.id);\n\n            // @ts-ignore\n            const draw: any = await table.roll({ roll: null, recursive: true });\n            const [result]: [LootTableResult] = draw.results;\n\n            if (result.data.resultId) {\n                item = await getItemFromPack(result.data.collection, result.data.resultId);\n            } else {\n                // TODO: Create random weapons/armor/gear of rolled type\n                i -= 1;\n                continue;\n            }\n        } else if (isPackSource(source)) {\n            // @ts-ignore\n            const itemId: string = chooseFromArray(getPack(source).index.contents).key;\n            item = await getItemFromPack(source.id, itemId);\n        } else if (isPoolSource(source)) {\n            item = chooseFromArray(source.elements);\n        } else {\n            throw new Error(`Unknown source type: ${source.sourceType}`);\n        }\n\n        if (item === undefined) {\n            i -= 1;\n            continue;\n        }\n\n        results.push({\n            itemData: item,\n            source: source,\n        });\n    }\n\n    return results;\n}\n\nexport async function createSpellItems(itemDatas: DrawResult[], itemTypes: SpellItemType[]): Promise<PF2EItem[]> {\n    itemDatas = duplicate(itemDatas) as DrawResult[];\n\n    const itemType = (draw: DrawResult): SpellItemType | undefined => {\n        if (draw.itemData.data.level?.value === 10) {\n            if (itemTypes.includes(SpellItemType.Scroll)) {\n                return SpellItemType.Scroll;\n            } else {\n                return undefined;\n            }\n        }\n        return chooseFromArray(itemTypes);\n    };\n\n    const itemName = (itemData: PF2EItem, type: SpellItemType): string => {\n        // TODO: Localization\n        switch (type) {\n            case SpellItemType.Scroll:\n                return `Scroll of ${itemData.name} (Level ${itemData.data.level?.value})`;\n            case SpellItemType.Wand:\n                return `Wand of ${itemData.name} (Level ${itemData.data.level?.value})`;\n        }\n    };\n\n    const templates: Record<SpellItemType, ConsumableItem[]> = {\n        [SpellItemType.Wand]: (await Promise.all(\n            Object.values(wandTemplateIds).map((id) => getItemFromPack<ConsumableItem>(TEMPLATE_PACK_ID, id)),\n        )) as ConsumableItem[],\n        [SpellItemType.Scroll]: (await Promise.all(\n            Object.values(scrollTemplateIds).map((id) => getItemFromPack<ConsumableItem>(TEMPLATE_PACK_ID, id)),\n        )) as ConsumableItem[],\n    };\n\n    let wandMessage: boolean = false;\n    const results: PF2EItem[] = [];\n    while (itemDatas.length > 0) {\n        const drawResult = itemDatas.shift() as DrawResult;\n        const type = itemType(drawResult);\n\n        if (type === undefined) {\n            if (!wandMessage) {\n                ui.notifications?.warn(`Cannot create a magic wand for provided spell: ${drawResult.itemData.name}`);\n                wandMessage = true;\n            }\n            continue;\n        }\n\n        if (isSpell(drawResult.itemData)) {\n            const spellData = drawResult.itemData as SpellItem;\n            const template = duplicate(templates[type][drawResult.itemData.data.level.value - 1]) as ConsumableItem;\n            template.data.traits.value.push(...spellData.data.traditions.value);\n            template.data.traits.rarity.value = spellData.data.traits.rarity.value;\n            template.name = itemName(spellData, type);\n\n            const description = template.data.description.value;\n            template.data.description.value = `@Compendium[pf2e.spells-srd.${spellData._id}]{${spellData.name}}\\n<hr/>${description}`;\n            template.data.spell = {\n                data: duplicate(spellData) as SpellItem,\n                heightenedLevel: spellData.data.level.value,\n            };\n\n            results.push(template);\n        }\n    }\n\n    return results;\n}\n\n/**\n * Roll and create a new set of item data for the values of treasure items in the results\n * @param results The results to duplicate and then modify\n */\nexport async function rollTreasureValues(results: DrawResult[]) {\n    const rollValue = async (source: TreasureSource): Promise<number> => {\n        const roll = await new Roll(source.value).roll({ async: true });\n        return roll.total!;\n    };\n\n    results = duplicate(results) as DrawResult[];\n    for (const result of results) {\n        if (isTreasureSource(result.source) && isTreasure(result.itemData)) {\n            result.itemData.data.value.value = await rollValue(result.source);\n        }\n    }\n\n    return results;\n}\n\nexport async function maybeOutputItemsToChat(results: PhysicalItem[]) {\n    if (!ModuleSettings.instance.get<boolean>(FEATURE_OUTPUT_LOOT_ROLLS)) {\n        return;\n    }\n\n    results = mergeStacks(results) as PhysicalItem[];\n\n    const data: Record<string, any> = {};\n    data['description'] = `Rolled ${results.length} items.`;\n    data['results'] = results.map((item) => {\n        return {\n            id: item._id,\n            icon: item.img,\n            text: `@Compendium[pf2e.equipment-srd.${item._id}]{${item.data.quantity.value}x ${item.name}}`,\n        };\n    });\n\n    const template = await renderTemplate(`modules/${MODULE_NAME}/templates/chat/table-output.html`, data);\n\n    const rollModeArgs: Partial<ChatMessageDataConstructorData> = {};\n    const gmIds = game.users!.filter((user) => user.isGM).map((user) => user.id!);\n    let rollMode = game.settings.get('core', 'rollMode') as DiceRollMode;\n    if (ModuleSettings.instance.get<boolean>(FEATURE_OUTPUT_LOOT_ROLLS_WHISPER)) {\n        rollMode = 'gmroll';\n    }\n\n    switch (rollMode) {\n        case 'blindroll':\n            rollModeArgs.blind = true;\n            rollModeArgs.whisper = gmIds;\n            break;\n        case 'roll':\n            break;\n        case 'selfroll':\n            rollModeArgs.whisper = [game.user?.id!];\n            break;\n        case 'gmroll':\n            rollModeArgs.whisper = gmIds;\n            break;\n    }\n\n    await ChatMessage.create({\n        user: game.user?.id!,\n        content: template,\n        ...rollModeArgs,\n    });\n}\n\nexport interface MergeStacksOptions {\n    /**\n     * Should values be compared when determining uniqueness?\n     */\n    compareValues?: boolean;\n}\n\n/**\n * Get a function that correctly fetches a slug from an item data given the options.\n * @param options\n */\nconst getSlugFunction = (options: MergeStacksOptions) => {\n    // Our slugs are human readable unique ids, in our case when we want to\n    // compare the values as well we can append the value to the slug and get\n    // a pseudo-hash to use for comparison instead\n    let getSlug: (i: PF2EItem) => string;\n    if (options.compareValues) {\n        getSlug = (i: PF2EItem) => {\n            if (isPhysicalItem(i)) {\n                // TODO: Need to convert currency types.\n                return `${i.data.slug}-${i.data.price}`;\n            } else {\n                return i.data.slug;\n            }\n        };\n    } else {\n        getSlug = (i) => i.data.slug;\n    }\n    return getSlug;\n};\n\n/**\n *  * Takes two sets of itemDatas, and attempts to merge all the new datas into the old datas.\n * Returns an array of items that were unable to be merges\n * @param oldDatas\n * @param newDatas\n * @param options\n * @returns [merged, remaining]\n *  merged: The successfully merged old + new items\n *  remaining: items that could not be merged.\n */\nexport function mergeExistingStacks(oldDatas: PF2EItem[], newDatas: PF2EItem[], options?: MergeStacksOptions) {\n    if (options === undefined) {\n        options = { compareValues: true };\n    }\n\n    const getSlug = getSlugFunction(options);\n\n    oldDatas = duplicate(oldDatas) as PF2EItem[];\n    newDatas = duplicate(newDatas) as PF2EItem[];\n\n    const oldSlugs = oldDatas.map(getSlug);\n    const newSlugs = newDatas.map(getSlug);\n\n    for (let i = newSlugs.length - 1; i >= 0; i--) {\n        const index = oldSlugs.indexOf(newSlugs[i]);\n        if (index === -1) continue;\n\n        const sourceItem = oldDatas[index];\n        const targetItem = newDatas[i];\n\n        if (!isPhysicalItem(sourceItem)) continue;\n        if (!isPhysicalItem(targetItem)) continue;\n\n        mergeItem(sourceItem, targetItem);\n        newDatas.splice(i, 1);\n    }\n\n    newDatas = mergeStacks(newDatas, options);\n\n    return [oldDatas, newDatas];\n}\n\n/**\n * Merge an array of item datas into a set of stacked items of the same slug\n *  and optionally also compare and do not merge items based on provided options.\n * @param itemDatas\n * @param options\n */\nexport function mergeStacks(itemDatas: PF2EItem[], options?: MergeStacksOptions) {\n    if (options === undefined) {\n        options = { compareValues: true };\n    }\n\n    itemDatas = duplicate(itemDatas) as PF2EItem[];\n\n    const getSlug = getSlugFunction(options);\n\n    let allSlugs: string[] = itemDatas.map(getSlug);\n    const unqSlugs = allSlugs.filter(distinct);\n    for (const slug of unqSlugs) {\n        // we'll keep the first item in the array, and discard the rest\n        const first = allSlugs.indexOf(slug);\n        const sourceItem = itemDatas[first];\n\n        if (!isPhysicalItem(sourceItem)) continue;\n\n        for (let i = itemDatas.length - 1; i > first; i--) {\n            const targetItem = itemDatas[i];\n\n            if (!isPhysicalItem(targetItem)) continue;\n            if (getSlug(targetItem) !== slug) continue;\n\n            mergeItem(sourceItem, targetItem);\n\n            itemDatas.splice(i, 1);\n            allSlugs.splice(i, 1);\n        }\n    }\n\n    return itemDatas;\n}\n\n/**\n * Merge item a IN PLACE by incrementing it's quantity by item b's quantity.\n * @param a The target item\n * @param b The item to increase the target by\n */\nexport function mergeItem(a: PhysicalItem, b: PhysicalItem) {\n    a.data.quantity.value += b.data.quantity.value;\n}\n\n/**\n * Parse a price ending in {cp|sp|gp|pp} to gp\n * @param price\n */\nexport function parsePrice(price: PriceString): number {\n    const multiples: Record<string, number> = {\n        cp: 1 / 100,\n        sp: 1 / 10,\n        gp: 1,\n        pp: 10,\n    };\n\n    const matches = price.toLowerCase().match(/([0-9]+)(.*)(cp|sp|gp|pp)/);\n    if (matches === null) {\n        return 0;\n    }\n\n    return parseInt(matches[1].trim()) * multiples[matches[3].trim()];\n}\n\n/**\n * Parse a weight string, returning an absolute numeric representation of the weight\n * @param item\n */\nexport function getItemBulkMultiplier(item: PhysicalItem): number {\n    const weightString = item.data.weight.value.trim().toLowerCase();\n    if (weightString.endsWith('l')) {\n        return parseInt(weightString.substr(weightString.length - 1)) / 10;\n    } else {\n        return parseInt(weightString);\n    }\n}\n\n/**\n * Select the correct EquipmentType for this item\n * @param item\n */\nexport function getEquipmentType(item: PF2EItem): EquipmentType | undefined {\n    if (isWeapon(item)) {\n        return EquipmentType.Weapon;\n    } else if (isShield(item)) {\n        return inferShieldType(item) ?? EquipmentType.Shield;\n    } else if (isArmor(item)) {\n        return EquipmentType.Armor;\n    } else {\n        return undefined;\n    }\n}\n\n/**\n * Infer shield type from ac/bulk\n * @param item\n */\nexport function inferShieldType(item: Shield): EquipmentType | undefined {\n    if (item.data.armor.value === 1) {\n        return EquipmentType.Buckler;\n    }\n\n    try {\n        // out of the remaining shields, towers have a bulk more than 1\n        const bulk = parseInt(item.data.weight.value);\n        if (bulk > 1) {\n            return EquipmentType.Tower;\n        } else {\n            return EquipmentType.Shield;\n        }\n    } catch (e) {\n        return undefined;\n    }\n}\n\ninterface FinalPriceAndLevelArgs {\n    item: EquipmentItem;\n    materialType: PreciousMaterialType;\n    materialGradeType: PreciousMaterialGrade;\n    potencyRune: PotencyRuneType;\n    fundamentalRune: FundamentalRuneType;\n    propertyRunes: [PropertyRuneType, PropertyRuneType, PropertyRuneType, PropertyRuneType];\n}\ninterface FinalPriceAndLevelResults {\n    level: number;\n    price: number;\n    hardness: number;\n    hitPoints: number;\n    brokenThreshold: number;\n}\n\n/**\n * Given an item and a set of changes, compute the final price and level of the item.\n * @param args\n */\nexport function calculateFinalPriceAndLevel(args: FinalPriceAndLevelArgs): FinalPriceAndLevelResults {\n    const equipmentType = getEquipmentType(args.item);\n    if (equipmentType === undefined) {\n        return {\n            level: 0,\n            price: 0,\n            hardness: 0,\n            hitPoints: 0,\n            brokenThreshold: 0,\n        };\n    }\n\n    let finalLevel = args.item.data.level.value;\n    let finalPrice = parsePrice(args.item.data.price.value);\n    let finalHardness = args.item.data.hardness.value;\n    let finalHitPoints = args.item.data.hp.value;\n    let finalBreakThreshold = args.item.data.brokenThreshold.value;\n\n    const materialData = ItemMaterials[args.materialType][equipmentType]?.[args.materialGradeType];\n    if (materialData) {\n        finalLevel = Math.max(finalLevel, materialData.level);\n        finalPrice += materialData.price.basePrice;\n        if (isWeaponArmorData(materialData)) {\n            finalPrice += materialData.price.bulkPrice * getItemBulkMultiplier(args.item);\n        } else {\n            finalHardness = materialData.durability.hardness;\n            finalHitPoints = materialData.durability.hitPoints;\n            finalBreakThreshold = materialData.durability.brokenThreshold;\n        }\n    }\n\n    const potencyRuneData = ItemRunes[equipmentType]['potency']?.[args.potencyRune];\n    if (potencyRuneData) {\n        finalLevel = Math.max(finalLevel, potencyRuneData.level);\n        finalPrice += potencyRuneData.price.basePrice;\n    }\n\n    for (const propertyRuneType of args.propertyRunes) {\n        const propertyRuneData = ItemRunes[equipmentType]['property'][propertyRuneType];\n        if (propertyRuneData) {\n            finalLevel = Math.max(finalLevel, propertyRuneData.level);\n            finalPrice += propertyRuneData.price.basePrice;\n        }\n    }\n\n    const fundamentalRuneData = ItemRunes[equipmentType]['fundamental'][args.fundamentalRune];\n    if (fundamentalRuneData) {\n        finalLevel = Math.max(finalLevel, fundamentalRuneData.level);\n        finalPrice += fundamentalRuneData.price.basePrice;\n    }\n\n    return {\n        level: finalLevel,\n        price: finalPrice,\n        hardness: finalHardness,\n        hitPoints: finalHitPoints,\n        brokenThreshold: finalBreakThreshold,\n    };\n}\n\n/**\n * Mystify all items **IN PLACE** so they are unidentified\n * @param items\n */\nexport function mystifyItems(...items: PhysicalItem[]): PhysicalItem[] {\n    for (const item of items) {\n        item.data.identification.status = 'unidentified';\n    }\n    return items;\n}\n\n/**\n * Mystify all items **IN PLACE** if quick mystification is enabled in Toolbox and alt is held in the event\n * @param event\n * @param items\n */\nexport function maybeMystifyItems(event: JQuery.ClickEvent, ...items: PhysicalItem[]): PhysicalItem[] {\n    const mystifyEnabled = game.settings.get(TOOLBOX_NAME, QUICK_MYSTIFY) as boolean;\n    if (mystifyEnabled && event.altKey) {\n        items = mystifyItems(...items);\n    }\n    return items;\n}\n","/*\n * Copyright 2021 Andrew Cuccinello\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n *\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { EquipmentItem, EquipmentType, PreciousMaterialGrade, PreciousMaterialType, WeightString } from '../../../types/PF2E';\nimport { getEquipmentType } from '../Utilities';\nimport { numericCommas } from '../Formatting';\n\nexport interface BaseMaterialData {\n    slug: PreciousMaterialGrade;\n    label: string;\n    level: number;\n    price: BasePriceData;\n}\nexport interface BasePriceData {\n    basePrice: number;\n}\nexport interface ScalingPriceData extends BasePriceData {\n    bulkPrice: number;\n    displayPrice: string;\n}\n\nexport interface WeaponArmorData extends BaseMaterialData {\n    price: ScalingPriceData;\n}\nexport function isWeaponArmorData(data: BaseMaterialData): data is WeaponArmorData {\n    return data.price.hasOwnProperty('bulkPrice');\n}\n\nexport interface DurabilityData {\n    hardness: number;\n    hitPoints: number;\n    brokenThreshold: number;\n}\nexport interface ShieldData extends BaseMaterialData {\n    bulk: WeightString;\n    durability: DurabilityData;\n}\n\nconst durabilityData = (hardness: number): DurabilityData => {\n    return {\n        hardness,\n        hitPoints: hardness * 4,\n        brokenThreshold: hardness * 2,\n    };\n};\nconst shieldData = (grade: PreciousMaterialGrade, level: number, basePrice: number, hardness: number, bulk: WeightString): ShieldData => {\n    return {\n        slug: grade,\n        label: `PF2E.PreciousMaterial${grade.capitalize()}Grade`,\n        level,\n        price: { basePrice },\n        bulk,\n        durability: durabilityData(hardness),\n    };\n};\nconst scalingPriceData = (basePrice: number): ScalingPriceData => {\n    return {\n        basePrice,\n        bulkPrice: basePrice / 10,\n        displayPrice: `${numericCommas(basePrice)}gp + ${numericCommas(basePrice / 10)}gp/bulk`,\n    };\n};\nconst weaponArmorData = (grade: PreciousMaterialGrade, level: number, basePrice: number): WeaponArmorData => {\n    return {\n        slug: grade,\n        label: `PF2E.PreciousMaterial${grade.capitalize()}Grade`,\n        level,\n        price: scalingPriceData(basePrice),\n    };\n};\n\ntype GradedMaterialData<T> = {\n    [TGrade in PreciousMaterialGrade]?: T;\n};\n\nexport interface IMaterial {\n    slug: string;\n    label: string;\n    defaultGrade: PreciousMaterialGrade;\n    [EquipmentType.Armor]?: GradedMaterialData<WeaponArmorData>;\n    [EquipmentType.Weapon]?: GradedMaterialData<WeaponArmorData>;\n    [EquipmentType.Buckler]?: GradedMaterialData<ShieldData>;\n    [EquipmentType.Shield]?: GradedMaterialData<ShieldData>;\n    [EquipmentType.Tower]?: GradedMaterialData<ShieldData>;\n}\n\nexport const CREATE_KEY_NONE = '';\nexport const MaterialNone: IMaterial = {\n    slug: CREATE_KEY_NONE,\n    label: 'None',\n    defaultGrade: PreciousMaterialGrade.None,\n    [EquipmentType.Weapon]: {},\n    [EquipmentType.Armor]: {},\n    [EquipmentType.Buckler]: {},\n    [EquipmentType.Shield]: {},\n    [EquipmentType.Tower]: {},\n};\n\nexport const MaterialAdamantine: IMaterial = {\n    slug: 'adamantine',\n    label: 'PF2E.PreciousMaterialAdamantine',\n    defaultGrade: PreciousMaterialGrade.Standard,\n    [EquipmentType.Weapon]: {\n        [PreciousMaterialGrade.Standard]: weaponArmorData(PreciousMaterialGrade.Standard, 11, 1_400),\n        [PreciousMaterialGrade.High]: weaponArmorData(PreciousMaterialGrade.High, 17, 13_000),\n    },\n    [EquipmentType.Armor]: {\n        [PreciousMaterialGrade.Standard]: weaponArmorData(PreciousMaterialGrade.Standard, 12, 1_600),\n        [PreciousMaterialGrade.High]: weaponArmorData(PreciousMaterialGrade.High, 19, 32_000),\n    },\n\n    [EquipmentType.Buckler]: {\n        [PreciousMaterialGrade.Standard]: shieldData(PreciousMaterialGrade.Standard, 8, 400, 8, `L`),\n        [PreciousMaterialGrade.High]: shieldData(PreciousMaterialGrade.High, 16, 8_000, 11, `1`),\n    },\n    [EquipmentType.Shield]: {\n        [PreciousMaterialGrade.Standard]: shieldData(PreciousMaterialGrade.Standard, 8, 440, 8, `L`),\n        [PreciousMaterialGrade.High]: shieldData(PreciousMaterialGrade.High, 16, 8_800, 13, `1`),\n    },\n};\nexport const MaterialColdIron: IMaterial = {\n    slug: 'coldIron',\n    label: 'PF2E.PreciousMaterialColdIron',\n    defaultGrade: PreciousMaterialGrade.Standard,\n    [EquipmentType.Weapon]: {\n        [PreciousMaterialGrade.Low]: weaponArmorData(PreciousMaterialGrade.Low, 2, 40),\n        [PreciousMaterialGrade.Standard]: weaponArmorData(PreciousMaterialGrade.Standard, 10, 880),\n        [PreciousMaterialGrade.High]: weaponArmorData(PreciousMaterialGrade.High, 16, 9_000),\n    },\n    [EquipmentType.Armor]: {\n        [PreciousMaterialGrade.Low]: weaponArmorData(PreciousMaterialGrade.Low, 5, 140),\n        [PreciousMaterialGrade.Standard]: weaponArmorData(PreciousMaterialGrade.Standard, 11, 1_200),\n        [PreciousMaterialGrade.High]: weaponArmorData(PreciousMaterialGrade.High, 18, 20_000),\n    },\n\n    [EquipmentType.Buckler]: {\n        [PreciousMaterialGrade.Low]: shieldData(PreciousMaterialGrade.Low, 2, 30, 3, `L`),\n        [PreciousMaterialGrade.Standard]: shieldData(PreciousMaterialGrade.Standard, 7, 300, 5, `L`),\n        [PreciousMaterialGrade.High]: shieldData(PreciousMaterialGrade.High, 15, 5_000, 8, `L`),\n    },\n    [EquipmentType.Shield]: {\n        [PreciousMaterialGrade.Low]: shieldData(PreciousMaterialGrade.Low, 2, 34, 5, `1`),\n        [PreciousMaterialGrade.Standard]: shieldData(PreciousMaterialGrade.Standard, 7, 340, 7, `1`),\n        [PreciousMaterialGrade.High]: shieldData(PreciousMaterialGrade.High, 15, 5_500, 10, `1`),\n    },\n};\nexport const MaterialDarkwood: IMaterial = {\n    slug: 'darkwood',\n    label: 'PF2E.PreciousMaterialDarkwood',\n    defaultGrade: PreciousMaterialGrade.Standard,\n    [EquipmentType.Weapon]: {\n        [PreciousMaterialGrade.Standard]: weaponArmorData(PreciousMaterialGrade.Standard, 11, 1_400),\n        [PreciousMaterialGrade.High]: weaponArmorData(PreciousMaterialGrade.High, 17, 13_500),\n    },\n    [EquipmentType.Armor]: {\n        [PreciousMaterialGrade.Standard]: weaponArmorData(PreciousMaterialGrade.Standard, 12, 1_600),\n        [PreciousMaterialGrade.High]: weaponArmorData(PreciousMaterialGrade.High, 19, 32_000),\n    },\n\n    [EquipmentType.Buckler]: {\n        [PreciousMaterialGrade.Standard]: shieldData(PreciousMaterialGrade.Standard, 8, 400, 3, `L`),\n        [PreciousMaterialGrade.High]: shieldData(PreciousMaterialGrade.High, 15, 5_000, 6, `L`),\n    },\n    [EquipmentType.Shield]: {\n        [PreciousMaterialGrade.Standard]: shieldData(PreciousMaterialGrade.Standard, 8, 440, 5, `L`),\n        [PreciousMaterialGrade.High]: shieldData(PreciousMaterialGrade.High, 15, 5_500, 8, `L`),\n    },\n    [EquipmentType.Tower]: {\n        [PreciousMaterialGrade.Standard]: shieldData(PreciousMaterialGrade.Standard, 8, 560, 5, `3`),\n        [PreciousMaterialGrade.High]: shieldData(PreciousMaterialGrade.High, 15, 5_500, 8, `3`),\n    },\n};\nexport const MaterialDragonhide: IMaterial = {\n    slug: 'dragonhide',\n    label: 'PF2E.PreciousMaterialDragonhide',\n    defaultGrade: PreciousMaterialGrade.Standard,\n    [EquipmentType.Armor]: {\n        // TODO: +1 circumstance bonus to your AC and saving throws\n        //  against attacks and spells that deal the corresponding\n        //  damage type\n        [PreciousMaterialGrade.Standard]: weaponArmorData(PreciousMaterialGrade.Standard, 12, 1_600),\n        [PreciousMaterialGrade.High]: weaponArmorData(PreciousMaterialGrade.High, 19, 32_000),\n    },\n\n    [EquipmentType.Buckler]: {\n        [PreciousMaterialGrade.Standard]: shieldData(PreciousMaterialGrade.Standard, 8, 400, 2, `L`),\n        [PreciousMaterialGrade.High]: shieldData(PreciousMaterialGrade.High, 16, 8_000, 5, `L`),\n    },\n    [EquipmentType.Shield]: {\n        [PreciousMaterialGrade.Standard]: shieldData(PreciousMaterialGrade.Standard, 8, 440, 4, `1`),\n        [PreciousMaterialGrade.High]: shieldData(PreciousMaterialGrade.High, 16, 8_800, 7, `1`),\n    },\n};\nexport const MaterialMithral: IMaterial = {\n    slug: 'mithral',\n    label: 'PF2E.PreciousMaterialMithral',\n    defaultGrade: PreciousMaterialGrade.Standard,\n    [EquipmentType.Weapon]: {\n        // TODO: Bulk reduced by 1\n        [PreciousMaterialGrade.Standard]: weaponArmorData(PreciousMaterialGrade.Standard, 11, 1_400),\n        [PreciousMaterialGrade.High]: weaponArmorData(PreciousMaterialGrade.High, 17, 13_500),\n    },\n    [EquipmentType.Armor]: {\n        [PreciousMaterialGrade.Standard]: weaponArmorData(PreciousMaterialGrade.Standard, 12, 1_600),\n        [PreciousMaterialGrade.High]: weaponArmorData(PreciousMaterialGrade.High, 19, 32_000),\n    },\n\n    [EquipmentType.Buckler]: {\n        [PreciousMaterialGrade.Standard]: shieldData(PreciousMaterialGrade.Standard, 8, 400, 3, `L`),\n        [PreciousMaterialGrade.High]: shieldData(PreciousMaterialGrade.High, 16, 8_000, 6, `L`),\n    },\n    [EquipmentType.Shield]: {\n        [PreciousMaterialGrade.Standard]: shieldData(PreciousMaterialGrade.Standard, 8, 440, 5, `L`),\n        [PreciousMaterialGrade.High]: shieldData(PreciousMaterialGrade.High, 16, 8_800, 8, `L`),\n    },\n};\nexport const MaterialOrichalcum: IMaterial = {\n    slug: 'orichalcum',\n    label: 'PF2E.PreciousMaterialOrichalcum',\n    defaultGrade: PreciousMaterialGrade.High,\n    [EquipmentType.Weapon]: {\n        // TODO: Speed costs half the normal price\n        [PreciousMaterialGrade.High]: weaponArmorData(PreciousMaterialGrade.High, 18, 22_500),\n    },\n    [EquipmentType.Armor]: {\n        // TODO: +1 circumstance bonus to initiative rolls\n        [PreciousMaterialGrade.High]: weaponArmorData(PreciousMaterialGrade.High, 20, 55_000),\n    },\n\n    [EquipmentType.Buckler]: {\n        [PreciousMaterialGrade.High]: shieldData(PreciousMaterialGrade.High, 17, 12_000, 14, `L`),\n    },\n    [EquipmentType.Shield]: {\n        [PreciousMaterialGrade.High]: shieldData(PreciousMaterialGrade.High, 17, 13_200, 16, `1`),\n    },\n};\nexport const MaterialSilver: IMaterial = {\n    slug: 'silver',\n    label: 'PF2E.PreciousMaterialSilver',\n    defaultGrade: PreciousMaterialGrade.Standard,\n    [EquipmentType.Weapon]: {\n        [PreciousMaterialGrade.Low]: weaponArmorData(PreciousMaterialGrade.Low, 2, 40),\n        [PreciousMaterialGrade.Standard]: weaponArmorData(PreciousMaterialGrade.Standard, 10, 880),\n        [PreciousMaterialGrade.High]: weaponArmorData(PreciousMaterialGrade.High, 16, 9_000),\n    },\n    [EquipmentType.Armor]: {\n        [PreciousMaterialGrade.Low]: weaponArmorData(PreciousMaterialGrade.Low, 5, 140),\n        [PreciousMaterialGrade.Standard]: weaponArmorData(PreciousMaterialGrade.Standard, 11, 1_200),\n        [PreciousMaterialGrade.High]: weaponArmorData(PreciousMaterialGrade.High, 18, 20_000),\n    },\n\n    [EquipmentType.Buckler]: {\n        [PreciousMaterialGrade.Low]: shieldData(PreciousMaterialGrade.Low, 2, 30, 1, `L`),\n        [PreciousMaterialGrade.Standard]: shieldData(PreciousMaterialGrade.Standard, 7, 300, 3, `L`),\n        [PreciousMaterialGrade.High]: shieldData(PreciousMaterialGrade.High, 15, 5_000, 6, `L`),\n    },\n    [EquipmentType.Shield]: {\n        [PreciousMaterialGrade.Low]: shieldData(PreciousMaterialGrade.Low, 2, 34, 3, `1`),\n        [PreciousMaterialGrade.Standard]: shieldData(PreciousMaterialGrade.Standard, 7, 340, 5, `1`),\n        [PreciousMaterialGrade.High]: shieldData(PreciousMaterialGrade.High, 15, 5_500, 8, `1`),\n    },\n};\nexport const MaterialSovereignSteel: IMaterial = {\n    slug: 'sovereignSteel',\n    label: 'PF2E.PreciousMaterialSovereignSteel',\n    defaultGrade: PreciousMaterialGrade.Standard,\n    [EquipmentType.Weapon]: {\n        [PreciousMaterialGrade.Standard]: weaponArmorData(PreciousMaterialGrade.Standard, 12, 1_600),\n        [PreciousMaterialGrade.High]: weaponArmorData(PreciousMaterialGrade.High, 19, 32_000),\n    },\n    [EquipmentType.Armor]: {\n        [PreciousMaterialGrade.Standard]: weaponArmorData(PreciousMaterialGrade.Standard, 13, 2_400),\n        [PreciousMaterialGrade.High]: weaponArmorData(PreciousMaterialGrade.High, 20, 50_000),\n    },\n};\nexport const MaterialWarpglass: IMaterial = {\n    slug: 'warpglass',\n    label: 'PF2E.PreciousMaterialWarpglass',\n    defaultGrade: PreciousMaterialGrade.Standard,\n    [EquipmentType.Weapon]: {\n        [PreciousMaterialGrade.High]: weaponArmorData(PreciousMaterialGrade.High, 17, 14_000),\n    },\n};\n\nexport const ItemMaterials: Record<PreciousMaterialType, IMaterial> = {\n    '': MaterialNone,\n    'adamantine': MaterialAdamantine,\n    'coldIron': MaterialColdIron,\n    'darkwood': MaterialDarkwood,\n    'dragonhide': MaterialDragonhide,\n    'mithral': MaterialMithral,\n    'orichalcum': MaterialOrichalcum,\n    'silver': MaterialSilver,\n    'sovereignSteel': MaterialSovereignSteel,\n    'warpglass': MaterialWarpglass,\n};\n\n/**\n * Get all valid materials that could be used for this item.\n * @param item\n */\nexport const getValidMaterials = (item: EquipmentItem): Partial<Record<PreciousMaterialType, IMaterial>> => {\n    const equipmentType = getEquipmentType(item);\n    if (!equipmentType) {\n        return {};\n    }\n\n    const materials: Partial<Record<PreciousMaterialType, IMaterial>> = {};\n\n    for (const [materialType, materialData] of Object.entries(ItemMaterials)) {\n        if (!materialData.hasOwnProperty(equipmentType)) {\n            continue;\n        }\n        materials[materialType as PreciousMaterialType] = materialData;\n    }\n\n    return materials;\n};\n\n/**\n * Get valid material grade data for the item and specified material\n * @param item\n * @param materialType\n */\nexport const getValidMaterialGrades = (item: EquipmentItem, materialType: PreciousMaterialType): GradedMaterialData<WeaponArmorData | ShieldData> => {\n    const equipmentType = getEquipmentType(item);\n    if (!equipmentType) {\n        return {};\n    }\n\n    if (ItemMaterials[materialType].hasOwnProperty(equipmentType)) {\n        return ItemMaterials[materialType][equipmentType]!;\n    } else {\n        return {};\n    }\n};\n","/*\n * Copyright 2021 Andrew Cuccinello\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n *\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { EquipmentItem, EquipmentType, PropertyRuneType, ResiliencyRuneType, StrikingRuneType, ZeroToFour } from '../../../types/PF2E';\nimport { BasePriceData, CREATE_KEY_NONE } from './Materials';\nimport { getEquipmentType } from '../Utilities';\n\nexport interface IRune {\n    slug: string;\n    label: string;\n    level: number;\n    price: BasePriceData;\n}\n\nconst RuneNone: IRune = {\n    slug: CREATE_KEY_NONE,\n    label: 'None',\n    price: {\n        basePrice: 0,\n    },\n    level: 0,\n};\n\nexport type FundamentalRuneType = StrikingRuneType | ResiliencyRuneType;\nexport type PotencyRuneType = `${ZeroToFour}`;\n\nconst price = (basePrice: number) => {\n    return {\n        basePrice,\n    };\n};\n\nexport interface IRuneMap {\n    potency?: Record<PotencyRuneType, IRune>;\n    fundamental: Record<string, IRune>;\n    property: Record<string, IRune>;\n}\nexport type ItemRunes = {\n    [EquipmentType.Weapon]: IRuneMap;\n    [EquipmentType.Armor]: IRuneMap;\n    [EquipmentType.Buckler]: IRuneMap;\n    [EquipmentType.Shield]: IRuneMap;\n    [EquipmentType.Tower]: IRuneMap;\n};\nexport const ItemRunes: ItemRunes = {\n    [EquipmentType.Weapon]: {\n        potency: {\n            '0': {\n                ...RuneNone,\n            },\n            '1': {\n                slug: '1',\n                label: 'PF2E.WeaponPotencyRune1',\n                level: 2,\n                price: price(35),\n            },\n            '2': {\n                slug: '2',\n                label: 'PF2E.WeaponPotencyRune2',\n                level: 10,\n                price: price(935),\n            },\n            '3': {\n                slug: '3',\n                label: 'PF2E.WeaponPotencyRune3',\n                level: 16,\n                price: price(8935),\n            },\n            '4': {\n                slug: '4',\n                label: 'PF2E.WeaponPotencyRune4',\n                level: 25,\n                price: price(0),\n            },\n        },\n        fundamental: {\n            [CREATE_KEY_NONE]: {\n                ...RuneNone,\n            },\n            striking: {\n                slug: 'striking',\n                label: 'PF2E.ArmorStrikingRune',\n                price: price(65),\n                level: 4,\n            },\n            greaterStriking: {\n                slug: 'greaterStriking',\n                label: 'PF2E.ArmorGreaterStrikingRune',\n                price: price(1065),\n                level: 12,\n            },\n            majorStriking: {\n                slug: 'majorStriking',\n                label: 'PF2E.ArmorMajorStrikingRune',\n                price: price(31065),\n                level: 19,\n            },\n        },\n        property: {\n            [CREATE_KEY_NONE]: {\n                ...RuneNone,\n            },\n            anarchic: {\n                slug: 'anarchic',\n                label: 'PF2E.WeaponPropertyRuneAnarchic',\n                price: price(1400),\n                level: 11,\n            },\n            ancestralEchoing: {\n                slug: 'ancestralEchoing',\n                label: 'PF2E.WeaponPropertyRuneAncestralEchoing',\n                price: price(9500),\n                level: 15,\n            },\n            axiomatic: {\n                slug: 'axiomatic',\n                label: 'PF2E.WeaponPropertyRuneAxiomatic',\n                price: price(1400),\n                level: 11,\n            },\n            bloodbane: {\n                slug: 'bloodbane',\n                label: 'PF2E.WeaponPropertyRuneBloodbane',\n                price: price(475),\n                level: 8,\n            },\n            corrosive: {\n                slug: 'corrosive',\n                label: 'PF2E.WeaponPropertyRuneCorrosive',\n                price: price(500),\n                level: 8,\n            },\n            dancing: {\n                slug: 'dancing',\n                label: 'PF2E.WeaponPropertyRuneDancing',\n                price: price(2700),\n                level: 13,\n            },\n            disrupting: {\n                slug: 'disrupting',\n                label: 'PF2E.WeaponPropertyRuneDisrupting',\n                price: price(150),\n                level: 5,\n            },\n            fearsome: {\n                slug: 'fearsome',\n                label: 'PF2E.WeaponPropertyRuneFearsome',\n                price: price(160),\n                level: 5,\n            },\n            flaming: {\n                slug: 'flaming',\n                label: 'PF2E.WeaponPropertyRuneFlaming',\n                price: price(500),\n                level: 8,\n            },\n            frost: {\n                slug: 'frost',\n                label: 'PF2E.WeaponPropertyRuneFrost',\n                price: price(500),\n                level: 8,\n            },\n            ghostTouch: {\n                slug: 'ghostTouch',\n                label: 'PF2E.WeaponPropertyRuneGhostTouch',\n                price: price(75),\n                level: 4,\n            },\n            greaterBloodbane: {\n                slug: 'greaterBloodbane',\n                label: 'PF2E.WeaponPropertyRuneGreaterBloodbane',\n                price: price(6500),\n                level: 15,\n            },\n            greaterCorrosive: {\n                slug: 'greaterCorrosive',\n                label: 'PF2E.WeaponPropertyRuneGreaterCorrosive',\n                price: price(6500),\n                level: 15,\n            },\n            greaterDisrupting: {\n                slug: 'greaterDisrupting',\n                label: 'PF2E.WeaponPropertyRuneGreaterDisrupting',\n                price: price(4300),\n                level: 14,\n            },\n            greaterFearsome: {\n                slug: 'greaterFearsome',\n                label: 'PF2E.WeaponPropertyRuneGreaterFearsome',\n                price: price(2000),\n                level: 12,\n            },\n            greaterFlaming: {\n                slug: 'greaterFlaming',\n                label: 'PF2E.WeaponPropertyRuneGreaterFlaming',\n                price: price(6500),\n                level: 15,\n            },\n            greaterFrost: {\n                slug: 'greaterFrost',\n                label: 'PF2E.WeaponPropertyRuneGreaterFrost',\n                price: price(6500),\n                level: 15,\n            },\n            greaterShock: {\n                slug: 'greaterShock',\n                label: 'PF2E.WeaponPropertyRuneGreaterShock',\n                price: price(6500),\n                level: 15,\n            },\n            greaterThundering: {\n                slug: 'greaterThundering',\n                label: 'PF2E.WeaponPropertyRuneGreaterThundering',\n                price: price(6500),\n                level: 15,\n            },\n            grievous: {\n                slug: 'grievous',\n                label: 'PF2E.WeaponPropertyRuneGrievous',\n                price: price(700),\n                level: 9,\n            },\n            holy: {\n                slug: 'holy',\n                label: 'PF2E.WeaponPropertyRuneHoly',\n                price: price(1400),\n                level: 11,\n            },\n            keen: {\n                slug: 'keen',\n                label: 'PF2E.WeaponPropertyRuneKeen',\n                price: price(3000),\n                level: 13,\n            },\n            kinWarding: {\n                slug: 'kinWarding',\n                label: 'PF2E.WeaponPropertyRuneKinWarding',\n                price: price(52),\n                level: 3,\n            },\n            pacifying: {\n                slug: 'pacifying',\n                label: 'PF2E.WeaponPropertyRunePacifying',\n                price: price(150),\n                level: 5,\n            },\n            returning: {\n                slug: 'returning',\n                label: 'PF2E.WeaponPropertyRuneReturning',\n                price: price(55),\n                level: 3,\n            },\n            serrating: {\n                slug: 'serrating',\n                label: 'PF2E.WeaponPropertyRuneSerrating',\n                price: price(1000),\n                level: 10,\n            },\n            shifting: {\n                slug: 'shifting',\n                label: 'PF2E.WeaponPropertyRuneShifting',\n                price: price(225),\n                level: 6,\n            },\n            shock: {\n                slug: 'shock',\n                label: 'PF2E.WeaponPropertyRuneShock',\n                price: price(500),\n                level: 8,\n            },\n            speed: {\n                slug: 'speed',\n                label: 'PF2E.WeaponPropertyRuneSpeed',\n                price: price(10000),\n                level: 16,\n            },\n            spellStoring: {\n                slug: 'spellStoring',\n                label: 'PF2E.WeaponPropertyRuneSpellStoring',\n                price: price(2700),\n                level: 13,\n            },\n            thundering: {\n                slug: 'thundering',\n                label: 'PF2E.WeaponPropertyRuneThundering',\n                price: price(500),\n                level: 8,\n            },\n            unholy: {\n                slug: 'unholy',\n                label: 'PF2E.WeaponPropertyRuneUnholy',\n                price: price(1400),\n                level: 11,\n            },\n            vorpal: {\n                slug: 'vorpal',\n                label: 'PF2E.WeaponPropertyRuneVorpal',\n                price: price(15000),\n                level: 17,\n            },\n            wounding: {\n                slug: 'wounding',\n                label: 'PF2E.WeaponPropertyRuneWounding',\n                price: price(340),\n                level: 7,\n            },\n        },\n    },\n    [EquipmentType.Armor]: {\n        potency: {\n            '0': {\n                ...RuneNone,\n            },\n            '1': {\n                slug: '1',\n                label: 'PF2E.ArmorPotencyRune1',\n                level: 5,\n                price: price(160),\n            },\n            '2': {\n                slug: '2',\n                label: 'PF2E.ArmorPotencyRune2',\n                level: 11,\n                price: price(1060),\n            },\n            '3': {\n                slug: '3',\n                label: 'PF2E.ArmorPotencyRune3',\n                level: 18,\n                price: price(20560),\n            },\n            '4': {\n                slug: '4',\n                label: 'PF2E.ArmorPotencyRune4',\n                level: 25,\n                price: price(0),\n            },\n        },\n        fundamental: {\n            [CREATE_KEY_NONE]: {\n                ...RuneNone,\n            },\n            resilient: {\n                slug: 'resilient',\n                label: 'PF2E.ArmorResilientRune',\n                level: 8,\n                price: price(340),\n            },\n            greaterResilient: {\n                slug: 'greaterResilient',\n                label: 'PF2E.ArmorGreaterResilientRune',\n                level: 14,\n                price: price(3440),\n            },\n            majorResilient: {\n                slug: 'majorResilient',\n                label: 'PF2E.ArmorMajorResilientRune',\n                level: 20,\n                price: price(49440),\n            },\n        },\n        property: {\n            [CREATE_KEY_NONE]: {\n                ...RuneNone,\n            },\n            acidResistant: {\n                slug: 'acidResistant',\n                label: 'PF2E.ArmorPropertyRuneAcidResistant',\n                price: price(420),\n                level: 8,\n            },\n            antimagic: {\n                slug: 'antimagic',\n                label: 'PF2E.ArmorPropertyRuneAntimagic',\n                price: price(6500),\n                level: 15,\n            },\n            coldResistant: {\n                slug: 'coldResistant',\n                label: 'PF2E.ArmorPropertyRuneColdResistant',\n                price: price(420),\n                level: 8,\n            },\n            electricityResistant: {\n                slug: 'electricityResistant',\n                label: 'PF2E.ArmorPropertyRuneElectricityResistant',\n                price: price(420),\n                level: 8,\n            },\n            ethereal: {\n                slug: 'ethereal',\n                label: 'PF2E.ArmorPropertyRuneEthereal',\n                price: price(13500),\n                level: 17,\n            },\n            fireResistant: {\n                slug: 'fireResistant',\n                label: 'PF2E.ArmorPropertyRuneFireResistant',\n                price: price(420),\n                level: 8,\n            },\n            fortification: {\n                slug: 'fortification',\n                label: 'PF2E.ArmorPropertyRuneFortification',\n                price: price(2000),\n                level: 12,\n            },\n            glamered: {\n                slug: 'glamered',\n                label: 'PF2E.ArmorPropertyRuneGlamered',\n                price: price(140),\n                level: 5,\n            },\n            greaterAcidResistant: {\n                slug: 'greaterAcidResistant',\n                label: 'PF2E.ArmorPropertyRuneGreaterAcidResistant',\n                price: price(1650),\n                level: 12,\n            },\n            greaterColdResistant: {\n                slug: 'greaterColdResistant',\n                label: 'PF2E.ArmorPropertyRuneGreaterColdResistant',\n                price: price(1650),\n                level: 12,\n            },\n            greaterElectricityResistant: {\n                slug: 'greaterElectricityResistant',\n                label: 'PF2E.ArmorPropertyRuneGreaterElectricityResistant',\n                price: price(1650),\n                level: 12,\n            },\n            greaterFireResistant: {\n                slug: 'greaterFireResistant',\n                label: 'PF2E.ArmorPropertyRuneGreaterFireResistant',\n                price: price(1650),\n                level: 12,\n            },\n            greaterFortification: {\n                slug: 'greaterFortification',\n                label: 'PF2E.ArmorPropertyRuneGreaterFortification',\n                price: price(24000),\n                level: 18,\n            },\n            greaterInvisibility: {\n                slug: 'greaterInvisibility',\n                label: 'PF2E.ArmorPropertyRuneGreaterInvisibility',\n                price: price(1000),\n                level: 10,\n            },\n            greaterReady: {\n                slug: 'greaterReady',\n                label: 'PF2E.ArmorPropertyRuneGreaterReady',\n                price: price(1200),\n                level: 11,\n            },\n            greaterShadow: {\n                slug: 'greaterShadow',\n                label: 'PF2E.ArmorPropertyRuneGreaterShadow',\n                price: price(650),\n                level: 9,\n            },\n            greaterSlick: {\n                slug: 'greaterSlick',\n                label: 'PF2E.ArmorPropertyRuneGreaterSlick',\n                price: price(450),\n                level: 8,\n            },\n            greaterWinged: {\n                slug: 'greaterWinged',\n                label: 'PF2E.ArmorPropertyRuneGreaterWinged',\n                price: price(35000),\n                level: 19,\n            },\n            invisibility: {\n                slug: 'invisibility',\n                label: 'PF2E.ArmorPropertyRuneInvisibility',\n                price: price(500),\n                level: 8,\n            },\n            majorShadow: {\n                slug: 'majorShadow',\n                label: 'PF2E.ArmorPropertyRuneMajorShadow',\n                price: price(14000),\n                level: 17,\n            },\n            majorSlick: {\n                slug: 'majorSlick',\n                label: 'PF2E.ArmorPropertyRuneMajorSlick',\n                price: price(9000),\n                level: 16,\n            },\n            ready: {\n                slug: 'ready',\n                label: 'PF2E.ArmorPropertyRuneReady',\n                price: price(200),\n                level: 6,\n            },\n            rockBraced: {\n                slug: 'rockBraced',\n                label: 'PF2E.ArmorPropertyRuneRockBraced',\n                price: price(3000),\n                level: 13,\n            },\n            shadow: {\n                slug: 'shadow',\n                label: 'PF2E.ArmorPropertyRuneShadow',\n                price: price(55),\n                level: 3,\n            },\n            sinisterKnight: {\n                slug: 'sinisterKnight',\n                label: 'PF2E.ArmorPropertyRuneSinisterKnight',\n                price: price(500),\n                level: 8,\n            },\n            slick: {\n                slug: 'slick',\n                label: 'PF2E.ArmorPropertyRuneSlick',\n                price: price(45),\n                level: 3,\n            },\n            winged: {\n                slug: 'winged',\n                label: 'PF2E.ArmorPropertyRuneWinged',\n                price: price(2500),\n                level: 13,\n            },\n        },\n    },\n\n    [EquipmentType.Buckler]: {\n        fundamental: {},\n        property: {},\n    },\n    [EquipmentType.Shield]: {\n        fundamental: {},\n        property: {},\n    },\n    [EquipmentType.Tower]: {\n        fundamental: {},\n        property: {},\n    },\n};\n\n/**\n * Get all valid runes that could be used for this item.\n * @param item\n */\nexport const getValidPropertyRunes = (item: EquipmentItem): Partial<Record<PropertyRuneType, IRune>> => {\n    const equipmentType = getEquipmentType(item);\n    if (!equipmentType) {\n        return {};\n    }\n\n    return ItemRunes[equipmentType]['property'];\n};\n","/*\n * Copyright 2021 Andrew Cuccinello\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n *\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SourceType, TableSource, GenType, tableStoreId, ordinalNumber } from './DataSource';\nimport { INamed } from './Mixins';\nimport { RollableTablesPack } from './RollableTables';\n\nexport interface ConsumableSource extends TableSource, INamed {}\n\nconst tableIds: string[] = [\n    'tlX5PLwar8b1tmiQ',\n    'g30jZWCJEiK1RlIa',\n    'mDPLoPYwuPo3o0Wj',\n    '0WpkRFm8SyfwVCP6',\n    'zRyuNslbOzN9oW5u',\n    'A68C9O0vtWbFXbfS',\n    'E9ZNupg1p4yLpfrd',\n    'UmJGUUgN9TQtFQDI',\n    'XAJFTpuo8qrcW30P',\n    'AIBvZzHidUXxZfEF',\n    'Ca7vD8PZtMPqVuHu',\n    '5HHqLskEnfjxpkCO',\n    'awfTQvkm7NrRjRaQ',\n    'Vhuuy0vFJV5tYldR',\n    'Af7beeFZhtvDAZaM',\n    'aomFSKgGl52z7tdX',\n    'YyQkwd1PksU1Lno4',\n    'PSs31Xj5RfszMbAe',\n    'pH85KVl31VBdENuy',\n    'nusyoQjLs0ZxifRd',\n];\nconst consumableSourceTemplate = (level: number): ConsumableSource => {\n    return {\n        id: tableIds[level],\n        storeId: tableStoreId(tableIds[level]),\n        name: `${ordinalNumber(level + 1)}-Level`,\n        tableSource: RollableTablesPack,\n        sourceType: SourceType.Table,\n        itemType: GenType.Permanent,\n        weight: 1,\n        enabled: true,\n    };\n};\n\nexport const consumableSources: Record<string, ConsumableSource> = tableIds.reduce(\n    (prev, curr, indx) =>\n        mergeObject(prev, {\n            [tableStoreId(curr)]: consumableSourceTemplate(indx),\n        }),\n    {},\n);\n","/*\n * Copyright 2021 Andrew Cuccinello\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n *\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { IEnabled, IWeighted } from './Mixins';\nimport { PF2EItem } from '../../../types/PF2E';\n\nexport enum SourceType {\n    Table = 'table',\n    Pack = 'pack',\n    Pool = 'pool',\n}\n\nexport enum GenType {\n    Treasure = 'treasure',\n    Permanent = 'permanent',\n    Consumable = 'consumable',\n    Spell = 'spell',\n}\n\nexport const tableStoreId = (id: string) => `table-${id}`;\nexport const filterStoreId = (id: string) => `filter-${id}`;\n\nexport interface IStorable {\n    id: string | null;\n    storeId: string | null;\n}\nexport interface DataSource extends IStorable, IWeighted, IEnabled {\n    id: string | null;\n    sourceType: SourceType;\n    itemType?: GenType;\n}\n\nexport interface TableSource extends DataSource {\n    // id is table id in this case\n    id: string;\n    sourceType: SourceType.Table;\n    // Where to find the table.\n    tableSource: PackSource;\n}\nexport function isTableSource(source: DataSource): source is TableSource {\n    return source.sourceType === SourceType.Table;\n}\nexport async function getTableSourceTable(source: TableSource): Promise<RollTable> {\n    return await getFromPackSource(source.tableSource, source.id);\n}\n\nexport interface PackSource extends DataSource {\n    // id is compendium pack id in this case\n    id: string;\n    sourceType: SourceType.Pack;\n}\nexport function isPackSource(source: DataSource): source is PackSource {\n    return source.sourceType === SourceType.Pack;\n}\nexport function getPack(source: PackSource) {\n    return game.packs.get(source.id);\n}\nexport async function getFromPackSource<TResult = PF2EItem>(source: PackSource, documentId: string): Promise<TResult> {\n    const pack = game.packs.get(source.id);\n    // @ts-ignore\n    return await pack.getDocument(documentId);\n}\nexport async function getPackSourceContents(source: PackSource): Promise<PF2EItem[]> {\n    const pack = game.packs.get(source.id);\n    // @ts-ignore\n    return await pack.getDocuments();\n}\n\nexport interface PoolSource extends DataSource {\n    // id will be null in this case\n    id: null;\n    sourceType: SourceType.Pool;\n    elements: PF2EItem[];\n}\nexport function isPoolSource(source: DataSource): source is PoolSource {\n    return source.sourceType === SourceType.Pool;\n}\n\nexport type FilteredSource<TSource extends DataSource, TItem extends PF2EItem = PF2EItem> = TSource & {\n    getFiltered: (source: TSource) => Promise<TItem[]>;\n};\n\n/**\n * Convert a number to an ordinal string (1st, 2nd, 3rd...)\n * @param n The number to convert.\n */\nexport function ordinalNumber(n: number): string {\n    const suffixes = ['th', 'st', 'nd', 'rd'];\n    const index = n % 100;\n    const ordinal = suffixes[(index - 20) % 10] || suffixes[index] || suffixes[0];\n    return `${n}${ordinal}`;\n}\n","/*\n * Copyright 2021 Andrew Cuccinello\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n *\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SourceType, TableSource, GenType, tableStoreId, ordinalNumber } from './DataSource';\nimport { INamed } from './Mixins';\nimport { RollableTablesPack } from './RollableTables';\n\nexport interface PermanentSource extends TableSource, INamed {}\n\n// const leveledSources = ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''];\n// ordered 1st through 20th level\nconst tableIds: string[] = [\n    'JyDn13oc0MdLjpyw',\n    'q6hhGYSee35XxKE8',\n    'Ow2zoRUSX0s7JjMo',\n    'k0Al2PJni2NTtdIY',\n    'k5bG37570BbflxR2',\n    '9xol7FdCfaU585WR',\n    'r8F8mI2BZU6nOMQB',\n    'QoEkRoteKJwHHVRd',\n    'AJOYeeeF3E8UC7KF',\n    'W0qudblot2Z9Vu86',\n    'ood552HB1onSdJFS',\n    'uzkmxRIn4CtzfP47',\n    'eo7kjM8xv6KD5h5q',\n    'cBpFoBUNSApkvP6L',\n    'X2QkgnYrda4mV5v3',\n    'J7XfeVrfUj72IkRY',\n    '0jlGmwn6YGqsfG1q',\n    '6FmhLLYH94xhucIs',\n    'gkdB45QC0u1WeiRA',\n    'NOkobOGi0nqsboHI',\n];\nconst permanentSourceTemplate = (level: number): PermanentSource => {\n    return {\n        id: tableIds[level],\n        storeId: tableStoreId(tableIds[level]),\n        name: `${ordinalNumber(level + 1)}-Level`,\n        tableSource: RollableTablesPack,\n        sourceType: SourceType.Table,\n        itemType: GenType.Permanent,\n        weight: 1,\n        enabled: true,\n    };\n};\n\nexport const permanentSources: Record<string, PermanentSource> = tableIds.reduce(\n    (prev, curr, indx) =>\n        mergeObject(prev, {\n            [tableStoreId(curr)]: permanentSourceTemplate(indx),\n        }),\n    {},\n);\n","/*\n * Copyright 2021 Andrew Cuccinello\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n *\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { INamed } from './Mixins';\nimport { PackSource, SourceType, tableStoreId } from './DataSource';\n\nexport interface RollableTableSource extends PackSource, INamed {}\n\nexport const RollableTablesPack: RollableTableSource = {\n    id: 'pf2e.rollable-tables',\n    storeId: tableStoreId('rollable-tables'),\n    name: 'Rollable Tables',\n    sourceType: SourceType.Pack,\n    weight: 1,\n    enabled: true,\n};\n","/*\n * Copyright 2021 Andrew Cuccinello\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n *\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { PackSource, SourceType, GenType, tableStoreId} from './DataSource';\nimport { INamed } from './Mixins';\n\nexport enum SpellSchool {\n    Abjuration = 'abjuration',\n    Conjuration = 'conjuration',\n    Divination = 'divination',\n    Enchantment = 'enchantment',\n    Evocation = 'evocation',\n    Illusion = 'illusion',\n    Necromancy = 'necromancy',\n    Transmutation = 'transmutation',\n}\n\nexport enum SpellItemType {\n    Wand = 'wand',\n    Scroll = 'scroll',\n}\n\nexport enum SpellTradition {\n    Arcane = 'arcane',\n    Divine = 'divine',\n    Primal = 'primal',\n    Occult = 'occult',\n}\n\nexport interface SpellSource extends PackSource, INamed {}\n\nexport const spellSources: Record<string, SpellSource> = {\n    'spells-srd': {\n        id: 'pf2e.spells-srd',\n        storeId: tableStoreId('spells-srd'),\n        name: 'SRD Spells',\n        sourceType: SourceType.Pack,\n        itemType: GenType.Spell,\n        weight: 1,\n        enabled: true,\n    },\n};\n\nexport const TEMPLATE_PACK_ID = 'pf2e.equipment-srd';\n\nexport const scrollTemplateIds = {\n    1: 'RjuupS9xyXDLgyIr',\n    2: 'Y7UD64foDbDMV9sx',\n    3: 'ZmefGBXGJF3CFDbn',\n    4: 'QSQZJ5BC3DeHv153',\n    5: 'tjLvRWklAylFhBHQ',\n    6: '4sGIy77COooxhQuC',\n    7: 'fomEZZ4MxVVK3uVu',\n    8: 'iPki3yuoucnj7bIt',\n    9: 'cFHomF3tty8Wi1e5',\n    10: 'o1XIHJ4MJyroAHfF',\n};\nexport const wandTemplateIds = {\n    1: 'UJWiN0K3jqVjxvKk',\n    2: 'vJZ49cgi8szuQXAD',\n    3: 'wrDmWkGxmwzYtfiA',\n    4: 'Sn7v9SsbEDMUIwrO',\n    5: '5BF7zMnrPYzyigCs',\n    6: 'kiXh4SUWKr166ZeM',\n    7: 'nmXPj9zuMRQBNT60',\n    8: 'Qs8RgNH6thRPv2jt',\n    9: 'Fgv722039TVM5JTc',\n};\n","/*\n * Copyright 2021 Andrew Cuccinello\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n *\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DataSource, isTableSource, GenType, SourceType, TableSource, tableStoreId } from './DataSource';\nimport { INamed } from './Mixins';\nimport { RollableTablesPack } from './RollableTables';\n\nexport enum Denomination {\n    Copper = 'cp',\n    Silver = 'sp',\n    Gold = 'gp',\n    Platinum = 'pp',\n}\n\nexport interface TreasureSource extends TableSource, INamed {\n    value: string;\n    denomination: Denomination;\n}\nexport function isTreasureSource(source: DataSource): source is TreasureSource {\n    return isTableSource(source) && source.hasOwnProperty('value');\n}\n\ntype UniqueTableData = {\n    id: string;\n    name: string;\n    value: string;\n    denomination: Denomination;\n};\n\nconst semipreciousTables: UniqueTableData[] = [\n    {\n        id: 'ucTtWBPXViITI8wr',\n        name: 'Lesser Semiprecious Stones',\n        value: '1d4*5',\n        denomination: Denomination.Silver,\n    },\n    {\n        id: 'mCzuipepJAJcuY0H',\n        name: 'Moderate Semiprecious Stones',\n        value: '1d4*25',\n        denomination: Denomination.Silver,\n    },\n    {\n        id: 'P3HzJtS2iUUWMedJ',\n        name: 'Greater Semiprecious Stones',\n        value: '1d4*5',\n        denomination: Denomination.Gold,\n    },\n];\nconst preciousTables: UniqueTableData[] = [\n    {\n        id: 'ZCYAQplm6zORj6eN',\n        name: 'Lesser Precious Stones',\n        value: '1d4*50',\n        denomination: Denomination.Gold,\n    },\n    {\n        id: 'wCXPh3nft3qWuxro',\n        name: 'Moderate Precious Stones',\n        value: '1d4*100',\n        denomination: Denomination.Gold,\n    },\n    {\n        id: 'teZCrF2SOghusarb',\n        name: 'Greater Precious Stones',\n        value: '1d4*500',\n        denomination: Denomination.Gold,\n    },\n];\nconst artTables: UniqueTableData[] = [\n    {\n        id: 'ME37cisDz8J2m0H7',\n        name: 'Minor Art Object',\n        value: '1d4*1',\n        denomination: Denomination.Gold,\n    },\n    {\n        id: 'zyXbnTnUGs7tWR5j',\n        name: 'Lesser Art Object',\n        value: '1d4*10',\n        denomination: Denomination.Gold,\n    },\n    {\n        id: 'bCD07W38YjbnyVoZ',\n        name: 'Moderate Art Object',\n        value: '1d4*25',\n        denomination: Denomination.Gold,\n    },\n    {\n        id: 'qmxGfxkMp9vCOtNQ',\n        name: 'Greater Art Object',\n        value: '1d4*250',\n        denomination: Denomination.Gold,\n    },\n    {\n        id: 'hTBTUf9dmhDkpIo8',\n        name: 'Major Art Object',\n        value: '1d4*1000',\n        denomination: Denomination.Gold,\n    },\n];\n\nconst valueMultiplier = (source: UniqueTableData): number => {\n    // TODO: Select value with a regex to avoid errors with values other than 1d4*n\n    let value = parseInt(source.value.substr('1d4*'.length));\n    switch (source.denomination) {\n        case Denomination.Copper:\n            return value / 100;\n        case Denomination.Silver:\n            return value / 10;\n        case Denomination.Gold:\n            return value;\n        case Denomination.Platinum:\n            return value * 10;\n    }\n};\nconst tableIds: UniqueTableData[] = [...semipreciousTables, ...preciousTables, ...artTables].sort((a, b) => valueMultiplier(a) - valueMultiplier(b));\n\nconst treasureSourceTemplate = (data: UniqueTableData): TreasureSource => {\n    return {\n        id: data.id,\n        storeId: tableStoreId(data.id),\n        name: data.name,\n        value: data.value,\n        denomination: data.denomination,\n\n        tableSource: RollableTablesPack,\n        sourceType: SourceType.Table,\n        itemType: GenType.Permanent,\n        weight: 1,\n        enabled: true,\n    };\n};\n\nexport const treasureSources: Record<string, TreasureSource> = tableIds.reduce(\n    (prev, curr) =>\n        mergeObject(prev, {\n            [tableStoreId(curr.id)]: treasureSourceTemplate(curr),\n        }),\n    {},\n);\n","/*\n * Copyright 2021 Andrew Cuccinello\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n *\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SpellSchool, SpellTradition } from '../module/loot-app/source/Spells';\nimport { PotencyRuneType } from '../module/loot-app/data/Runes';\n\ndeclare global {\n    interface CONFIG {\n        PF2E: {\n            preciousMaterials: {\n                [T in PreciousMaterialType]: string;\n            };\n            preciousMaterialGrades: {\n                [T in PreciousMaterialGrade]: string;\n            };\n            weaponStrikingRunes: {\n                [T in StrikingRuneType]: string;\n            };\n            armorResiliencyRunes: {\n                [T in ResiliencyRuneType]: string;\n            };\n            weaponPotencyRunes: {\n                [T in ZeroToFour]: string;\n            };\n            armorPotencyRunes: {\n                [T in ZeroToFour]: string;\n            };\n            weaponPropertyRunes: {\n                [T in WeaponPropertyRuneType]: string;\n            };\n            armorPropertyRunes: {\n                [T in ArmorPropertyRuneType]: string;\n            };\n        };\n    }\n}\n\nexport type HTMLItemString = `@Item[${string}]` | `@Item[${string}]{${string}}`;\n\nexport enum Rarity {\n    Common = 'common',\n    Uncommon = 'uncommon',\n    Rare = 'rare',\n    Unique = 'unique',\n}\n\nexport enum EquipmentType {\n    Weapon = 'weapon',\n    Armor = 'armor',\n\n    Buckler = 'buckler',\n    Shield = 'shield',\n    Tower = 'tower',\n}\n\nexport const PropertyRuneCreateKey = ['propertyRune1', 'propertyRune2', 'propertyRune3', 'propertyRune4'];\nexport type PropertyRuneCreateKey = `propertyRune${'1' | '2' | '3' | '4'}`;\n\nexport type EquipmentItemType = 'armor' | 'weapon';\nexport type PhysicalItemType = EquipmentItemType | 'consumable' | 'equipment' | 'treasure';\nexport type ItemType = PhysicalItemType | 'spell';\n\nexport type ResiliencyRuneType = 'resilient' | 'greaterResilient' | 'majorResilient' | '';\nexport type StrikingRuneType = 'striking' | 'greaterStriking' | 'majorStriking' | '';\nexport type ArmorType = 'shield' | 'unarmored' | 'light' | 'medium' | 'heavy';\nexport type WeaponType = 'unarmed' | 'simple' | 'advanced' | 'martial';\n\nexport type WeaponPropertyRuneType =\n    | ''\n    | 'kinWarding'\n    | 'returning'\n    | 'ghostTouch'\n    | 'disrupting'\n    | 'pacifying'\n    | 'fearsome'\n    | 'shifting'\n    | 'conducting'\n    | 'wounding'\n    | 'bloodbane'\n    | 'corrosive'\n    | 'cunning'\n    | 'flaming'\n    | 'frost'\n    | 'shock'\n    | 'thundering'\n    | 'grievous'\n    | 'serrating'\n    | 'anarchic'\n    | 'axiomatic'\n    | 'holy'\n    | 'unholy'\n    | 'greaterFearsome'\n    | 'dancing'\n    | 'spellStoring'\n    | 'greaterBloodbane'\n    | 'keen'\n    | 'greaterDisrupting'\n    | 'greaterCorrosive'\n    | 'greaterFlaming'\n    | 'greaterFrost'\n    | 'greaterShock'\n    | 'greaterThundering'\n    | 'ancestralEchoing'\n    | 'speed'\n    | 'vorpal';\n\nexport type ArmorPropertyRuneType =\n    | ''\n    | 'ready'\n    | 'slick'\n    | 'shadow'\n    | 'glamered'\n    | 'acidResistant'\n    | 'coldResistant'\n    | 'electricityResistant'\n    | 'fireResistant'\n    | 'greaterSlick'\n    | 'invisibility'\n    | 'sinisterKnight'\n    | 'greaterReady'\n    | 'greaterShadow'\n    | 'greaterInvisibility'\n    | 'greaterAcidResistant'\n    | 'greaterColdResistant'\n    | 'greaterElectricityResistant'\n    | 'greaterFireResistant'\n    | 'fortification'\n    | 'winged'\n    | 'rockBraced'\n    | 'soaring'\n    | 'antimagic'\n    | 'majorSlick'\n    | 'ethereal'\n    | 'majorShadow'\n    | 'greaterFortification'\n    | 'greaterWinged';\n\nexport type PropertyRuneType = WeaponPropertyRuneType | ArmorPropertyRuneType;\n\nexport type SpellType = 'attack' | 'save' | 'utility' | 'heal';\n\nexport type ConsumableType = 'ammo' | 'potion' | 'oil' | 'scroll' | 'talisman' | 'snare' | 'drug' | 'elixir' | 'mutagen' | 'other' | 'poison' | 'tool' | 'wand';\n\nexport type ZeroToFour = 0 | 1 | 2 | 3 | 4;\n\nexport type CurrencyType = 'cp' | 'sp' | 'gp' | 'pp';\nexport type PriceString = `${number} ${CurrencyType}` | `${number}${CurrencyType}`;\n\nexport type WeightType = 'L';\nexport type WeightString = `${number}${WeightType | ''}` | WeightType;\n\nexport type PreciousMaterialType =\n    | 'adamantine'\n    | 'coldIron'\n    | 'darkwood'\n    | 'dragonhide'\n    | 'mithral'\n    | 'orichalcum'\n    | 'silver'\n    | 'sovereignSteel'\n    | 'warpglass'\n    | '';\n\nexport type ArmorGroupType = 'composite' | 'chain' | 'cloth' | 'leather' | 'plate';\nexport type WeaponGroupType =\n    | 'club'\n    | 'knife'\n    | 'brawling'\n    | 'spear'\n    | 'sword'\n    | 'axe'\n    | 'flail'\n    | 'polearm'\n    | 'pick'\n    | 'hammer'\n    | 'shield'\n    | 'dart'\n    | 'bow'\n    | 'sling'\n    | 'bomb';\n\nexport enum PreciousMaterialGrade {\n    None = '',\n    Low = 'low',\n    Standard = 'standard',\n    High = 'high',\n}\n\nexport type IdentificationStatus = 'identified' | 'unidentified';\n\nexport interface IValue<T> {\n    value: T;\n}\n\nexport interface Identification {\n    identified: IdentificationData;\n    unidentified: IdentificationData;\n    status: IdentificationStatus;\n}\nexport interface IdentificationData {\n    data: {\n        description: IValue<string>;\n    };\n    img: string;\n    name: string;\n}\n\nexport interface PF2EItem {\n    _id: string;\n    name?: string;\n    type: ItemType;\n    data: PF2EItemData;\n    img: string;\n    flags: Record<string, unknown>;\n    folder?: string;\n}\nexport interface PF2EItemData {\n    slug: string;\n    level: IValue<number>;\n    description: IValue<string>;\n    source: IValue<string>;\n    traits: IValue<Array<string>> & {\n        rarity: IValue<Rarity>;\n    };\n}\n\nexport interface SpellItem extends PF2EItem {\n    type: 'spell';\n    data: SpellData;\n}\nexport interface SpellData extends PF2EItemData {\n    spellType: IValue<SpellType>;\n    school: IValue<SpellSchool>;\n    traditions: IValue<Array<SpellTradition>>;\n}\nexport function isSpell(item: PF2EItem | undefined): item is SpellItem {\n    if (item === undefined) return false;\n    return item.data.hasOwnProperty('spellType');\n}\n\nexport interface PhysicalItem extends PF2EItem {\n    type: PhysicalItemType;\n    data: PhysicalItemData;\n}\nexport interface PhysicalItemData extends PF2EItemData {\n    hp: IValue<number>;\n    maxHp: IValue<number>;\n    hardness: IValue<number>;\n    brokenThreshold: IValue<number>;\n\n    price: IValue<PriceString>;\n    weight: IValue<WeightString>;\n\n    quantity: IValue<number>;\n    stackGroup: IValue<string>;\n    equipped: IValue<boolean>;\n    invested: IValue<boolean>;\n\n    identification: Identification;\n\n    preciousMaterial: IValue<PreciousMaterialType>;\n    preciousMaterialGrade: IValue<PreciousMaterialGrade>;\n}\nconst physicalCheckProperties = ['hp', 'maxHp', 'price', 'weight'];\nexport function isPhysicalItem(item: PF2EItem | undefined): item is PhysicalItem {\n    if (item === undefined) return false;\n    for (let i = 0; i < physicalCheckProperties.length; i++) {\n        if (!item.data.hasOwnProperty(physicalCheckProperties[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nexport interface TreasureItem extends PhysicalItem {\n    type: 'treasure';\n    data: TreasureItemData;\n}\nexport interface TreasureItemData extends PhysicalItemData {\n    value: IValue<number>;\n}\nexport function isTreasure(item: PF2EItem | undefined): item is TreasureItem {\n    if (item === undefined) return false;\n    return isPhysicalItem(item) && item.data.hasOwnProperty('value');\n}\n\nexport interface ConsumableItem extends PhysicalItem {\n    type: 'consumable';\n    data: ConsumableItemData;\n}\ninterface ConsumableSpellData {\n    data: SpellItem;\n    heightenedLevel: number;\n}\ninterface NoConsumableSpellData {\n    data: null;\n    heightenedLevel: null;\n}\nexport interface ConsumableItemData extends PhysicalItemData {\n    consumableType: IValue<ConsumableType>;\n    spell: ConsumableSpellData | NoConsumableSpellData;\n}\n\nexport interface EquipmentItem extends PhysicalItem {\n    type: EquipmentItemType;\n    data: EquipmentItemData;\n}\nexport interface EquipmentItemData extends PhysicalItemData {\n    group: IValue<WeaponGroupType> | IValue<ArmorGroupType>;\n    specific: IValue<boolean>;\n    equippedBulk: IValue<WeightString | ''>;\n    propertyRune1: IValue<WeaponPropertyRuneType | ArmorPropertyRuneType>;\n    propertyRune2: IValue<WeaponPropertyRuneType | ArmorPropertyRuneType>;\n    propertyRune3: IValue<WeaponPropertyRuneType | ArmorPropertyRuneType>;\n    propertyRune4: IValue<WeaponPropertyRuneType | ArmorPropertyRuneType>;\n}\nconst equipmentCheckProperties = ['equippedBulk', 'propertyRune1', 'propertyRune2'];\nexport function isEquipment(item: PF2EItem | undefined): item is EquipmentItem {\n    if (item === undefined) return false;\n    if (!isPhysicalItem(item)) return false;\n    for (let i = 0; i < equipmentCheckProperties.length; i++) {\n        if (!item.data.hasOwnProperty(equipmentCheckProperties[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nexport interface Weapon extends EquipmentItem {\n    type: 'weapon';\n    data: WeaponData;\n}\nexport interface WeaponData extends EquipmentItemData {\n    group: IValue<WeaponGroupType>;\n    weaponData: IValue<WeaponType>;\n    potencyRune: IValue<PotencyRuneType>;\n    strikingRune: IValue<StrikingRuneType>;\n\n    propertyRune1: IValue<WeaponPropertyRuneType>;\n    propertyRune2: IValue<WeaponPropertyRuneType>;\n    propertyRune3: IValue<WeaponPropertyRuneType>;\n    propertyRune4: IValue<WeaponPropertyRuneType>;\n}\nexport function isWeapon(item: PF2EItem | undefined): item is Weapon {\n    if (item === undefined) return false;\n    return item.type === 'weapon';\n}\n\nexport interface BaseArmor extends EquipmentItem {\n    type: 'armor';\n    data: ArmorData | ShieldData;\n}\nexport interface BaseArmorData extends EquipmentItemData {\n    group: IValue<ArmorGroupType>;\n    armorType: IValue<ArmorType>;\n    armor: IValue<number>;\n    strength: IValue<number>;\n    dex: IValue<number>;\n\n    propertyRune1: IValue<ArmorPropertyRuneType>;\n    propertyRune2: IValue<ArmorPropertyRuneType>;\n    propertyRune3: IValue<ArmorPropertyRuneType>;\n    propertyRune4: IValue<ArmorPropertyRuneType>;\n}\n\nexport interface Armor extends BaseArmor {\n    data: ArmorData;\n}\nexport interface ArmorData extends BaseArmorData {\n    potencyRune: IValue<PotencyRuneType>;\n    resiliencyRune: IValue<ResiliencyRuneType>;\n}\nexport function isArmor(item: PF2EItem | undefined): item is Armor {\n    if (item === undefined) return false;\n    return item.type === 'armor';\n}\n\nexport interface Shield extends BaseArmor {\n    data: ShieldData;\n}\nexport interface ShieldData extends BaseArmorData {}\nexport function isShield(item: PF2EItem | undefined): item is Shield {\n    if (item === undefined) return false;\n    return isArmor(item) && item.data.armorType.value === 'shield';\n}\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJGVlRULUNvbW1vbi9zcmMvbW9kdWxlL0hhbmRsZWJhcnMudHMiLCJGVlRULUNvbW1vbi9zcmMvbW9kdWxlL01vZHVsZVNldHRpbmdzLnRzIiwiRlZUVC1Db21tb24vc3JjL21vZHVsZS9zZXR0aW5ncy1hcHAvU2V0dGluZ3NBcHAudHMiLCJzcmMvbW9kdWxlL0NvbnN0YW50cy50cyIsInNyYy9tb2R1bGUvSGFuZGxlYmFycy50cyIsInNyYy9tb2R1bGUvTWFpbi50cyIsInNyYy9tb2R1bGUvU2V0dXAudHMiLCJzcmMvbW9kdWxlL2ZpbHRlci9FcXVhbGl0eVR5cGUudHMiLCJzcmMvbW9kdWxlL2ZpbHRlci9GaWx0ZXJHcm91cC50cyIsInNyYy9tb2R1bGUvZmlsdGVyL09wZXJhdGlvbi9BcnJheUluY2x1ZGVzRmlsdGVyLnRzIiwic3JjL21vZHVsZS9maWx0ZXIvT3BlcmF0aW9uL051bWJlckZpbHRlci50cyIsInNyYy9tb2R1bGUvZmlsdGVyL09wZXJhdGlvbi9TdHJpbmdGaWx0ZXIudHMiLCJzcmMvbW9kdWxlL2ZpbHRlci9PcGVyYXRpb24vV2VpZ2h0ZWRGaWx0ZXIudHMiLCJzcmMvbW9kdWxlL2xvb3QtYXBwL0ZpbHRlcnMudHMiLCJzcmMvbW9kdWxlL2xvb3QtYXBwL0ZsYWdzLnRzIiwic3JjL21vZHVsZS9sb290LWFwcC9Gb3JtYXR0aW5nLnRzIiwic3JjL21vZHVsZS9sb290LWFwcC9Mb290QXBwLnRzIiwic3JjL21vZHVsZS9sb290LWFwcC9VdGlsaXRpZXMudHMiLCJzcmMvbW9kdWxlL2xvb3QtYXBwL2RhdGEvTWF0ZXJpYWxzLnRzIiwic3JjL21vZHVsZS9sb290LWFwcC9kYXRhL1J1bmVzLnRzIiwic3JjL21vZHVsZS9sb290LWFwcC9zb3VyY2UvQ29uc3VtYWJsZS50cyIsInNyYy9tb2R1bGUvbG9vdC1hcHAvc291cmNlL0RhdGFTb3VyY2UudHMiLCJzcmMvbW9kdWxlL2xvb3QtYXBwL3NvdXJjZS9QZXJtYW5lbnQudHMiLCJzcmMvbW9kdWxlL2xvb3QtYXBwL3NvdXJjZS9Sb2xsYWJsZVRhYmxlcy50cyIsInNyYy9tb2R1bGUvbG9vdC1hcHAvc291cmNlL1NwZWxscy50cyIsInNyYy9tb2R1bGUvbG9vdC1hcHAvc291cmNlL1RyZWFzdXJlLnRzIiwic3JjL3R5cGVzL1BGMkUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FDQUE7Ozs7Ozs7Ozs7Ozs7O0dBY0c7OztBQWtCSCxTQUFnQixlQUFlO0lBQzNCLDBCQUEwQjtJQUMxQixVQUFVLENBQUMsY0FBYyxDQUFDLE1BQU0sRUFBRSxVQUFtQyxDQUFNLEVBQUUsQ0FBTSxFQUFFLE9BQTBCO1FBQzNHLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUNULElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFO2dCQUNiLE9BQU8sRUFBRSxDQUFDO2FBQ2I7WUFDRCxPQUFPLE9BQU8sQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDM0I7YUFBTTtZQUNILElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxFQUFFO2dCQUNsQixPQUFPLEVBQUUsQ0FBQzthQUNiO1lBQ0QsT0FBTyxPQUFPLENBQUMsT0FBTyxFQUFFLENBQUM7U0FDNUI7SUFDTCxDQUFDLENBQUMsQ0FBQztBQUNQLENBQUM7QUFmRCwwQ0FlQzs7OztBQy9DRDs7Ozs7Ozs7Ozs7Ozs7R0FjRzs7O0FBRUgsNERBQXFEO0FBQ3JELDZDQUErQztBQUcvQyw4Q0FBOEM7QUFFOUMsTUFBTSxRQUFRLEdBQUcsZUFBZSxDQUFDO0FBcUNwQixRQUFBLG9CQUFvQixHQUFzQjtJQUNuRCxJQUFJLEVBQUUsYUFBYTtJQUNuQixLQUFLLEVBQUUsaUJBQWlCO0NBQzNCLENBQUM7QUFDVyxRQUFBLDBCQUEwQixHQUFzQjtJQUN6RCxJQUFJLEVBQUUsb0JBQW9CO0lBQzFCLEtBQUssRUFBRSxzQ0FBc0M7Q0FDaEQsQ0FBQztBQVFGLHlFQUF5RTtBQUN6RSxN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QUcsd0JBQXdCLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQ3RELElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO1lBQ3hELE9BQU8sS0FBSyxDQUFDO1NBQ2hCO0tBQ0o7SUFDRCxPQUFPLElBQUksQ0FBQztBQUNoQixDQUFDO0FBVEQsa0NBU0M7QUFpQkQsU0FBZ0IsUUFBUSxDQUFDLElBQTBCO0lBQy9DLElBQUksSUFBSSxLQUFLLFNBQVM7UUFBRSxPQUFPLEtBQUssQ0FBQztJQUNyQyxPQUFPLElBQUksQ0FBQyxJQUFJLEtBQUssUUFBUSxDQUFDO0FBQ2xDLENBQUM7QUFIRCw0QkFHQztBQTBCRCxTQUFnQixPQUFPLENBQUMsSUFBMEI7SUFDOUMsSUFBSSxJQUFJLEtBQUssU0FBUztRQUFFLE9BQU8sS0FBSyxDQUFDO0lBQ3JDLE9BQU8sSUFBSSxDQUFDLElBQUksS0FBSyxPQUFPLENBQUM7QUFDakMsQ0FBQztBQUhELDBCQUdDO0FBTUQsU0FBZ0IsUUFBUSxDQUFDLElBQTBCO0lBQy9DLElBQUksSUFBSSxLQUFLLFNBQVM7UUFBRSxPQUFPLEtBQUssQ0FBQztJQUNyQyxPQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLEtBQUssUUFBUSxDQUFDO0FBQ25FLENBQUM7QUFIRCw0QkFHQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8qXG4gKiBDb3B5cmlnaHQgMjAyMSBBbmRyZXcgQ3VjY2luZWxsb1xuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5leHBvcnQgaW50ZXJmYWNlIEhhbmRsZWJhcnNDb250ZXh0IHtcbiAgICBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ICYge1xuICAgICAgICByb290OiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICAgIH07XG4gICAgaGFzaD86IFJlY29yZDxzdHJpbmcsIGFueT47XG4gICAgLy8gY29udGVudHMgb2YgYmxvY2tcbiAgICBmbj86IChjb250ZXh0OiBhbnkpID0+IHN0cmluZztcbiAgICAvLyBjb250ZW50cyBvZiBlbHNlIGJsb2NrXG4gICAgaW52ZXJzZT86ICgpID0+IHN0cmluZztcbiAgICBsb2M/OiB7XG4gICAgICAgIHN0YXJ0OiB7IGxpbmU6IG51bWJlcjsgY29sdW1uOiBudW1iZXIgfTtcbiAgICAgICAgZW5kOiB7IGxpbmU6IG51bWJlcjsgY29sdW1uOiBudW1iZXIgfTtcbiAgICB9O1xuICAgIG5hbWU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckhlbHBlcnMoKSB7XG4gICAgLy8gYWJzb2x1dGUgZXF1YWxpdHkgY2hlY2tcbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdpZmVxJywgZnVuY3Rpb24gKHRoaXM6IEhhbmRsZWJhcnNDb250ZXh0LCBhOiBhbnksIGI6IGFueSwgb3B0aW9uczogSGFuZGxlYmFyc0NvbnRleHQpIHtcbiAgICAgICAgaWYgKGEgPT09IGIpIHtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5mbikge1xuICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmZuKHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmludmVyc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5pbnZlcnNlKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbiIsIi8qXG4gKiBDb3B5cmlnaHQgMjAyMSBBbmRyZXcgQ3VjY2luZWxsb1xuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgU2V0dGluZ3NBcHAgZnJvbSAnLi9zZXR0aW5ncy1hcHAvU2V0dGluZ3NBcHAnO1xuaW1wb3J0IHsgcmVnaXN0ZXJIZWxwZXJzIH0gZnJvbSAnLi9IYW5kbGViYXJzJztcbmltcG9ydCB7IHJlZ2lzdGVySGFuZGxlYmFyc1RlbXBsYXRlcyB9IGZyb20gJy4uLy4uLy4uL3NyYy9tb2R1bGUvSGFuZGxlYmFycyc7XG5cbi8vIFRPRE86IExvY2FsaXphdGlvbiBvZiBzdHJpbmdzIGluIHRoaXMgZmlsZS5cblxuY29uc3QgTUVOVV9LRVkgPSAnU0VUVElOR1NfTUVOVSc7XG5cbmV4cG9ydCB0eXBlIElGZWF0dXJlSW5wdXRUeXBlID0gJ2NoZWNrYm94JyB8ICdudW1iZXInIHwgJ3RleHQnIHwgJ2ZpbGUnO1xuZXhwb3J0IGludGVyZmFjZSBJRmVhdHVyZUF0dHJpYnV0ZSB7XG4gICAgaWNvbjogc3RyaW5nO1xuICAgIHRpdGxlOiBzdHJpbmc7XG59XG5leHBvcnQgaW50ZXJmYWNlIElGZWF0dXJlSW5wdXQge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBsYWJlbDogc3RyaW5nO1xuICAgIHR5cGU6IElGZWF0dXJlSW5wdXRUeXBlO1xuICAgIGhlbHA/OiBzdHJpbmc7XG4gICAgdmFsdWU6IGFueTtcbiAgICBtYXg/OiBudW1iZXI7XG4gICAgbWluPzogbnVtYmVyO1xufVxuZXhwb3J0IGludGVyZmFjZSBJRmVhdHVyZVJlZ2lzdHJhdGlvbiB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHR5cGU6IEJvb2xlYW5Db25zdHJ1Y3RvciB8IE51bWJlckNvbnN0cnVjdG9yIHwgU3RyaW5nQ29uc3RydWN0b3I7XG4gICAgZGVmYXVsdDogYW55O1xuICAgIG9uQ2hhbmdlPzogKHZhbHVlOiBhbnkpID0+IHZvaWQ7XG59XG5leHBvcnQgdHlwZSBIb29rQ2FsbGJhY2sgPSAoKSA9PiB2b2lkO1xuZXhwb3J0IGludGVyZmFjZSBJRmVhdHVyZURlZmluaXRpb24ge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgdGl0bGU6IHN0cmluZztcbiAgICBhdHRyaWJ1dGVzPzogSUZlYXR1cmVBdHRyaWJ1dGVbXTtcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICAgIGRlZmF1bHQ/OiBib29sZWFuO1xuICAgIGlucHV0czogSUZlYXR1cmVJbnB1dFtdO1xuICAgIHJlZ2lzdGVyOiBJRmVhdHVyZVJlZ2lzdHJhdGlvbltdO1xuICAgIGhlbHA/OiBzdHJpbmc7XG4gICAgb25SZWFkeT86IEhvb2tDYWxsYmFjaztcbiAgICBvbkluaXQ/OiBIb29rQ2FsbGJhY2s7XG4gICAgb25TZXR1cD86IEhvb2tDYWxsYmFjaztcbn1cblxuZXhwb3J0IGNvbnN0IEFUVFJfUkVMT0FEX1JFUVVJUkVEOiBJRmVhdHVyZUF0dHJpYnV0ZSA9IHtcbiAgICBpY29uOiAnZmFzIGZhLXN5bmMnLFxuICAgIHRpdGxlOiAnUmVsb2FkIFJlcXVpcmVkJyxcbn07XG5leHBvcnQgY29uc3QgQVRUUl9SRU9QRU5fU0hFRVRfUkVRVUlSRUQ6IElGZWF0dXJlQXR0cmlidXRlID0ge1xuICAgIGljb246ICdmYXMgZmEtc3RpY2t5LW5vdGUnLFxuICAgIHRpdGxlOiAnU2hlZXRzIG11c3QgYmUgY2xvc2VkIGFuZCByZS1vcGVuZWQuJyxcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgTW9kdWxlU2V0dGluZ3NBcmdzIHtcbiAgICBtb2R1bGVOYW1lOiBzdHJpbmc7XG4gICAgbW9kdWxlVGl0bGU6IHN0cmluZztcbiAgICBmZWF0dXJlczogSUZlYXR1cmVEZWZpbml0aW9uW107XG59XG5cbi8vIFRPRE86IFRoaXMgY2FuIGJlIGEgZ2VuZXJpYyBjbGFzcyBzbyB3ZSBoYXZlIGNvcnJlY3RseSB0eXBlZCBmZWF0dXJlcy5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZHVsZVNldHRpbmdzIHtcbiAgICBwcm90ZWN0ZWQgc3RhdGljIF9pbnN0YW5jZTogTW9kdWxlU2V0dGluZ3M7XG4gICAgcHVibGljIHN0YXRpYyBnZXQgaW5zdGFuY2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW5jZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGluaXRpYWxpemUob3B0aW9uczogTW9kdWxlU2V0dGluZ3NBcmdzKSB7XG4gICAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IE1vZHVsZVNldHRpbmdzKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9pbnN0YW5jZS5yZWdpc3RlckFsbFNldHRpbmdzKCk7XG5cbiAgICAgICAgcmVnaXN0ZXJIZWxwZXJzKCk7XG5cbiAgICAgICAgSG9va3Mub24oJ2luaXQnLCAoKSA9PiBNb2R1bGVTZXR0aW5ncy5pbnN0YW5jZS5vbkluaXQoKSk7XG4gICAgICAgIEhvb2tzLm9uKCdzZXR1cCcsICgpID0+IE1vZHVsZVNldHRpbmdzLmluc3RhbmNlLm9uU2V0dXAoKSk7XG4gICAgICAgIEhvb2tzLm9uKCdyZWFkeScsICgpID0+IE1vZHVsZVNldHRpbmdzLmluc3RhbmNlLm9uUmVhZHkoKSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKG9wdGlvbnM6IE1vZHVsZVNldHRpbmdzQXJncykge1xuICAgICAgICB0aGlzLl9tb2R1bGVOYW1lID0gb3B0aW9ucy5tb2R1bGVOYW1lO1xuICAgICAgICB0aGlzLl9tb2R1bGVUaXRsZSA9IG9wdGlvbnMubW9kdWxlVGl0bGU7XG4gICAgICAgIHRoaXMuX2ZlYXR1cmVzID0gb3B0aW9ucy5mZWF0dXJlcztcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgX21vZHVsZU5hbWU6IHN0cmluZztcbiAgICBwcm90ZWN0ZWQgX21vZHVsZVRpdGxlOiBzdHJpbmc7XG4gICAgcHJvdGVjdGVkIF9mZWF0dXJlczogSUZlYXR1cmVEZWZpbml0aW9uW107XG5cbiAgICBwdWJsaWMgZ2V0IG1vZHVsZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tb2R1bGVOYW1lO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgbW9kdWxlVGl0bGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tb2R1bGVUaXRsZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGZlYXR1cmVzKCkge1xuICAgICAgICByZXR1cm4gZHVwbGljYXRlKHRoaXMuX2ZlYXR1cmVzKSBhcyBJRmVhdHVyZURlZmluaXRpb25bXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZSBhIHNldHRpbmcgZnJvbSB0aGUgc3RvcmUuXG4gICAgICogQHBhcmFtIGtleSBUaGV5IGtleSB0aGUgc2V0dGluZyByZXNpZGVzIGF0LlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQ8VCA9IGFueT4oa2V5OiBzdHJpbmcpOiBUIHtcbiAgICAgICAgcmV0dXJuIChnYW1lIGFzIEdhbWUpLnNldHRpbmdzLmdldCh0aGlzLl9tb2R1bGVOYW1lLCBrZXkpIGFzIFQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB2YWx1ZSBvZiBhIHNldHRpbmcgaW4gdGhlIHN0b3JlLlxuICAgICAqIEBwYXJhbSBrZXkgVGhlIGtleSB0aGUgc2V0dGluZyByZXNpZGVzIGF0LlxuICAgICAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdGhlIHNldHRpbmcgc2hvdWxkIGJlIHNldCB0by5cbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgc2V0KGtleTogc3RyaW5nLCB2YWx1ZTogYW55KSB7XG4gICAgICAgIHJldHVybiAoZ2FtZSBhcyBHYW1lKS5zZXR0aW5ncy5zZXQodGhpcy5fbW9kdWxlTmFtZSwga2V5LCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBzZXR0aW5nIHdpdGggdGhlIHN0b3JlLlxuICAgICAqIEBwYXJhbSBrZXkgVGhlIGtleSB0aGUgc2V0dGluZyBzaG91bGQgcmVzaWRlIGF0LlxuICAgICAqIEBwYXJhbSB2YWx1ZSBUaGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2V0dGluZy5cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVnKGtleTogc3RyaW5nLCB2YWx1ZTogYW55KSB7XG4gICAgICAgIChnYW1lIGFzIEdhbWUpLnNldHRpbmdzLnJlZ2lzdGVyKHRoaXMuX21vZHVsZU5hbWUsIGtleSwgdmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJpbmRzIG9uIGluaXQgaG9va3MgZm9yIGVhY2ggZmVhdHVyZSB0aGF0IGhhcyB0aGVtLlxuICAgICAqL1xuICAgIHB1YmxpYyBvbkluaXQoKSB7XG4gICAgICAgIGZvciAoY29uc3QgZmVhdHVyZSBvZiB0aGlzLl9mZWF0dXJlcykge1xuICAgICAgICAgICAgaWYgKGZlYXR1cmUub25Jbml0ICYmIHRoaXMuZ2V0KGZlYXR1cmUuaWQpKSB7XG4gICAgICAgICAgICAgICAgZmVhdHVyZS5vbkluaXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJpbmRzIG9uIHNldHVwIGhvb2tzIGZvciBlYWNoIGZlYXR1cmUgdGhhdCBoYXMgdGhlbS5cbiAgICAgKi9cbiAgICBwdWJsaWMgb25TZXR1cCgpIHtcbiAgICAgICAgZm9yIChjb25zdCBmZWF0dXJlIG9mIHRoaXMuX2ZlYXR1cmVzKSB7XG4gICAgICAgICAgICBpZiAoZmVhdHVyZS5vblNldHVwICYmIHRoaXMuZ2V0KGZlYXR1cmUuaWQpKSB7XG4gICAgICAgICAgICAgICAgZmVhdHVyZS5vblNldHVwKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCaW5kcyBvbiByZWFkeSBob29rcyBmb3IgZWFjaCBmZWF0dXJlIHRoYXQgaGFzIHRoZW0uXG4gICAgICovXG4gICAgcHVibGljIG9uUmVhZHkoKSB7XG4gICAgICAgIGZvciAoY29uc3QgZmVhdHVyZSBvZiB0aGlzLl9mZWF0dXJlcykge1xuICAgICAgICAgICAgaWYgKGZlYXR1cmUub25SZWFkeSAmJiB0aGlzLmdldChmZWF0dXJlLmlkKSkge1xuICAgICAgICAgICAgICAgIGZlYXR1cmUub25SZWFkeSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGFsbCBnYW1lIHNldHRpbmdzIGZvciB0aGUgYXBwbGljYXRpb24uXG4gICAgICovXG4gICAgcHJvdGVjdGVkIHJlZ2lzdGVyQWxsU2V0dGluZ3MoKSB7XG4gICAgICAgIGZvciAoY29uc3QgZmVhdHVyZSBvZiB0aGlzLl9mZWF0dXJlcykge1xuICAgICAgICAgICAgLy8gUmVnaXN0ZXIgdGhlIGZlYXR1cmUgdG9nZ2xlXG4gICAgICAgICAgICBjb25zdCBlbmFibGVkID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IGZlYXR1cmUuaWQsXG4gICAgICAgICAgICAgICAgc2NvcGU6ICd3b3JsZCcsXG4gICAgICAgICAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiBmZWF0dXJlLmRlZmF1bHQgPz8gZmFsc2UsXG4gICAgICAgICAgICAgICAgY29uZmlnOiBmYWxzZSxcbiAgICAgICAgICAgICAgICByZXN0cmljdGVkOiB0cnVlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMucmVnKGZlYXR1cmUuaWQsIGVuYWJsZWQpO1xuXG4gICAgICAgICAgICAvLyBSZWdpc3RlciBhbnkgb3RoZXIgc2V0dGluZ3MgdmFsdWVzIGZvciBhIGZlYXR1cmUuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlZ2lzdHJhdGlvbiBvZiBmZWF0dXJlLnJlZ2lzdGVyKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2V0dGluZyA9IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogcmVnaXN0cmF0aW9uLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlOiAnd29ybGQnLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiByZWdpc3RyYXRpb24udHlwZSxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogcmVnaXN0cmF0aW9uLmRlZmF1bHQsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHJlc3RyaWN0ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiByZWdpc3RyYXRpb24ub25DaGFuZ2UsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZyhyZWdpc3RyYXRpb24ubmFtZSwgc2V0dGluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0ZW1wbGF0ZVBhdGhzID0gW1xuICAgICAgICAgICAgYHRlbXBsYXRlcy9zZXR0aW5ncy1hcHAvU2V0dGluZ3NBcHAuaHRtbGAsXG4gICAgICAgICAgICBgdGVtcGxhdGVzL3NldHRpbmdzLWFwcC90YWJzL0Fib3V0Lmh0bWxgLFxuICAgICAgICAgICAgYHRlbXBsYXRlcy9zZXR0aW5ncy1hcHAvdGFicy9GZWF0dXJlcy5odG1sYCxcbiAgICAgICAgICAgIGB0ZW1wbGF0ZXMvc2V0dGluZ3MtYXBwL3RhYnMvTGljZW5zZS5odG1sYCxcbiAgICAgICAgXS5tYXAoKHBhdGg6IHN0cmluZykgPT4gYG1vZHVsZXMvJHt0aGlzLl9tb2R1bGVOYW1lfS8ke3BhdGh9YCk7XG4gICAgICAgIGxvYWRUZW1wbGF0ZXModGVtcGxhdGVQYXRocyk7XG5cbiAgICAgICAgKGdhbWUgYXMgR2FtZSkuc2V0dGluZ3MucmVnaXN0ZXJNZW51KHRoaXMuX21vZHVsZU5hbWUsIE1FTlVfS0VZLCB7XG4gICAgICAgICAgICBuYW1lOiAnU2V0dGluZ3MnLFxuICAgICAgICAgICAgbGFiZWw6ICdTZXR0aW5ncycsXG4gICAgICAgICAgICBoaW50OiAnQ29uZmlndXJlIGVuYWJsZWQgZmVhdHVyZXMgYW5kIG90aGVyIG9wdGlvbnMsIHZpZXcgdGhlIGxpY2Vuc2UsIGFuZCBzZWUgdGhlIGFib3V0IHNlY3Rpb24gdG8gbGVhcm4gbW9yZSBhYm91dCBteSBtb2R1bGVzLicsXG4gICAgICAgICAgICBpY29uOiAnZmFzIGZhLWNvZ3MnLFxuICAgICAgICAgICAgdHlwZTogU2V0dGluZ3NBcHAsXG4gICAgICAgICAgICByZXN0cmljdGVkOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMjEgQW5kcmV3IEN1Y2NpbmVsbG9cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgTU9EVUxFX05BTUUgfSBmcm9tICcuLi8uLi8uLi8uLi9zcmMvbW9kdWxlL0NvbnN0YW50cyc7XG5pbXBvcnQgTW9kdWxlU2V0dGluZ3MsIHsgQVRUUl9SRUxPQURfUkVRVUlSRUQgfSBmcm9tICcuLi9Nb2R1bGVTZXR0aW5ncyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNldHRpbmdzQXBwIGV4dGVuZHMgRm9ybUFwcGxpY2F0aW9uPEZvcm1BcHBsaWNhdGlvbi5PcHRpb25zLCBhbnksIGFueT4ge1xuICAgIHN0YXRpYyBnZXQgZGVmYXVsdE9wdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBzdXBlci5kZWZhdWx0T3B0aW9ucztcbiAgICAgICAgb3B0aW9ucy50aXRsZSA9IGdhbWUuaTE4bi5sb2NhbGl6ZShNb2R1bGVTZXR0aW5ncy5pbnN0YW5jZS5tb2R1bGVUaXRsZSk7XG4gICAgICAgIG9wdGlvbnMudGVtcGxhdGUgPSBgbW9kdWxlcy8ke01vZHVsZVNldHRpbmdzLmluc3RhbmNlLm1vZHVsZU5hbWV9L3RlbXBsYXRlcy9zZXR0aW5ncy1hcHAvU2V0dGluZ3NBcHAuaHRtbGA7XG4gICAgICAgIG9wdGlvbnMuY2xhc3NlcyA9IG9wdGlvbnMuY2xhc3NlcyA/PyBbXTtcbiAgICAgICAgb3B0aW9ucy5jbGFzc2VzID0gWy4uLm9wdGlvbnMuY2xhc3NlcywgJ2RqLXNldHRpbmdzLWFwcCcsICdzZXR0aW5ncy1hcHAnXTtcbiAgICAgICAgb3B0aW9ucy50YWJzID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hdlNlbGVjdG9yOiBgLnNldHRpbmdzLWFwcC1uYXZgLFxuICAgICAgICAgICAgICAgIGNvbnRlbnRTZWxlY3RvcjogYC5zZXR0aW5ncy1hcHAtYm9keWAsXG4gICAgICAgICAgICAgICAgaW5pdGlhbDogYGFib3V0YCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF07XG4gICAgICAgIG9wdGlvbnMud2lkdGggPSA2MDA7XG4gICAgICAgIG9wdGlvbnMuaGVpZ2h0ID0gODAwO1xuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihvYmplY3Q/OiBvYmplY3QsIG9wdGlvbnM/OiBGb3JtQXBwbGljYXRpb24uT3B0aW9ucykge1xuICAgICAgICBpZiAob2JqZWN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG9iamVjdCA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyKG9iamVjdCwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgZ2V0RGF0YShvcHRpb25zPzogb2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IHJlbmRlckRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSBzdXBlci5nZXREYXRhKG9wdGlvbnMpO1xuXG4gICAgICAgIHJlbmRlckRhdGFbJ3RhYnMnXSA9IFtcbiAgICAgICAgICAgIGBtb2R1bGVzLyR7TW9kdWxlU2V0dGluZ3MuaW5zdGFuY2UubW9kdWxlTmFtZX0vdGVtcGxhdGVzL3NldHRpbmdzLWFwcC90YWJzL0Fib3V0Lmh0bWxgLFxuICAgICAgICAgICAgYG1vZHVsZXMvJHtNb2R1bGVTZXR0aW5ncy5pbnN0YW5jZS5tb2R1bGVOYW1lfS90ZW1wbGF0ZXMvc2V0dGluZ3MtYXBwL3RhYnMvRmVhdHVyZXMuaHRtbGAsXG4gICAgICAgICAgICBgbW9kdWxlcy8ke01vZHVsZVNldHRpbmdzLmluc3RhbmNlLm1vZHVsZU5hbWV9L3RlbXBsYXRlcy9zZXR0aW5ncy1hcHAvdGFicy9MaWNlbnNlLmh0bWxgLFxuICAgICAgICBdO1xuXG4gICAgICAgIGxldCBmZWF0dXJlcyA9IE1vZHVsZVNldHRpbmdzLmluc3RhbmNlLmZlYXR1cmVzO1xuICAgICAgICBmb3IgKGNvbnN0IHNldHRpbmcgb2YgZmVhdHVyZXMpIHtcbiAgICAgICAgICAgIHNldHRpbmcuaW5wdXRzLnVuc2hpZnQoe1xuICAgICAgICAgICAgICAgIG5hbWU6IHNldHRpbmcuaWQsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdFbmFibGUnLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdjaGVja2JveCcsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsIC8vIHJlbWVtYmVyIHdpbGwgYmUgb3ZlcnJpZGRlbiBiZWxvd1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgaW5wdXQgb2Ygc2V0dGluZy5pbnB1dHMpIHtcbiAgICAgICAgICAgICAgICBpbnB1dFsndmFsdWUnXSA9IE1vZHVsZVNldHRpbmdzLmluc3RhbmNlLmdldChpbnB1dC5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZW5kZXJEYXRhWydmZWF0dXJlcyddID0gZmVhdHVyZXM7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlckRhdGE7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFzeW5jIF91cGRhdGVPYmplY3QoZXZlbnQ6IEV2ZW50LCBmb3JtRGF0YTogYW55KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGxldCBzaG91bGRSZWxvYWQgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgZmVhdHVyZXMgPSBNb2R1bGVTZXR0aW5ncy5pbnN0YW5jZS5mZWF0dXJlcztcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCBuZXdWYWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZm9ybURhdGEpKSB7XG4gICAgICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IE1vZHVsZVNldHRpbmdzLmluc3RhbmNlLmdldChrZXkpO1xuICAgICAgICAgICAgYXdhaXQgTW9kdWxlU2V0dGluZ3MuaW5zdGFuY2Uuc2V0KGtleSwgbmV3VmFsdWUpO1xuXG4gICAgICAgICAgICBpZiAob2xkVmFsdWUgIT09IG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVsb2FkUmVxdWlyZWQgPSBmZWF0dXJlcy5maW5kKChmZWF0dXJlKSA9PiBmZWF0dXJlLmlkID09PSBrZXkpPy5hdHRyaWJ1dGVzPy5pbmNsdWRlcyhBVFRSX1JFTE9BRF9SRVFVSVJFRCkgPz8gZmFsc2U7XG4gICAgICAgICAgICAgICAgc2hvdWxkUmVsb2FkID0gc2hvdWxkUmVsb2FkIHx8IHJlbG9hZFJlcXVpcmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNob3VsZFJlbG9hZCkge1xuICAgICAgICAgICAgaWYgKGNvbmZpcm0oJ1RoZSBGb3VuZHJ5IHdpbmRvdyBtdXN0IGJlIHJlZnJlc2hlZCBiZWZvcmUgc29tZSBzZXR0aW5ncyBhcmUgYXBwbGllZC4gUmVmcmVzaCBub3c/JykpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMjEgQW5kcmV3IEN1Y2NpbmVsbG9cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuZXhwb3J0IGNvbnN0IE1PRFVMRV9OQU1FID0gYHBmMmUtbG9vdGdlbmA7XG5leHBvcnQgY29uc3QgTU9EVUxFX1RJVExFID0gYFBGMkUgTG9vdCBHZW5lcmF0b3JgO1xuZXhwb3J0IGNvbnN0IFBGMkVfTE9PVF9TSEVFVF9OQU1FID0gYExvb3RTaGVldFBGMmVgO1xuZXhwb3J0IGNvbnN0IElURU1fSURfTEVOR1RIID0gMTY7XG5cbmV4cG9ydCBjb25zdCBUT09MQk9YX05BTUUgPSBgcGYyZS10b29sYm94YDtcbmV4cG9ydCBjb25zdCBRVUlDS19NWVNUSUZZID0gYEVOQUJMRV9RVUlDS19NWVNUSUZZYDtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgMjAyMiBBbmRyZXcgQ3VjY2luZWxsb1xuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBNT0RVTEVfTkFNRSB9IGZyb20gJy4vQ29uc3RhbnRzJztcbmltcG9ydCB7IEdlblR5cGUgfSBmcm9tICcuL2xvb3QtYXBwL3NvdXJjZS9EYXRhU291cmNlJztcbmltcG9ydCB7IG51bWVyaWNDb21tYXMgfSBmcm9tICcuL2xvb3QtYXBwL0Zvcm1hdHRpbmcnO1xuaW1wb3J0IHsgSGFuZGxlYmFyc0NvbnRleHQgfSBmcm9tICcuLi8uLi9GVlRULUNvbW1vbi9zcmMvbW9kdWxlL0hhbmRsZWJhcnMnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVnaXN0ZXJIYW5kbGViYXJzVGVtcGxhdGVzKCkge1xuICAgIGNvbnN0IHRlbXBsYXRlUGF0aCA9IChwYXRoOiBzdHJpbmcpID0+IGBtb2R1bGVzLyR7TU9EVUxFX05BTUV9LyR7cGF0aH1gO1xuXG4gICAgY29uc3QgcGFydGlhbHM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgICAgICd3ZWlnaHQtcmFuZ2UnOiBgdGVtcGxhdGVzL2xvb3QtYXBwL3BhcnRpYWxzL3dlaWdodC1yYW5nZS5odG1sYCxcbiAgICAgICAgJ3RhYi1idXR0b25zJzogYHRlbXBsYXRlcy9sb290LWFwcC90YWJzL3BhcnRpYWxzL3RhYi1idXR0b25zLmh0bWxgLFxuICAgICAgICAnY3JlYXRlLXNlbGVjdCc6IGB0ZW1wbGF0ZXMvbG9vdC1hcHAvdGFicy9wYXJ0aWFscy9jcmVhdGUtc2VsZWN0Lmh0bWxgLFxuICAgICAgICAncnVuZS1zdGF0cyc6IGB0ZW1wbGF0ZXMvbG9vdC1hcHAvdGFicy9wYXJ0aWFscy9ydW5lLXN0YXRzLmh0bWxgLFxuICAgICAgICAncHJvcGVydHktcnVuZXMnOiBgdGVtcGxhdGVzL2xvb3QtYXBwL3RhYnMvcGFydGlhbHMvcHJvcGVydHktcnVuZXMuaHRtbGAsXG4gICAgICAgICdmaW5hbC1pbmZvJzogYHRlbXBsYXRlcy9sb290LWFwcC90YWJzL3BhcnRpYWxzL2ZpbmFsLWluZm8uaHRtbGAsXG4gICAgICAgICdjb2xsYXBzaWJsZSc6IGB0ZW1wbGF0ZXMvbG9vdC1hcHAvcGFydGlhbHMvY29sbGFwc2libGUuaHRtbGAsXG4gICAgfTtcblxuICAgIGNvbnN0IHRlbXBsYXRlUGF0aHMgPSBbXG4gICAgICAgIGB0ZW1wbGF0ZXMvc2V0dGluZ3MtYXBwL1NldHRpbmdzQXBwLmh0bWxgLFxuICAgICAgICBgdGVtcGxhdGVzL3NldHRpbmdzLWFwcC90YWJzL0Fib3V0Lmh0bWxgLFxuICAgICAgICBgdGVtcGxhdGVzL3NldHRpbmdzLWFwcC90YWJzL0ZlYXR1cmVzLmh0bWxgLFxuICAgICAgICBgdGVtcGxhdGVzL3NldHRpbmdzLWFwcC90YWJzL0xpY2Vuc2UuaHRtbGAsXG5cbiAgICAgICAgYHRlbXBsYXRlcy9sb290LWFwcC9pbnZlbnRvcnkuaHRtbGAsXG4gICAgICAgIGB0ZW1wbGF0ZXMvbG9vdC1hcHAvc2lkZWJhci5odG1sYCxcbiAgICAgICAgYHRlbXBsYXRlcy9sb290LWFwcC9wYXJ0aWFscy9sb290LXByb2ZpbGUuaHRtbGAsXG5cbiAgICAgICAgYHRlbXBsYXRlcy9sb290LWFwcC90YWJzL3NldHRpbmdzLmh0bWxgLFxuXG4gICAgICAgIGB0ZW1wbGF0ZXMvbG9vdC1hcHAvdGFicy9jcmVhdGUvaW5kZXguaHRtbGAsXG4gICAgICAgIGB0ZW1wbGF0ZXMvbG9vdC1hcHAvdGFicy9jcmVhdGUvd2VhcG9uLmh0bWxgLFxuICAgICAgICBgdGVtcGxhdGVzL2xvb3QtYXBwL3RhYnMvY3JlYXRlL2FybW9yLmh0bWxgLFxuICAgICAgICBgdGVtcGxhdGVzL2xvb3QtYXBwL3RhYnMvY3JlYXRlL3NoaWVsZC5odG1sYCxcblxuICAgICAgICBgdGVtcGxhdGVzL2NoYXQvdGFibGUtb3V0cHV0Lmh0bWxgLFxuXG4gICAgICAgIC4uLk9iamVjdC52YWx1ZXMoR2VuVHlwZSkubWFwKCh0eXBlKSA9PiBgdGVtcGxhdGVzL2xvb3QtYXBwL3RhYnMvJHt0eXBlfS5odG1sYCksXG4gICAgICAgIC4uLk9iamVjdC52YWx1ZXMocGFydGlhbHMpLFxuICAgIF0ubWFwKHRlbXBsYXRlUGF0aCk7XG5cbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhwYXJ0aWFscykpIHtcbiAgICAgICAgSGFuZGxlYmFycy5yZWdpc3RlclBhcnRpYWwoa2V5LCBge3s+ICR7dGVtcGxhdGVQYXRoKHZhbHVlKX0gfX1gKTtcbiAgICB9XG5cbiAgICBhd2FpdCBsb2FkVGVtcGxhdGVzKHRlbXBsYXRlUGF0aHMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJIYW5kbGViYXJzSGVscGVycygpIHtcbiAgICAvLyBzdHJpbmdpZnkgdGhlIG9iamVjdCBwcm92aWRlZC5cbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdqc29uJywgKGRhdGE6IGFueSkgPT4ge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgfSk7XG4gICAgLy8gb2JqZWN0IGV4aXN0cyBhbmQgaXMgbm90IG51bGwgb3IgZW1wdHlcbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdkZWZpbmVkJywgKGRhdGE6IGFueSkgPT4ge1xuICAgICAgICByZXR1cm4gZGF0YSAhPT0gdW5kZWZpbmVkICYmIGRhdGEgIT09IG51bGwgJiYgZGF0YSAhPT0gJyc7XG4gICAgfSk7XG4gICAgLy8gdXNlIHRoZSBwcm92aWRlZCB2YWx1ZSBpZiBpdCBleGlzdHMsIG90aGVyd2lzZSBkZWZhdWx0IHRvIHRoZSBmYWxsYmFjay5cbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdkZWZhdWx0JywgKHZhbHVlOiBhbnksIGRlZmF1bHRWYWx1ZTogYW55KSA9PiB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsID8gZGVmYXVsdFZhbHVlIDogdmFsdWU7XG4gICAgfSk7XG4gICAgLy8gc2VwYXJhdGUgaHVuZHJlZHMgZ3JvdXBzIGluIG51bWJlcnMgd2l0aCBjb21tYXNcbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdudW1lcmljLWNvbW1hcycsIChhOiBzdHJpbmcgfCBudW1iZXIgfCB1bmRlZmluZWQpID0+IHtcbiAgICAgICAgaWYgKCFhKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gbnVtZXJpY0NvbW1hcyhhKTtcbiAgICB9KTtcbiAgICAvLyByb3VuZCBhIG51bWJlciBvciByZXR1cm4gb3RoZXIgdmFsdWVzXG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcigncm91bmQnLCAoYTogYW55KSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgYSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhO1xuICAgIH0pO1xuXG4gICAgLy8gYXNzb3J0ZWQgaGVscGVycyBmb3IgZGVhbGluZyB3aXRoIGVxdWFsaXR5IGluIHRlbXBsYXRlc1xuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ2VxJywgKGxoczogYW55LCByaHM6IGFueSwgY29udGV4dDogSGFuZGxlYmFyc0NvbnRleHQpID0+IHtcbiAgICAgICAgcmV0dXJuIGxocyA9PT0gcmhzO1xuICAgIH0pO1xuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ2x0JywgKGxoczogbnVtYmVyLCByaHM6IG51bWJlciwgY29udGV4dDogSGFuZGxlYmFyc0NvbnRleHQpID0+IHtcbiAgICAgICAgcmV0dXJuIGxocyA8IHJocztcbiAgICB9KTtcbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdndCcsIChsaHM6IG51bWJlciwgcmhzOiBudW1iZXIsIGNvbnRleHQ6IEhhbmRsZWJhcnNDb250ZXh0KSA9PiB7XG4gICAgICAgIHJldHVybiBsaHMgPiByaHM7XG4gICAgfSk7XG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignbHRlcScsIChsaHM6IG51bWJlciwgcmhzOiBudW1iZXIsIGNvbnRleHQ6IEhhbmRsZWJhcnNDb250ZXh0KSA9PiB7XG4gICAgICAgIHJldHVybiBsaHMgPD0gcmhzO1xuICAgIH0pO1xuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ2d0ZXEnLCAobGhzOiBudW1iZXIsIHJoczogbnVtYmVyLCBjb250ZXh0OiBIYW5kbGViYXJzQ29udGV4dCkgPT4ge1xuICAgICAgICByZXR1cm4gbGhzID49IHJocztcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFdhbGsgYW4gb2JqZWN0IHRyZWUuIE1vc3RseSBleGlzdHMgZm9yIGNvbnZlbmllbmNlIHNvIGxvb2t1cCBkb2VzIG5vdCBuZWVkIHRvIGJlIGNoYWluZWQuXG4gICAgICogQHBhcmFtIGRhdGEgVGhlIGRhdGEgdG8gd2FsayBvdmVyLlxuICAgICAqIEBwYXJhbSBwYXRoIFRoZSBkYXRhIHBhdGggdG8gd2Fsay5cbiAgICAgKiBAcGFyYW0gY29udGV4dCBUaGUgaGFuZGxlYmFycyBjb250ZXh0IHdoZXJlIHRoaXMgaXMgYmVpbmcgY2FsbGVkLlxuICAgICAqL1xuICAgIGNvbnN0IHdhbGsgPSAoZGF0YTogUmVjb3JkPHN0cmluZywgYW55PiwgcGF0aDogc3RyaW5nLCBjb250ZXh0OiBIYW5kbGViYXJzQ29udGV4dCkgPT4ge1xuICAgICAgICBsZXQgY3VycmVudCA9IGRhdGE7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gcGF0aC5zcGxpdCgnLicpO1xuICAgICAgICB3aGlsZSAocGFydHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGV0IGtleSA9IHBhcnRzLnNoaWZ0KCkgYXMgc3RyaW5nO1xuXG4gICAgICAgICAgICBpZiAoY29udGV4dC5oYXNoICYmIGtleS5zdGFydHNXaXRoKCckJykpIHtcbiAgICAgICAgICAgICAgICBrZXkgPSBjb250ZXh0Lmhhc2hba2V5LnN1YnN0cigxKV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudFtrZXldO1xuXG4gICAgICAgICAgICBpZiAoY3VycmVudCA9PT0gbnVsbCB8fCBjdXJyZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdXJyZW50O1xuICAgIH07XG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignd2FsaycsIHdhbGspO1xuXG4gICAgLy8gV2hlbiB3b3JraW5nIHdpdGgga2V5cyBpbiB0aGUgcGFydGlhbCBzeXN0ZW0sIGFwcGVuZCB0aGUgbW9kdWxlIG5hbWVcbiAgICAvLyAgc28gd2UgaGF2ZSBhIGxvd2VyIGNoYW5jZSBvZiBvdmVyd3JpdGluZyBvciBkZWxldGluZyBhbm90aGVyIG1vZHVsZXNcbiAgICAvLyAgcmVnaXN0ZXJlZCBwYXJ0aWFscy5cbiAgICBjb25zdCBibG9ja0tleSA9IChrZXk6IHN0cmluZykgPT4gYCR7TU9EVUxFX05BTUV9LSR7a2V5fWA7XG5cbiAgICAvKipcbiAgICAgKiBTZXQgYSBibG9jaywgc28gdGhlIG5leHQgY2FsbCB0byBnZXQtYmxvY2sgcmVuZGVycyB0aGUgcHJvdmlkZWQgY29udGVudC5cbiAgICAgKiBAcGFyYW0gbmFtZSBUaGUgbmFtZSBvZiB0aGUgYmxvY2sgdG8gc2V0LlxuICAgICAqIEBwYXJhbSBwYXJlbnRDb250ZXh0IFRoZSBoYW5kbGViYXJzIGNvbnRleHQgd2hlcmUgdGhlIGJsb2NrIGlzIGJlaW5nIHNldC5cbiAgICAgKi9cbiAgICBjb25zdCBzZXRCbG9jayA9IChuYW1lOiBzdHJpbmcsIHBhcmVudENvbnRleHQ6IEhhbmRsZWJhcnNDb250ZXh0KSA9PiB7XG4gICAgICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJQYXJ0aWFsKGJsb2NrS2V5KG5hbWUpLCAoY2hpbGRDb250ZXh0OiBIYW5kbGViYXJzQ29udGV4dCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHBhcmVudENvbnRleHQuZm4hKG1lcmdlT2JqZWN0KHBhcmVudENvbnRleHQsIGNoaWxkQ29udGV4dCkpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhbmQgcmVuZGVyIGEgYmxvY2sgYnkgaXQncyBuYW1lLlxuICAgICAqIEBwYXJhbSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBibG9jay5cbiAgICAgKiBAcGFyYW0gY29udGV4dCBUaGUgaGFuZGxlYmFycyBjb250ZXh0IHdoZXJlIHRoaXMgYmxvY2sgaXMgcmVuZGVyaW5nLlxuICAgICAqL1xuICAgIGNvbnN0IGdldEJsb2NrID0gKG5hbWU6IHN0cmluZywgY29udGV4dDogSGFuZGxlYmFyc0NvbnRleHQpID0+IHtcbiAgICAgICAgY29uc3QgbG9hZFBhcnRpYWwgPSAobmFtZTogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICBsZXQgcGFydGlhbCA9IEhhbmRsZWJhcnMucGFydGlhbHNbbmFtZV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIHBhcnRpYWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgcGFydGlhbCA9IEhhbmRsZWJhcnMuY29tcGlsZShwYXJ0aWFsKTtcbiAgICAgICAgICAgICAgICBIYW5kbGViYXJzLnBhcnRpYWxzW25hbWVdID0gcGFydGlhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwYXJ0aWFsO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHBhcnRpYWwgPSBsb2FkUGFydGlhbChibG9ja0tleShuYW1lKSkgfHwgY29udGV4dC5mbjtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICByZXR1cm4gcGFydGlhbCh0aGlzLCB7IGRhdGE6IGNvbnRleHQuaGFzaCB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVuc2V0IGEgYmxvY2sgdGVtcGxhdGUuIEl0IGlzIGltcG9ydGFudCB0byB1bnNldCBzbyBsYXRlciBjYWxscyB0b1xuICAgICAqICBhIHRlbXBsYXRlIGRvIG5vdCByZS1yZW5kZXIgb2xkIGRhdGEgd2hlcmUgaXQgZG9lcyBub3QgYmVsb25nLlxuICAgICAqIEBwYXJhbSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBibG9jayB0byBkZWxldGUuXG4gICAgICovXG4gICAgY29uc3QgZGVsQmxvY2sgPSAobmFtZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIEhhbmRsZWJhcnMudW5yZWdpc3RlclBhcnRpYWwoYmxvY2tLZXkobmFtZSkpO1xuICAgIH07XG5cbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdzZXQtYmxvY2snLCBzZXRCbG9jayk7XG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignZGVsLWJsb2NrJywgZGVsQmxvY2spO1xuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ2dldC1ibG9jaycsIGdldEJsb2NrKTtcbn1cbiIsIi8qXG4gKiBDb3B5cmlnaHQgMjAyMSBBbmRyZXcgQ3VjY2luZWxsb1xuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBzZXR1cCB9IGZyb20gJy4vU2V0dXAnO1xuXG5zZXR1cCgpO1xuIiwiLypcbiAqIENvcHlyaWdodCAyMDIxIEFuZHJldyBDdWNjaW5lbGxvXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICpcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBNb2R1bGVTZXR0aW5ncywgeyBJRmVhdHVyZURlZmluaXRpb24gfSBmcm9tICcuLi8uLi9GVlRULUNvbW1vbi9zcmMvbW9kdWxlL01vZHVsZVNldHRpbmdzJztcbmltcG9ydCB7IE1PRFVMRV9OQU1FLCBNT0RVTEVfVElUTEUgfSBmcm9tICcuL0NvbnN0YW50cyc7XG5pbXBvcnQgeyByZWdpc3RlckhhbmRsZWJhcnNIZWxwZXJzLCByZWdpc3RlckhhbmRsZWJhcnNUZW1wbGF0ZXMgfSBmcm9tICcuL0hhbmRsZWJhcnMnO1xuaW1wb3J0IHsgZXh0ZW5kTG9vdFNoZWV0IH0gZnJvbSAnLi9sb290LWFwcC9Mb290QXBwJztcbmltcG9ydCB7IEZMQUdTX0tFWSB9IGZyb20gJy4vbG9vdC1hcHAvRmxhZ3MnO1xuXG5leHBvcnQgY29uc3QgRkVBVFVSRV9BTExPV19NRVJHSU5HID0gJ2FsbG93LW1lcmdpbmcnO1xuXG5leHBvcnQgY29uc3QgRkVBVFVSRV9RVUlDS19ST0xMX01PRElGSUVSUyA9ICdxdWljay1yb2xsLW1vZGlmaWVycy1lbmFibGVkJztcbmV4cG9ydCBjb25zdCBGRUFUVVJFX1FVSUNLX1JPTExfQ09OVFJPTCA9ICdxdWljay1yb2xsLWNvbnRyb2wtY291bnQnO1xuZXhwb3J0IGNvbnN0IEZFQVRVUkVfUVVJQ0tfUk9MTF9TSElGVCA9ICdxdWljay1yb2xsLXNoaWZ0LWNvdW50JztcblxuZXhwb3J0IGNvbnN0IEZFQVRVUkVfT1VUUFVUX0xPT1RfUk9MTFMgPSAnb3V0cHV0LWxvb3Qtcm9sbHMnO1xuZXhwb3J0IGNvbnN0IEZFQVRVUkVfT1VUUFVUX0xPT1RfUk9MTFNfV0hJU1BFUiA9ICdvdXRwdXQtbG9vdC1yb2xscy13aGlzcGVyJztcblxuLy8gVE9ETzogTG9jYWxpemF0aW9uXG5leHBvcnQgY29uc3QgRkVBVFVSRVM6IElGZWF0dXJlRGVmaW5pdGlvbltdID0gW1xuICAgIHtcbiAgICAgICAgaWQ6IEZFQVRVUkVfQUxMT1dfTUVSR0lORyxcbiAgICAgICAgdGl0bGU6ICdNZXJnZSBXaGVuIEdlbmVyYXRpbmcnLFxuICAgICAgICBhdHRyaWJ1dGVzOiBbXSxcbiAgICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICAgICAnSWYgdGhpcyBzZXR0aW5nIGlzIGVuYWJsZWQsIFBGMkUgTG9vdGdlbiB3aWxsIGF0dGVtcHQgdG8gbWVyZ2UgZ2VuZXJhdGVkIGl0ZW1zIGludG8nICtcbiAgICAgICAgICAgICcgZXhpc3Rpbmcgc3RhY2tzIG9uIHRoZSBhY3Rvci4gSWYgdGhpcyBzZXR0aW5nIGlzIGRpc2FibGVkLCBuZXcgc3RhY2tzIHdpbGwgc3RpbGwgbWVyZ2UgYnV0IG5vdCcgK1xuICAgICAgICAgICAgJyBtZXJnZSB3aXRoIGV4aXN0aW5nIGl0ZW1zLicsXG4gICAgICAgIGlucHV0czogW10sXG4gICAgICAgIHJlZ2lzdGVyOiBbXSxcbiAgICAgICAgaGVscDpcbiAgICAgICAgICAgICdQRjJFIExvb3RnZW4gd2lsbCBub3QgY2hlY2sgZm9yIG1vZGlmaWNhdGlvbnMgb24gZXhpc3RpbmcgaXRlbXMsIHNvIGlmIHlvdSBleHBlY3QgdG8gY2hhbmdlJyArXG4gICAgICAgICAgICAnIHRoZW0gdGhpcyBtYXkgcmVzdWx0IGluIGltcHJvcGVyIHRyZWFzdXJlIHZhbHVlcywgaXRlbSBkZXNjcmlwdGlvbnMsIGV0Yy4gZm9yIGdlbmVyYXRlZCBpdGVtcy4nLFxuICAgIH0sXG4gICAge1xuICAgICAgICBpZDogRkVBVFVSRV9RVUlDS19ST0xMX01PRElGSUVSUyxcbiAgICAgICAgdGl0bGU6ICdRdWljayBSb2xsIEtleSBNb2RpZmllcnMnLFxuICAgICAgICBhdHRyaWJ1dGVzOiBbXSxcbiAgICAgICAgZGVzY3JpcHRpb246ICdXaGVuIGEga2V5IGlzIGhlbGQgd2hlbiB1c2luZyB0aGUgcXVpY2sgcm9sbCBidXR0b25zIG9uIHRoZSBsb290IGdlbmVyYXRvciwgdGhlc2Ugc2V0dGluZ3MgZGV0ZXJtaW5lIGhvdyBtYW55IGl0ZW1zIHNob3VsZCBiZSByb2xsZWQuJyxcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogRkVBVFVSRV9RVUlDS19ST0xMX0NPTlRST0wsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdDb250cm9sJyxcbiAgICAgICAgICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogMTAsXG4gICAgICAgICAgICAgICAgbWluOiAxLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBGRUFUVVJFX1FVSUNLX1JPTExfU0hJRlQsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdTaGlmdCcsXG4gICAgICAgICAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgICAgICAgICAgdmFsdWU6IDUsXG4gICAgICAgICAgICAgICAgbWluOiAxLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgICAgcmVnaXN0ZXI6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBGRUFUVVJFX1FVSUNLX1JPTExfQ09OVFJPTCxcbiAgICAgICAgICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogMTAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IEZFQVRVUkVfUVVJQ0tfUk9MTF9TSElGVCxcbiAgICAgICAgICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogNSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICAgIGhlbHA6ICdIb2xkaW5nIGRvd24gbXVsdGlwbGUga2V5cyB3aWxsIG11bHRpcGx5IHRvZ2V0aGVyIHRoZSBtb2RpZmllcnMuJyxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgaWQ6IEZFQVRVUkVfT1VUUFVUX0xPT1RfUk9MTFMsXG4gICAgICAgIHRpdGxlOiAnT3V0cHV0IExvb3QgUm9sbGVkIHRvIENoYXQnLFxuICAgICAgICBhdHRyaWJ1dGVzOiBbXSxcbiAgICAgICAgZGVzY3JpcHRpb246ICcnLFxuICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBGRUFUVVJFX09VVFBVVF9MT09UX1JPTExTX1dISVNQRVIsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdXaGlzcGVyIFJlc3VsdHMnLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdjaGVja2JveCcsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGhlbHA6ICdJZiBlbmFibGVkLCBhbHdheXMgd2hpc3BlciB0aGUgcmVzdWx0cyB0byB0aGUgR01zLiBPdGhlcndpc2UsIHJlc3BlY3QgeW91ciBjdXJyZW50IHJvbGwgbW9kZS4nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgICAgcmVnaXN0ZXI6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBGRUFUVVJFX09VVFBVVF9MT09UX1JPTExTX1dISVNQRVIsXG4gICAgICAgICAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICAgIGhlbHA6ICcnLFxuICAgIH0sXG5dO1xuXG5leHBvcnQgY29uc3Qgc2V0dXAgPSAoKSA9PiB7XG4gICAgSG9va3Mub24oJ2luaXQnLCAoKSA9PlxuICAgICAgICBNb2R1bGVTZXR0aW5ncy5pbml0aWFsaXplKHtcbiAgICAgICAgICAgIG1vZHVsZU5hbWU6IE1PRFVMRV9OQU1FLFxuICAgICAgICAgICAgbW9kdWxlVGl0bGU6IE1PRFVMRV9USVRMRSxcbiAgICAgICAgICAgIGZlYXR1cmVzOiBGRUFUVVJFUyxcbiAgICAgICAgfSksXG4gICAgKTtcblxuICAgIEhvb2tzLm9uKCdzZXR1cCcsIHJlZ2lzdGVySGFuZGxlYmFyc1RlbXBsYXRlcyk7XG4gICAgSG9va3Mub24oJ3NldHVwJywgcmVnaXN0ZXJIYW5kbGViYXJzSGVscGVycyk7XG5cbiAgICBIb29rcy5vbigncmVhZHknLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGV4dGVuZGVkU2hlZXQgPSBleHRlbmRMb290U2hlZXQoKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBBY3RvcnMucmVnaXN0ZXJTaGVldChNT0RVTEVfTkFNRSwgZXh0ZW5kZWRTaGVldCwge1xuICAgICAgICAgICAgbGFiZWw6ICdQRjJFIExvb3QgR2VuZXJhdG9yJyxcbiAgICAgICAgICAgIHR5cGVzOiBbJ2xvb3QnXSxcbiAgICAgICAgICAgIG1ha2VEZWZhdWx0OiBmYWxzZSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gcmVjcmVhdGUgYSBsb290IHNoZWV0IGZvciB0ZXN0aW5nXG4gICAgICAgIC8vIGF3YWl0IGdhbWUuYWN0b3JzPy5nZXROYW1lKCdUZXN0TG9vdCcpPy5kZWxldGUoKTtcbiAgICAgICAgLy8gYXdhaXQgQWN0b3IuY3JlYXRlKHsgbmFtZTogJ1Rlc3RMb290JywgdHlwZTogJ2xvb3QnLCBbJ2ZsYWdzLmNvcmUuc2hlZXRDbGFzcyddOiAncGYyZS1sb290Z2VuLkxvb3RBcHAnIH0pO1xuICAgICAgICAvLyBhd2FpdCBnYW1lLmFjdG9ycz8uZ2V0TmFtZSgnVGVzdExvb3QnKT8uc2hlZXQ/LnJlbmRlcih0cnVlKTtcbiAgICB9KTtcbn07XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMjEgQW5kcmV3IEN1Y2NpbmVsbG9cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBBIHR5cGUgb2YgZXF1YWxpdHkgY29tcGFyaXNvbi5cbiAqL1xuZXhwb3J0IGVudW0gRXF1YWxpdHlUeXBlIHtcbiAgICBFcXVhbFRvLFxuICAgIExlc3NUaGFuLFxuICAgIExlc3NUaGFuRXF1YWxUbyxcbiAgICBHcmVhdGVyVGhhbixcbiAgICBHcmVhdGVyVGhhbkVxdWFsVG8sXG4gICAgTG9jYWxlSW52YXJpYW50XG59XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMjEgQW5kcmV3IEN1Y2NpbmVsbG9cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgSVNwZWNpZmljYXRpb24gfSBmcm9tICcuL0lTcGVjaWZpY2F0aW9uJztcbmltcG9ydCB7IFBGMkVJdGVtIH0gZnJvbSAnLi4vLi4vdHlwZXMvUEYyRSc7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBGaWx0ZXJHcm91cCBpbXBsZW1lbnRzIElTcGVjaWZpY2F0aW9uPFBGMkVJdGVtPiB7XG4gICAgcHJvdGVjdGVkIGNoaWxkcmVuOiBJU3BlY2lmaWNhdGlvbjxQRjJFSXRlbT5bXTtcblxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihjaGlsZHJlbj86IElTcGVjaWZpY2F0aW9uPFBGMkVJdGVtPltdKSB7XG4gICAgICAgIGlmIChjaGlsZHJlbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjaGlsZHJlbiA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgIH1cblxuICAgIHB1YmxpYyBhYnN0cmFjdCBpc1NhdGlzZmllZEJ5KGRhdGE6IFBGMkVJdGVtKTogYm9vbGVhbjtcblxuICAgIHB1YmxpYyBhbmQob3RoZXI6IElTcGVjaWZpY2F0aW9uPFBGMkVJdGVtPik6IElTcGVjaWZpY2F0aW9uPFBGMkVJdGVtPiB7XG4gICAgICAgIHJldHVybiBuZXcgQW5kR3JvdXAoW3RoaXMsIG90aGVyXSk7XG4gICAgfVxuXG4gICAgcHVibGljIG5vdChvdGhlcj86IElTcGVjaWZpY2F0aW9uPFBGMkVJdGVtPik6IElTcGVjaWZpY2F0aW9uPFBGMkVJdGVtPiB7XG4gICAgICAgIHJldHVybiBuZXcgTm90R3JvdXAodGhpcyk7XG4gICAgfVxuXG4gICAgcHVibGljIG9yKG90aGVyOiBJU3BlY2lmaWNhdGlvbjxQRjJFSXRlbT4pOiBJU3BlY2lmaWNhdGlvbjxQRjJFSXRlbT4ge1xuICAgICAgICByZXR1cm4gbmV3IE9yR3JvdXAoW3RoaXMsIG90aGVyXSk7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZENoaWxkcmVuKG90aGVyczogSVNwZWNpZmljYXRpb248UEYyRUl0ZW0+IHwgSVNwZWNpZmljYXRpb248UEYyRUl0ZW0+W10pIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KG90aGVycykpIHtcbiAgICAgICAgICAgIG90aGVycyA9IFtvdGhlcnNdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaCguLi5vdGhlcnMpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFuZEdyb3VwIGV4dGVuZHMgRmlsdGVyR3JvdXAge1xuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihjaGlsZHJlbj86IElTcGVjaWZpY2F0aW9uPFBGMkVJdGVtPltdKSB7XG4gICAgICAgIHN1cGVyKGNoaWxkcmVuKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNTYXRpc2ZpZWRCeShkYXRhOiBQRjJFSXRlbSk6IGJvb2xlYW4ge1xuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGlmICghY2hpbGQuaXNTYXRpc2ZpZWRCeShkYXRhKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBOb3RHcm91cCBleHRlbmRzIEZpbHRlckdyb3VwIHtcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoZmlsdGVyOiBJU3BlY2lmaWNhdGlvbjxQRjJFSXRlbT4pIHtcbiAgICAgICAgc3VwZXIoW2ZpbHRlcl0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBpc1NhdGlzZmllZEJ5KGRhdGE6IFBGMkVJdGVtKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhdGhpcy5jaGlsZHJlblswXS5pc1NhdGlzZmllZEJ5KGRhdGEpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE9yR3JvdXAgZXh0ZW5kcyBGaWx0ZXJHcm91cCB7XG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGNoaWxkcmVuPzogSVNwZWNpZmljYXRpb248UEYyRUl0ZW0+W10pIHtcbiAgICAgICAgc3VwZXIoY2hpbGRyZW4pO1xuICAgIH1cblxuICAgIHB1YmxpYyBpc1NhdGlzZmllZEJ5KGRhdGE6IFBGMkVJdGVtKTogYm9vbGVhbiB7XG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgaWYgKGNoaWxkLmlzU2F0aXNmaWVkQnkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuIiwiLypcbiAqIENvcHlyaWdodCAyMDIxIEFuZHJldyBDdWNjaW5lbGxvXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICpcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFdlaWdodGVkRmlsdGVyIH0gZnJvbSAnLi9XZWlnaHRlZEZpbHRlcic7XG5pbXBvcnQgeyBFcXVhbGl0eVR5cGUgfSBmcm9tICcuLi9FcXVhbGl0eVR5cGUnO1xuaW1wb3J0IHsgUEYyRUl0ZW0gfSBmcm9tICcuLi8uLi8uLi90eXBlcy9QRjJFJztcblxuZXhwb3J0IGNsYXNzIEFycmF5SW5jbHVkZXNGaWx0ZXIgZXh0ZW5kcyBXZWlnaHRlZEZpbHRlcjxzdHJpbmc+IHtcbiAgICBjb25zdHJ1Y3RvcihzZWxlY3Rvcjogc3RyaW5nLCBkZXNpcmVkVmFsdWU6IHN0cmluZywgd2VpZ2h0OiBudW1iZXIpIHtcbiAgICAgICAgc3VwZXIoc2VsZWN0b3IsIGRlc2lyZWRWYWx1ZSwgd2VpZ2h0LCBFcXVhbGl0eVR5cGUuRXF1YWxUbyk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGdldFZhbHVlKGRhdGE6IFBGMkVJdGVtKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBzdXBlci5nZXRWYWx1ZShkYXRhKTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUuaW5jbHVkZXModGhpcy5kZXNpcmVkVmFsdWUpID8gdGhpcy5kZXNpcmVkVmFsdWUgOiAnJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxufVxuIiwiLypcbiAqIENvcHlyaWdodCAyMDIxIEFuZHJldyBDdWNjaW5lbGxvXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICpcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFdlaWdodGVkRmlsdGVyIH0gZnJvbSAnLi9XZWlnaHRlZEZpbHRlcic7XG5pbXBvcnQgeyBFcXVhbGl0eVR5cGUgfSBmcm9tICcuLi9FcXVhbGl0eVR5cGUnO1xuXG5leHBvcnQgY2xhc3MgTnVtYmVyRmlsdGVyIGV4dGVuZHMgV2VpZ2h0ZWRGaWx0ZXI8bnVtYmVyPiB7XG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHNlbGVjdG9yOiBzdHJpbmcsIGRlc2lyZWRWYWx1ZTogbnVtYmVyLCB3ZWlnaHQ6IG51bWJlciwgZXF1YWxpdHlUeXBlOiBFcXVhbGl0eVR5cGUpIHtcbiAgICAgICAgc3VwZXIoc2VsZWN0b3IsIGRlc2lyZWRWYWx1ZSwgd2VpZ2h0LCBlcXVhbGl0eVR5cGUpO1xuICAgIH1cbn1cbiIsIi8qXG4gKiBDb3B5cmlnaHQgMjAyMSBBbmRyZXcgQ3VjY2luZWxsb1xuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBXZWlnaHRlZEZpbHRlciB9IGZyb20gJy4vV2VpZ2h0ZWRGaWx0ZXInO1xuaW1wb3J0IHsgRXF1YWxpdHlUeXBlIH0gZnJvbSAnLi4vRXF1YWxpdHlUeXBlJztcblxuZXhwb3J0IGNsYXNzIFN0cmluZ0ZpbHRlciBleHRlbmRzIFdlaWdodGVkRmlsdGVyPHN0cmluZz4ge1xuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihzZWxlY3Rvcjogc3RyaW5nLCBkZXNpcmVkVmFsdWU6IHN0cmluZywgd2VpZ2h0OiBudW1iZXIpIHtcbiAgICAgICAgc3VwZXIoc2VsZWN0b3IsIGRlc2lyZWRWYWx1ZSwgd2VpZ2h0LCBFcXVhbGl0eVR5cGUuRXF1YWxUbyk7XG4gICAgfVxufVxuIiwiLypcbiAqIENvcHlyaWdodCAyMDIxIEFuZHJldyBDdWNjaW5lbGxvXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICpcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEVxdWFsaXR5VHlwZSB9IGZyb20gJy4uL0VxdWFsaXR5VHlwZSc7XG5pbXBvcnQgeyBJU3BlY2lmaWNhdGlvbiB9IGZyb20gJy4uL0lTcGVjaWZpY2F0aW9uJztcbmltcG9ydCB7IFBGMkVJdGVtIH0gZnJvbSAnLi4vLi4vLi4vdHlwZXMvUEYyRSc7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBXZWlnaHRlZEZpbHRlcjxUIGV4dGVuZHMgbnVtYmVyIHwgc3RyaW5nIHwgYm9vbGVhbj4gaW1wbGVtZW50cyBJU3BlY2lmaWNhdGlvbjxQRjJFSXRlbT4ge1xuICAgIHByb3RlY3RlZCByZWFkb25seSBzZWxlY3Rvcjogc3RyaW5nO1xuICAgIHByb3RlY3RlZCByZWFkb25seSBkZXNpcmVkVmFsdWU6IFQ7XG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGVxdWFsaXR5OiBFcXVhbGl0eVR5cGU7XG4gICAgcHVibGljIHJlYWRvbmx5IHdlaWdodDogbnVtYmVyO1xuXG4gICAgLy8gY29uc3RydWN0b3IgaXMgcHJvdGVjdGVkIGhlcmUgc28gd2UgY2FuIHR5cGUgdGhlbSBwcm9wZXJseSwgYW5kIGV4dGVuZCB3aXRoIHR5cGUgc3BlY2lmaWMgZnVuY3Rpb25zIGxhdGVyXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKHNlbGVjdG9yOiBzdHJpbmcsIGRlc2lyZWRWYWx1ZTogVCwgd2VpZ2h0OiBudW1iZXIsIGVxdWFsaXR5VHlwZTogRXF1YWxpdHlUeXBlKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgICAgICAgdGhpcy5kZXNpcmVkVmFsdWUgPSBkZXNpcmVkVmFsdWU7XG4gICAgICAgIHRoaXMud2VpZ2h0ID0gd2VpZ2h0O1xuICAgICAgICB0aGlzLmVxdWFsaXR5ID0gZXF1YWxpdHlUeXBlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhIHZhbHVlIGZyb20gYSBkYXRhIHBhdGgsIGUuZy4gYSBzZXJpZXMgb2YgcGVyaW9kIHNlcGFyYXRlZCBwcm9wZXJ0eSBrZXlzLlxuICAgICAqIEBwYXJhbSBkYXRhIFRoZSBkYXRhIHRvIGZldGNoIHRoZSB2YWx1ZSBmcm9tLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZ2V0VmFsdWUoZGF0YTogUEYyRUl0ZW0pOiBUIHtcbiAgICAgICAgY29uc3QgcGF0aDogc3RyaW5nW10gPSB0aGlzLnNlbGVjdG9yLnNwbGl0KCcuJyk7XG5cbiAgICAgICAgbGV0IGN1cnJlbnQ6IGFueSA9IGRhdGE7XG4gICAgICAgIHdoaWxlIChwYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IHBhdGguc2hpZnQoKSBhcyBzdHJpbmc7XG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudFtrZXldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdXJyZW50O1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBjb21wYXJlVG8odmFsdWU6IFQpOiBib29sZWFuIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLmVxdWFsaXR5KSB7XG4gICAgICAgICAgICBjYXNlIEVxdWFsaXR5VHlwZS5FcXVhbFRvOlxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdGhpcy5kZXNpcmVkVmFsdWU7XG4gICAgICAgICAgICBjYXNlIEVxdWFsaXR5VHlwZS5MZXNzVGhhbjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPCB0aGlzLmRlc2lyZWRWYWx1ZTtcbiAgICAgICAgICAgIGNhc2UgRXF1YWxpdHlUeXBlLkxlc3NUaGFuRXF1YWxUbzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPD0gdGhpcy5kZXNpcmVkVmFsdWU7XG4gICAgICAgICAgICBjYXNlIEVxdWFsaXR5VHlwZS5HcmVhdGVyVGhhbjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPiB0aGlzLmRlc2lyZWRWYWx1ZTtcbiAgICAgICAgICAgIGNhc2UgRXF1YWxpdHlUeXBlLkdyZWF0ZXJUaGFuRXF1YWxUbzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPj0gdGhpcy5kZXNpcmVkVmFsdWU7XG4gICAgICAgICAgICBjYXNlIEVxdWFsaXR5VHlwZS5Mb2NhbGVJbnZhcmlhbnQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnRvTG9jYWxlU3RyaW5nKCkubG9jYWxlQ29tcGFyZSh0aGlzLmRlc2lyZWRWYWx1ZS50b0xvY2FsZVN0cmluZygpKSA9PT0gMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0cnVlIGlmIHRoaXMgb3BlcmF0aW9uIGlzIHNhdGlzZmllZCBieSB0aGUgZGF0YS5cbiAgICAgKiBAcGFyYW0gZGF0YSBUaGUgZGF0YSB0byB0ZXN0LlxuICAgICAqL1xuICAgIHB1YmxpYyBpc1NhdGlzZmllZEJ5KGRhdGE6IFBGMkVJdGVtKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmVUbyh0aGlzLmdldFZhbHVlKGRhdGEpKTtcbiAgICB9XG59XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMjEgQW5kcmV3IEN1Y2NpbmVsbG9cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgU3BlbGxTY2hvb2wsIFNwZWxsVHJhZGl0aW9uIH0gZnJvbSAnLi9zb3VyY2UvU3BlbGxzJztcbmltcG9ydCB7IElFbmFibGVkLCBJTmFtZWQsIElXZWlnaHRlZCB9IGZyb20gJy4vc291cmNlL01peGlucyc7XG5pbXBvcnQgeyBHZW5UeXBlLCBvcmRpbmFsTnVtYmVyIH0gZnJvbSAnLi9zb3VyY2UvRGF0YVNvdXJjZSc7XG5pbXBvcnQgeyBSYXJpdHkgfSBmcm9tICcuLi8uLi90eXBlcy9QRjJFJztcblxuZXhwb3J0IGVudW0gRmlsdGVyVHlwZSB7XG4gICAgU3BlbGxTY2hvb2wgPSAnc2Nob29sJyxcbiAgICBTcGVsbExldmVsID0gJ2xldmVsJyxcbiAgICBTcGVsbFRyYWRpdGlvbiA9ICd0cmFkaXRpb24nLFxuICAgIFNwZWxsUmFyaXR5ID0gJ3Jhcml0eScsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXBwRmlsdGVyIGV4dGVuZHMgSVdlaWdodGVkLCBJRW5hYmxlZCwgSU5hbWVkIHtcbiAgICBpZDogc3RyaW5nO1xuICAgIGZpbHRlclR5cGU6IEZpbHRlclR5cGU7XG4gICAgZmlsdGVyQ2F0ZWdvcnk6IEdlblR5cGU7XG4gICAgZGVzaXJlZFZhbHVlOiBudW1iZXIgfCBzdHJpbmcgfCBib29sZWFuO1xufVxuZXhwb3J0IGludGVyZmFjZSBTcGVsbEZpbHRlciBleHRlbmRzIEFwcEZpbHRlciB7XG4gICAgZmlsdGVyQ2F0ZWdvcnk6IEdlblR5cGUuU3BlbGw7XG59XG5cbmNvbnN0IGxldmVsRmlsdGVySWQgPSAobGV2ZWw6IG51bWJlcikgPT4gYGxldmVsLSR7bGV2ZWx9YDtcbmNvbnN0IGxldmVsRmlsdGVyID0gKGxldmVsOiBudW1iZXIpOiBTcGVsbEZpbHRlciA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IGxldmVsRmlsdGVySWQobGV2ZWwpLFxuICAgICAgICBuYW1lOiBgJHtvcmRpbmFsTnVtYmVyKGxldmVsKX0tTGV2ZWxgLFxuXG4gICAgICAgIGZpbHRlclR5cGU6IEZpbHRlclR5cGUuU3BlbGxMZXZlbCxcbiAgICAgICAgZmlsdGVyQ2F0ZWdvcnk6IEdlblR5cGUuU3BlbGwsXG5cbiAgICAgICAgZGVzaXJlZFZhbHVlOiBsZXZlbCxcblxuICAgICAgICB3ZWlnaHQ6IDEsXG4gICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgfTtcbn07XG5cbmNvbnN0IHNjaG9vbEZpbHRlcklkID0gKHNjaG9vbDogU3BlbGxTY2hvb2wpID0+IGAke3NjaG9vbH1gO1xuY29uc3Qgc2Nob29sRmlsdGVyID0gKHNjaG9vbDogU3BlbGxTY2hvb2wpOiBTcGVsbEZpbHRlciA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHNjaG9vbEZpbHRlcklkKHNjaG9vbCksXG4gICAgICAgIG5hbWU6IHNjaG9vbC5jYXBpdGFsaXplKCksXG5cbiAgICAgICAgZmlsdGVyVHlwZTogRmlsdGVyVHlwZS5TcGVsbExldmVsLFxuICAgICAgICBmaWx0ZXJDYXRlZ29yeTogR2VuVHlwZS5TcGVsbCxcblxuICAgICAgICBkZXNpcmVkVmFsdWU6IHNjaG9vbCxcblxuICAgICAgICB3ZWlnaHQ6IDEsXG4gICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgfTtcbn07XG5cbmNvbnN0IHRyYWRpdGlvbkZpbHRlcklkID0gKHRyYWRpdGlvbjogU3BlbGxUcmFkaXRpb24pID0+IGAke3RyYWRpdGlvbn1gO1xuY29uc3QgdHJhZGl0aW9uRmlsdGVyID0gKHRyYWRpdGlvbjogU3BlbGxUcmFkaXRpb24pOiBTcGVsbEZpbHRlciA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHRyYWRpdGlvbkZpbHRlcklkKHRyYWRpdGlvbiksXG4gICAgICAgIG5hbWU6IHRyYWRpdGlvbi5jYXBpdGFsaXplKCksXG5cbiAgICAgICAgZmlsdGVyVHlwZTogRmlsdGVyVHlwZS5TcGVsbFRyYWRpdGlvbixcbiAgICAgICAgZmlsdGVyQ2F0ZWdvcnk6IEdlblR5cGUuU3BlbGwsXG5cbiAgICAgICAgZGVzaXJlZFZhbHVlOiB0cmFkaXRpb24sXG5cbiAgICAgICAgd2VpZ2h0OiAxLFxuICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgIH07XG59O1xuXG5jb25zdCByYXJpdHlGaWx0ZXJJZCA9IChyYXJpdHk6IFJhcml0eSkgPT4gYCR7cmFyaXR5fWA7XG5jb25zdCByYXJpdHlGaWx0ZXIgPSAocmFyaXR5OiBSYXJpdHkpOiBTcGVsbEZpbHRlciA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHJhcml0eUZpbHRlcklkKHJhcml0eSksXG4gICAgICAgIG5hbWU6IHJhcml0eS5jYXBpdGFsaXplKCksXG5cbiAgICAgICAgZmlsdGVyVHlwZTogRmlsdGVyVHlwZS5TcGVsbFJhcml0eSxcbiAgICAgICAgZmlsdGVyQ2F0ZWdvcnk6IEdlblR5cGUuU3BlbGwsXG5cbiAgICAgICAgZGVzaXJlZFZhbHVlOiByYXJpdHksXG5cbiAgICAgICAgd2VpZ2h0OiAxLFxuICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgIH07XG59O1xuXG5leHBvcnQgY29uc3Qgc3BlbGxMZXZlbEZpbHRlcnM6IFJlY29yZDxzdHJpbmcsIEFwcEZpbHRlcj4gPSBBcnJheS5mcm9tUmFuZ2UoMTApLnJlZHVjZShcbiAgICAocHJldiwgY3VycikgPT5cbiAgICAgICAgbWVyZ2VPYmplY3QocHJldiwge1xuICAgICAgICAgICAgW2xldmVsRmlsdGVySWQoY3VyciArIDEpXTogbGV2ZWxGaWx0ZXIoY3VyciArIDEpLFxuICAgICAgICB9KSxcbiAgICB7fSxcbik7XG5cbmV4cG9ydCBjb25zdCBzcGVsbFNjaG9vbEZpbHRlcnM6IFJlY29yZDxzdHJpbmcsIEFwcEZpbHRlcj4gPSBPYmplY3QudmFsdWVzKFNwZWxsU2Nob29sKS5yZWR1Y2UoXG4gICAgKHByZXYsIGN1cnIpID0+XG4gICAgICAgIG1lcmdlT2JqZWN0KHByZXYsIHtcbiAgICAgICAgICAgIFtzY2hvb2xGaWx0ZXJJZChjdXJyKV06IHNjaG9vbEZpbHRlcihjdXJyKSxcbiAgICAgICAgfSksXG4gICAge30sXG4pO1xuXG5leHBvcnQgY29uc3Qgc3BlbGxUcmFkaXRpb25GaWx0ZXJzOiBSZWNvcmQ8c3RyaW5nLCBBcHBGaWx0ZXI+ID0gT2JqZWN0LnZhbHVlcyhTcGVsbFRyYWRpdGlvbikucmVkdWNlKFxuICAgIChwcmV2LCBjdXJyKSA9PlxuICAgICAgICBtZXJnZU9iamVjdChwcmV2LCB7XG4gICAgICAgICAgICBbdHJhZGl0aW9uRmlsdGVySWQoY3VycildOiB0cmFkaXRpb25GaWx0ZXIoY3VyciksXG4gICAgICAgIH0pLFxuICAgIHt9LFxuKTtcbmV4cG9ydCBjb25zdCBzcGVsbFJhcml0eUZpbHRlcnM6IFJlY29yZDxzdHJpbmcsIEFwcEZpbHRlcj4gPSBPYmplY3QudmFsdWVzKFJhcml0eSkucmVkdWNlKFxuICAgIChwcmV2LCBjdXJyKSA9PlxuICAgICAgICBtZXJnZU9iamVjdChwcmV2LCB7XG4gICAgICAgICAgICBbcmFyaXR5RmlsdGVySWQoY3VycildOiByYXJpdHlGaWx0ZXIoY3VyciksXG4gICAgICAgIH0pLFxuICAgIHt9LFxuKTtcblxuZXhwb3J0IGNvbnN0IHNwZWxsRmlsdGVycyA9IHsgLi4uc3BlbGxMZXZlbEZpbHRlcnMsIC4uLnNwZWxsU2Nob29sRmlsdGVycywgLi4uc3BlbGxUcmFkaXRpb25GaWx0ZXJzLCAuLi5zcGVsbFJhcml0eUZpbHRlcnMgfTtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgMjAyMSBBbmRyZXcgQ3VjY2luZWxsb1xuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBNT0RVTEVfTkFNRSB9IGZyb20gJy4uL0NvbnN0YW50cyc7XG5pbXBvcnQgeyBEYXRhU291cmNlLCBHZW5UeXBlIH0gZnJvbSAnLi9zb3VyY2UvRGF0YVNvdXJjZSc7XG5pbXBvcnQgeyBkYXRhU291cmNlc09mVHlwZSwgZmlsdGVyc09mVHlwZSB9IGZyb20gJy4vVXRpbGl0aWVzJztcbmltcG9ydCB7IEFwcEZpbHRlciwgRmlsdGVyVHlwZSB9IGZyb20gJy4vRmlsdGVycyc7XG5pbXBvcnQgeyBJRW5hYmxlZCwgSVdlaWdodGVkIH0gZnJvbSAnLi9zb3VyY2UvTWl4aW5zJztcblxuZXhwb3J0IGNvbnN0IEZMQUdTX0tFWSA9IE1PRFVMRV9OQU1FO1xuXG5leHBvcnQgaW50ZXJmYWNlIExvb3RDYXRlZ29yeUNvbmZpZyB7XG4gICAgY291bnQ6IG51bWJlcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgTG9vdFN0b3JlZERhdGEgZXh0ZW5kcyBJRW5hYmxlZCwgSVdlaWdodGVkIHt9XG5leHBvcnQgaW50ZXJmYWNlIExvb3RBcHBGbGFncyB7XG4gICAgc291cmNlczoge1xuICAgICAgICBbc3RvcmVJZDogc3RyaW5nXTogTG9vdFN0b3JlZERhdGE7XG4gICAgfTtcbiAgICBmaWx0ZXJzOiB7XG4gICAgICAgIFtzdG9yZUlkOiBzdHJpbmddOiBMb290U3RvcmVkRGF0YTtcbiAgICB9O1xuICAgIGNvbmZpZzoge1xuICAgICAgICBbVEtleSBpbiBHZW5UeXBlXTogTG9vdENhdGVnb3J5Q29uZmlnO1xuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzb3VyY2VGbGFnUGF0aChzb3VyY2U6IERhdGFTb3VyY2UsIHdpdGhGbGFnczogYm9vbGVhbiA9IGZhbHNlKTogc3RyaW5nIHtcbiAgICBsZXQgcGF0aCA9IGBzb3VyY2VzLiR7c291cmNlLnN0b3JlSWR9YDtcbiAgICBpZiAod2l0aEZsYWdzKSB7XG4gICAgICAgIHBhdGggPSBgZmxhZ3MuJHtGTEFHU19LRVl9LiR7cGF0aH1gO1xuICAgIH1cbiAgICByZXR1cm4gcGF0aDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJGbGFnUGF0aChmaWx0ZXI6IEFwcEZpbHRlciwgd2l0aEZsYWdzOiBib29sZWFuID0gZmFsc2UpOiBzdHJpbmcge1xuICAgIGxldCBwYXRoID0gYGZpbHRlcnMuJHtmaWx0ZXIuaWR9YDtcbiAgICBpZiAod2l0aEZsYWdzKSB7XG4gICAgICAgIHBhdGggPSBgZmxhZ3MuJHtGTEFHU19LRVl9LiR7cGF0aH1gO1xuICAgIH1cbiAgICByZXR1cm4gcGF0aDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGbGFnUGF0aChuYW1lOiBzdHJpbmcsIHdpdGhGbGFnczogYm9vbGVhbiA9IGZhbHNlKTogc3RyaW5nIHtcbiAgICBsZXQgcGF0aCA9IGBjcmVhdGUuJHtuYW1lfWA7XG4gICAgaWYgKHdpdGhGbGFncykge1xuICAgICAgICBwYXRoID0gYGZsYWdzLiR7RkxBR1NfS0VZfS4ke3BhdGh9YDtcbiAgICB9XG4gICAgcmV0dXJuIHBhdGg7XG59XG5cbkhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ3NvdXJjZS1mbGFnJywgKHNvdXJjZTogRGF0YVNvdXJjZSkgPT4gc291cmNlRmxhZ1BhdGgoc291cmNlLCB0cnVlKSk7XG5IYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdmaWx0ZXItZmxhZycsIChmaWx0ZXI6IEFwcEZpbHRlcikgPT4gZmlsdGVyRmxhZ1BhdGgoZmlsdGVyLCB0cnVlKSk7XG5IYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdjcmVhdGUtZmxhZycsIChuYW1lOiBzdHJpbmcpID0+IGNyZWF0ZUZsYWdQYXRoKG5hbWUsIHRydWUpKTtcblxuLyoqXG4gKiBHZXQgYSBmaWx0ZXIgd2l0aCB0aGUgc2F2ZWQgd2VpZ2h0IGFuZCBlbmFibGVkIHN0YXR1cyBmcm9tIGFuIGFjdG9yLlxuICogQHBhcmFtIGFjdG9yIFRoZSBhY3RvciB0byBmZXRjaCBmcm9tLlxuICogQHBhcmFtIGZpbHRlciBUaGUgZmlsdGVyIHRvIGZldGNoLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmlsdGVyU2V0dGluZ3M8VCBleHRlbmRzIEFwcEZpbHRlcj4oYWN0b3I6IEFjdG9yLCBmaWx0ZXI6IFQpOiBUIHtcbiAgICBjb25zdCBmbGFncyA9IGFjdG9yLmdldEZsYWcoRkxBR1NfS0VZLCBmaWx0ZXJGbGFnUGF0aChmaWx0ZXIpKSBhcyBQYXJ0aWFsPEFwcEZpbHRlcj47XG4gICAgcmV0dXJuIG1lcmdlT2JqZWN0KGR1cGxpY2F0ZShmaWx0ZXIpIGFzIEFwcEZpbHRlciwgZmxhZ3MpIGFzIFQ7XG59XG5cbi8qKlxuICogTG9hZCBhbmQgbWVyZ2UgY2hhbmdlZCBzZXR0aW5ncyBpbnRvIGEgY29weSBvZiB0aGUgcHJvdmlkZWQgZGF0YSBzb3VyY2UuXG4gKiBAcGFyYW0gYWN0b3IgVGhlIGFjdG9yIHRvIGxvYWQgZnJvbS5cbiAqIEBwYXJhbSBzb3VyY2UgVGhlIHNvdXJjZSB0byBsb2FkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGF0YVNvdXJjZVNldHRpbmdzPFQgZXh0ZW5kcyBEYXRhU291cmNlPihhY3RvcjogQWN0b3IsIHNvdXJjZTogVCk6IFQge1xuICAgIGNvbnN0IGZsYWdzID0gYWN0b3IuZ2V0RmxhZyhGTEFHU19LRVksIHNvdXJjZUZsYWdQYXRoKHNvdXJjZSkpIGFzIFBhcnRpYWw8RGF0YVNvdXJjZT47XG4gICAgcmV0dXJuIG1lcmdlT2JqZWN0KGR1cGxpY2F0ZShzb3VyY2UpIGFzIERhdGFTb3VyY2UsIGZsYWdzKSBhcyBUO1xufVxuXG4vKipcbiAqIFNldCB0aGUgb3B0aW9ucyB2YWx1ZXMgb2YgYSBzaW5nbGUgZGF0YSBzb3VyY2UgZm9yIGFuIGFjdG9yLlxuICogQHBhcmFtIGFjdG9yIFRoZSBhY3RvciB0byB1cGRhdGUuXG4gKiBAcGFyYW0gc291cmNlIFRoZSBkYXRhIHNvdXJjZSB0byB1cGRhdGUuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZXREYXRhU291cmNlU2V0dGluZyhhY3RvcjogQWN0b3IsIHNvdXJjZTogRGF0YVNvdXJjZSB8IERhdGFTb3VyY2VbXSk6IFByb21pc2U8QWN0b3I+IHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoc291cmNlKSkge1xuICAgICAgICBzb3VyY2UgPSBbc291cmNlXTtcbiAgICB9XG4gICAgY29uc3QgdXBkYXRlRGF0YSA9IHNvdXJjZS5yZWR1Y2UoXG4gICAgICAgIChwcmV2LCBjdXJyKSA9PlxuICAgICAgICAgICAgbWVyZ2VPYmplY3QocHJldiwge1xuICAgICAgICAgICAgICAgIFtgZmxhZ3MuJHtGTEFHU19LRVl9LnNvdXJjZXMuJHtjdXJyLml0ZW1UeXBlfS4ke2N1cnIuaWR9YF06IGN1cnIsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAge30sXG4gICAgKTtcbiAgICByZXR1cm4gKGF3YWl0IGFjdG9yLnVwZGF0ZSh1cGRhdGVEYXRhKSkhO1xufVxuXG4vLyBUT0RPOiBTaG91bGQgYmUgcHJldHR5IGVhc3kgdG8gY29sbGFwc2UgYnVpbGRTb3VyY2VTZXR0aW5nVXBkYXRlICsgYnVpbGRGaWx0ZXJTZXR0aW5nVXBkYXRlIGludG8gb25lIGZ1bmN0aW9uLlxuZXhwb3J0IHR5cGUgU2V0VmFsdWVLZXlzID0ga2V5b2YgSUVuYWJsZWQgfCBrZXlvZiBJV2VpZ2h0ZWQ7XG5leHBvcnQgZnVuY3Rpb24gYnVpbGRTb3VyY2VTZXR0aW5nVXBkYXRlKGFjdG9yOiBBY3RvciwgdHlwZTogR2VuVHlwZSwga2V5czogU2V0VmFsdWVLZXlzIHwgU2V0VmFsdWVLZXlzW10sIHZhbHVlczogYW55IHwgYW55W10pOiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoa2V5cykpIGtleXMgPSBba2V5c107XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlcykpIHZhbHVlcyA9IFt2YWx1ZXNdO1xuICAgIGlmIChrZXlzLmxlbmd0aCAhPT0gdmFsdWVzLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGtleXMgYW5kIHZhbHVlcyBtdXN0IGJlIG9mIGVxdWFsIGxlbmd0aCwgZ290ICR7a2V5cy5sZW5ndGh9IGFuZCAke3ZhbHVlcy5sZW5ndGh9LmApO1xuICAgIH1cblxuICAgIGNvbnN0IHNvdXJjZXMgPSBkYXRhU291cmNlc09mVHlwZSh0eXBlKTtcbiAgICBjb25zdCB1cGRhdGVEYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgZm9yIChjb25zdCBzb3VyY2Ugb2YgT2JqZWN0LnZhbHVlcyhzb3VyY2VzKSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHVwZGF0ZURhdGFbYCR7c291cmNlRmxhZ1BhdGgoc291cmNlLCB0cnVlKX0uJHtrZXlzW2ldfWBdID0gdmFsdWVzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1cGRhdGVEYXRhO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkRmlsdGVyU2V0dGluZ1VwZGF0ZShhY3RvcjogQWN0b3IsIHR5cGU6IEZpbHRlclR5cGUsIGtleXM6IFNldFZhbHVlS2V5cyB8IFNldFZhbHVlS2V5c1tdLCB2YWx1ZXM6IGFueSB8IGFueVtdKTogUmVjb3JkPHN0cmluZywgYW55PiB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGtleXMpKSBrZXlzID0gW2tleXNdO1xuICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZXMpKSB2YWx1ZXMgPSBbdmFsdWVzXTtcbiAgICBpZiAoa2V5cy5sZW5ndGggIT09IHZhbHVlcy5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBrZXlzIGFuZCB2YWx1ZXMgbXVzdCBiZSBvZiBlcXVhbCBsZW5ndGgsIGdvdCAke2tleXMubGVuZ3RofSBhbmQgJHt2YWx1ZXMubGVuZ3RofS5gKTtcbiAgICB9XG5cbiAgICBjb25zdCBmaWx0ZXJzID0gZmlsdGVyc09mVHlwZSh0eXBlKTtcbiAgICBjb25zdCB1cGRhdGVEYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgZm9yIChjb25zdCBmaWx0ZXIgb2YgT2JqZWN0LnZhbHVlcyhmaWx0ZXJzKSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHVwZGF0ZURhdGFbYCR7ZmlsdGVyRmxhZ1BhdGgoZmlsdGVyLCB0cnVlKX0uJHtrZXlzW2ldfWBdID0gdmFsdWVzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1cGRhdGVEYXRhO1xufVxuIiwiLypcbiAqIENvcHlyaWdodCAyMDIxIEFuZHJldyBDdWNjaW5lbGxvXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICpcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKlxuICogUmVwbGFjZSBudW1iZXJzIGluIGEgc3RyaW5nIHdpdGggY29tbWFzLlxuICogQHBhcmFtIHZhbHVlXG4gKi9cbmV4cG9ydCBjb25zdCBudW1lcmljQ29tbWFzID0gKHZhbHVlOiBzdHJpbmcgfCBudW1iZXIpID0+IHtcbiAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKS5yZXBsYWNlKC9cXEIoPz0oXFxkezN9KSsoPyFcXGQpKS9nLCAnLCcpO1xufTsiLCIvKlxuICogQ29weXJpZ2h0IDIwMjEgQW5kcmV3IEN1Y2NpbmVsbG9cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgRkVBVFVSRV9BTExPV19NRVJHSU5HLCBGRUFUVVJFX1FVSUNLX1JPTExfQ09OVFJPTCwgRkVBVFVSRV9RVUlDS19ST0xMX01PRElGSUVSUywgRkVBVFVSRV9RVUlDS19ST0xMX1NISUZUIH0gZnJvbSAnLi4vU2V0dXAnO1xuaW1wb3J0IE1vZHVsZVNldHRpbmdzIGZyb20gJy4uLy4uLy4uL0ZWVFQtQ29tbW9uL3NyYy9tb2R1bGUvTW9kdWxlU2V0dGluZ3MnO1xuaW1wb3J0IHsgRGF0YVNvdXJjZSwgR2VuVHlwZSwgUG9vbFNvdXJjZSwgU291cmNlVHlwZSB9IGZyb20gJy4vc291cmNlL0RhdGFTb3VyY2UnO1xuaW1wb3J0IHsgYnVpbGRGaWx0ZXJTZXR0aW5nVXBkYXRlLCBidWlsZFNvdXJjZVNldHRpbmdVcGRhdGUsIGNyZWF0ZUZsYWdQYXRoLCBGTEFHU19LRVksIGdldERhdGFTb3VyY2VTZXR0aW5ncywgZ2V0RmlsdGVyU2V0dGluZ3MsIFNldFZhbHVlS2V5cyB9IGZyb20gJy4vRmxhZ3MnO1xuaW1wb3J0IHsgcGVybWFuZW50U291cmNlcyB9IGZyb20gJy4vc291cmNlL1Blcm1hbmVudCc7XG5pbXBvcnQgeyB0cmVhc3VyZVNvdXJjZXMgfSBmcm9tICcuL3NvdXJjZS9UcmVhc3VyZSc7XG5pbXBvcnQgeyBBbmRHcm91cCwgT3JHcm91cCB9IGZyb20gJy4uL2ZpbHRlci9GaWx0ZXJHcm91cCc7XG5pbXBvcnQge1xuICAgIGNhbGN1bGF0ZUZpbmFsUHJpY2VBbmRMZXZlbCxcbiAgICBjcmVhdGVTcGVsbEl0ZW1zLFxuICAgIGRhdGFTb3VyY2VzT2ZUeXBlLFxuICAgIGRyYXdGcm9tU291cmNlcyxcbiAgICBEcmF3UmVzdWx0LFxuICAgIGdldEVxdWlwbWVudFR5cGUsXG4gICAgbWF5YmVNeXN0aWZ5SXRlbXMsXG4gICAgbWF5YmVPdXRwdXRJdGVtc1RvQ2hhdCxcbiAgICBtZXJnZUV4aXN0aW5nU3RhY2tzLFxuICAgIG1lcmdlU3RhY2tzLFxuICAgIHJvbGxUcmVhc3VyZVZhbHVlcyxcbn0gZnJvbSAnLi9VdGlsaXRpZXMnO1xuaW1wb3J0IHsgU3BlbGxJdGVtVHlwZSwgc3BlbGxTb3VyY2VzIH0gZnJvbSAnLi9zb3VyY2UvU3BlbGxzJztcbmltcG9ydCB7IEJhc2VQcmljZURhdGEsIENSRUFURV9LRVlfTk9ORSwgZ2V0VmFsaWRNYXRlcmlhbEdyYWRlcywgZ2V0VmFsaWRNYXRlcmlhbHMsIEl0ZW1NYXRlcmlhbHMgfSBmcm9tICcuL2RhdGEvTWF0ZXJpYWxzJztcbmltcG9ydCB7IElURU1fSURfTEVOR1RILCBNT0RVTEVfTkFNRSwgUEYyRV9MT09UX1NIRUVUX05BTUUsIFFVSUNLX01ZU1RJRlksIFRPT0xCT1hfTkFNRSB9IGZyb20gJy4uL0NvbnN0YW50cyc7XG5pbXBvcnQgeyBBcHBGaWx0ZXIsIEZpbHRlclR5cGUsIHNwZWxsTGV2ZWxGaWx0ZXJzLCBzcGVsbFJhcml0eUZpbHRlcnMsIHNwZWxsU2Nob29sRmlsdGVycywgc3BlbGxUcmFkaXRpb25GaWx0ZXJzIH0gZnJvbSAnLi9GaWx0ZXJzJztcbmltcG9ydCB7IE51bWJlckZpbHRlciB9IGZyb20gJy4uL2ZpbHRlci9PcGVyYXRpb24vTnVtYmVyRmlsdGVyJztcbmltcG9ydCB7IEFycmF5SW5jbHVkZXNGaWx0ZXIgfSBmcm9tICcuLi9maWx0ZXIvT3BlcmF0aW9uL0FycmF5SW5jbHVkZXNGaWx0ZXInO1xuaW1wb3J0IHsgU3RyaW5nRmlsdGVyIH0gZnJvbSAnLi4vZmlsdGVyL09wZXJhdGlvbi9TdHJpbmdGaWx0ZXInO1xuaW1wb3J0IHsgY29uc3VtYWJsZVNvdXJjZXMgfSBmcm9tICcuL3NvdXJjZS9Db25zdW1hYmxlJztcbmltcG9ydCB7IFdlaWdodGVkRmlsdGVyIH0gZnJvbSAnLi4vZmlsdGVyL09wZXJhdGlvbi9XZWlnaHRlZEZpbHRlcic7XG5pbXBvcnQgeyBFcXVhbGl0eVR5cGUgfSBmcm9tICcuLi9maWx0ZXIvRXF1YWxpdHlUeXBlJztcbmltcG9ydCB7XG4gICAgQXJtb3JQcm9wZXJ0eVJ1bmVUeXBlLFxuICAgIEVxdWlwbWVudEl0ZW0sXG4gICAgRXF1aXBtZW50VHlwZSxcbiAgICBIVE1MSXRlbVN0cmluZyxcbiAgICBpc0FybW9yLFxuICAgIGlzRXF1aXBtZW50LFxuICAgIGlzU2hpZWxkLFxuICAgIGlzV2VhcG9uLFxuICAgIFBGMkVJdGVtLFxuICAgIFBoeXNpY2FsSXRlbSxcbiAgICBQcmVjaW91c01hdGVyaWFsR3JhZGUsXG4gICAgUHJlY2lvdXNNYXRlcmlhbFR5cGUsXG4gICAgUHJvcGVydHlSdW5lQ3JlYXRlS2V5LFxuICAgIFByb3BlcnR5UnVuZVR5cGUsXG4gICAgUmFyaXR5LFxuICAgIFJlc2lsaWVuY3lSdW5lVHlwZSxcbiAgICBTdHJpa2luZ1J1bmVUeXBlLFxuICAgIFdlYXBvblByb3BlcnR5UnVuZVR5cGUsXG59IGZyb20gJy4uLy4uL3R5cGVzL1BGMkUnO1xuaW1wb3J0IHsgRnVuZGFtZW50YWxSdW5lVHlwZSwgSXRlbVJ1bmVzLCBQb3RlbmN5UnVuZVR5cGUgfSBmcm9tICcuL2RhdGEvUnVuZXMnO1xuXG5leHBvcnQgZW51bSBMb290QXBwU2V0dGluZyB7XG4gICAgQ291bnQgPSAnY291bnQnLFxufVxuXG5pbnRlcmZhY2UgRm9ybU9wdGlvbjxUU2x1ZywgVExhYmVsID0gc3RyaW5nPiB7XG4gICAgc2x1ZzogVFNsdWc7XG4gICAgbGFiZWw6IFRMYWJlbDtcbn1cbmV4cG9ydCB0eXBlIExvb3RBcHBDcmVhdGVEYXRhID0ge1xuICAgIHR5cGU6IEVxdWlwbWVudFR5cGU7XG5cbiAgICB0ZW1wbGF0ZTogRXF1aXBtZW50SXRlbTtcbiAgICB0ZW1wbGF0ZUxpbms6IEhUTUxJdGVtU3RyaW5nO1xuICAgIHByb2R1Y3Q/OiBFcXVpcG1lbnRJdGVtO1xuXG4gICAgcHJlY2lvdXNNYXRlcmlhbDogUHJlY2lvdXNNYXRlcmlhbFR5cGU7XG4gICAgcHJlY2lvdXNNYXRlcmlhbEdyYWRlOiBQcmVjaW91c01hdGVyaWFsR3JhZGU7XG5cbiAgICBwb3RlbmN5UnVuZTogUG90ZW5jeVJ1bmVUeXBlO1xuXG4gICAgc3RyaWtpbmdSdW5lPzogU3RyaWtpbmdSdW5lVHlwZTtcbiAgICByZXNpbGllbmN5UnVuZT86IFJlc2lsaWVuY3lSdW5lVHlwZTtcblxuICAgIHNoaWVsZFR5cGU/OiBFcXVpcG1lbnRUeXBlO1xuXG4gICAgbWF0ZXJpYWxzOiBSZXR1cm5UeXBlPHR5cGVvZiBnZXRWYWxpZE1hdGVyaWFscz47XG4gICAgZ3JhZGVzOiBSZXR1cm5UeXBlPHR5cGVvZiBnZXRWYWxpZE1hdGVyaWFsR3JhZGVzPjtcbiAgICBydW5lczogdHlwZW9mIEl0ZW1SdW5lc1tFcXVpcG1lbnRUeXBlXTtcbiAgICBzaGllbGRUeXBlcz86IEZvcm1PcHRpb248RXF1aXBtZW50VHlwZT5bXTtcblxuICAgIGhhcmRuZXNzOiBudW1iZXI7XG4gICAgaGl0UG9pbnRzOiBudW1iZXI7XG4gICAgYnJva2VuVGhyZXNob2xkOiBudW1iZXI7XG4gICAgZmluYWxQcmljZTogQmFzZVByaWNlRGF0YTtcbiAgICBmaW5hbExldmVsOiBudW1iZXI7XG59ICYge1xuICAgIFtUIGluIFByb3BlcnR5UnVuZUNyZWF0ZUtleV06IFByb3BlcnR5UnVuZVR5cGU7XG59O1xuXG5leHBvcnQgY29uc3QgZXh0ZW5kTG9vdFNoZWV0ID0gKCkgPT4ge1xuICAgIHR5cGUgQWN0b3JTaGVldENvbnN0cnVjdG9yID0gbmV3ICguLi5hcmdzOiBhbnlbXSkgPT4gQWN0b3JTaGVldDxBY3RvclNoZWV0Lk9wdGlvbnMsIGFueT47XG5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgY29uc3QgQmFzZUNsYXNzOiBBY3RvclNoZWV0Q29uc3RydWN0b3IgPSBDT05GSUcuQWN0b3Iuc2hlZXRDbGFzc2VzWydsb290J11bYHBmMmUuJHtQRjJFX0xPT1RfU0hFRVRfTkFNRX1gXS5jbHM7XG4gICAgY2xhc3MgTG9vdEFwcCBleHRlbmRzIEJhc2VDbGFzcyB7XG4gICAgICAgIHN0YXRpYyBnZXQgZGVmYXVsdE9wdGlvbnMoKSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0gc3VwZXIuZGVmYXVsdE9wdGlvbnM7XG4gICAgICAgICAgICBvcHRpb25zLmNsYXNzZXMgPSBvcHRpb25zLmNsYXNzZXMgPz8gW107XG4gICAgICAgICAgICBvcHRpb25zLmNsYXNzZXMgPSBbLi4ub3B0aW9ucy5jbGFzc2VzLCAncGYyZS1sb290Z2VuJywgJ2xvb3QtYXBwJ107XG4gICAgICAgICAgICBvcHRpb25zLnRhYnMgPSBbXG4gICAgICAgICAgICAgICAgLi4ub3B0aW9ucy50YWJzLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmF2U2VsZWN0b3I6ICcubG9vdC1hcHAtbmF2JyxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudFNlbGVjdG9yOiAnLmxvb3QtYXBwLWNvbnRlbnQnLFxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsOiAnc2V0dGluZ3MnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgdGl0bGUoKTogc3RyaW5nIHtcbiAgICAgICAgICAgIHJldHVybiAnUEYyRSBMb290IEdlbmVyYXRvcic7XG4gICAgICAgIH1cblxuICAgICAgICBnZXQgdGVtcGxhdGUoKTogc3RyaW5nIHtcbiAgICAgICAgICAgIHJldHVybiBgbW9kdWxlcy8ke01PRFVMRV9OQU1FfS90ZW1wbGF0ZXMvbG9vdC1hcHAvaW5kZXguaHRtbGA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBiYXNlIGl0ZW0gZGF0YSBkcmFnZ2VkIGZyb20gc29tZXdoZXJlXG4gICAgICAgIHByb3RlY3RlZCBfY3JlYXRlQmFzZUl0ZW06IEVxdWlwbWVudEl0ZW0gfCB1bmRlZmluZWQ7XG5cbiAgICAgICAgcHJvdGVjdGVkIGdldCBjcmVhdGVCYXNlSXRlbSgpOiBFcXVpcG1lbnRJdGVtIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jcmVhdGVCYXNlSXRlbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkdXBsaWNhdGUodGhpcy5fY3JlYXRlQmFzZUl0ZW0pO1xuICAgICAgICAgICAgfSBlbHNlIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgc2V0IGNyZWF0ZUJhc2VJdGVtKHZhbHVlOiBFcXVpcG1lbnRJdGVtIHwgdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBkZWxldGUgbG9jYWwgb2xkIGJhc2UgaXRlbSB0byBwcmV2ZW50IG1lbW9yeSBsZWFrXG4gICAgICAgICAgICBpZiAodGhpcy5jcmVhdGVCYXNlSXRlbSAhPT0gdW5kZWZpbmVkICYmIHRoaXMuY3JlYXRlQmFzZUl0ZW0gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnYW1lLml0ZW1zPy5kZWxldGUodGhpcy5jcmVhdGVCYXNlSXRlbS5faWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YWx1ZSA9IGR1cGxpY2F0ZSh2YWx1ZSkgYXMgRXF1aXBtZW50SXRlbTtcbiAgICAgICAgICAgIHZhbHVlLl9pZCA9IGZvdW5kcnkudXRpbHMucmFuZG9tSUQoSVRFTV9JRF9MRU5HVEgpO1xuICAgICAgICAgICAgdmFsdWVbJ2ZsYWdzJ10gPSB7IC4uLnZhbHVlWydmbGFncyddLCBbRkxBR1NfS0VZXTogeyB0ZW1wb3Jhcnk6IHRydWUgfSB9O1xuXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBjb25zdCBpdGVtOiBJdGVtID0gbmV3IChnYW1lLml0ZW1zIGFzIEl0ZW1zKS5kb2N1bWVudENsYXNzKHZhbHVlKTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGdhbWUuaXRlbXM/LnNldCh2YWx1ZS5faWQsIGl0ZW0pO1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlQmFzZUl0ZW0gPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1hcHBpbmcgb2YgY29sbGFwc2UtaWRzIHRvIGhpZGRlbiBvciBub3Qgc3RhdGVzXG4gICAgICAgIHByb3RlY3RlZCBjb2xsYXBzaWJsZXM6IFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+ID0ge307XG5cbiAgICAgICAgcHJvdGVjdGVkIGdldENyZWF0ZUZsYWc8VD4oa2V5OiBzdHJpbmcpOiBUIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFjdG9yLmdldEZsYWcoRkxBR1NfS0VZLCBgY3JlYXRlLiR7a2V5fWApIGFzIFQ7XG4gICAgICAgIH1cblxuICAgICAgICBwcm90ZWN0ZWQgYXN5bmMgZ2V0Q3JlYXRlRGF0YSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNyZWF0ZUJhc2VJdGVtID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBlcXVpcG1lbnRUeXBlID0gZ2V0RXF1aXBtZW50VHlwZSh0aGlzLmNyZWF0ZUJhc2VJdGVtKTtcbiAgICAgICAgICAgIGlmIChlcXVpcG1lbnRUeXBlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBkYXRhOiBQYXJ0aWFsPExvb3RBcHBDcmVhdGVEYXRhPiA9IHt9O1xuICAgICAgICAgICAgZGF0YVsndHlwZSddID0gZXF1aXBtZW50VHlwZTtcbiAgICAgICAgICAgIGRhdGFbJ3RlbXBsYXRlJ10gPSB0aGlzLmNyZWF0ZUJhc2VJdGVtO1xuICAgICAgICAgICAgZGF0YVsndGVtcGxhdGVMaW5rJ10gPSBgQEl0ZW1bJHt0aGlzLmNyZWF0ZUJhc2VJdGVtLl9pZH1dYDtcblxuICAgICAgICAgICAgY29uc3QgbWF0ZXJpYWxHcmFkZVR5cGUgPSB0aGlzLmdldENyZWF0ZUZsYWc8UHJlY2lvdXNNYXRlcmlhbEdyYWRlPigncHJlY2lvdXNNYXRlcmlhbEdyYWRlJykgPz8gUHJlY2lvdXNNYXRlcmlhbEdyYWRlLk5vbmU7XG4gICAgICAgICAgICBkYXRhWydwcmVjaW91c01hdGVyaWFsR3JhZGUnXSA9IG1hdGVyaWFsR3JhZGVUeXBlO1xuXG4gICAgICAgICAgICBjb25zdCBtYXRlcmlhbFR5cGUgPSB0aGlzLmdldENyZWF0ZUZsYWc8UHJlY2lvdXNNYXRlcmlhbFR5cGU+KCdwcmVjaW91c01hdGVyaWFsJykgPz8gQ1JFQVRFX0tFWV9OT05FO1xuICAgICAgICAgICAgZGF0YVsncHJlY2lvdXNNYXRlcmlhbCddID0gbWF0ZXJpYWxUeXBlO1xuXG4gICAgICAgICAgICBjb25zdCBwb3RlbmN5UnVuZVR5cGUgPSB0aGlzLmdldENyZWF0ZUZsYWc8UG90ZW5jeVJ1bmVUeXBlPigncG90ZW5jeVJ1bmUnKSA/PyAnMCc7XG4gICAgICAgICAgICBkYXRhWydwb3RlbmN5UnVuZSddID0gcG90ZW5jeVJ1bmVUeXBlO1xuXG4gICAgICAgICAgICBsZXQgZnVuZGFtZW50YWxSdW5lOiBGdW5kYW1lbnRhbFJ1bmVUeXBlID0gJyc7XG4gICAgICAgICAgICBpZiAoaXNXZWFwb24odGhpcy5jcmVhdGVCYXNlSXRlbSkpIHtcbiAgICAgICAgICAgICAgICBmdW5kYW1lbnRhbFJ1bmUgPSB0aGlzLmdldENyZWF0ZUZsYWc8U3RyaWtpbmdSdW5lVHlwZT4oJ3N0cmlraW5nUnVuZScpID8/ICcnO1xuICAgICAgICAgICAgICAgIGRhdGFbJ3N0cmlraW5nUnVuZSddID0gZnVuZGFtZW50YWxSdW5lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzQXJtb3IodGhpcy5jcmVhdGVCYXNlSXRlbSkpIHtcbiAgICAgICAgICAgICAgICBmdW5kYW1lbnRhbFJ1bmUgPSB0aGlzLmdldENyZWF0ZUZsYWc8UmVzaWxpZW5jeVJ1bmVUeXBlPigncmVzaWxpZW5jeVJ1bmUnKSA/PyAnJztcbiAgICAgICAgICAgICAgICBkYXRhWydyZXNpbGllbmN5UnVuZSddID0gZnVuZGFtZW50YWxSdW5lO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBwcm9wZXJ0eVJ1bmVzOiBbUHJvcGVydHlSdW5lVHlwZSwgUHJvcGVydHlSdW5lVHlwZSwgUHJvcGVydHlSdW5lVHlwZSwgUHJvcGVydHlSdW5lVHlwZV0gPSBbJycsICcnLCAnJywgJyddO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBgcHJvcGVydHlSdW5lJHtpICsgMX1gIGFzIFByb3BlcnR5UnVuZUNyZWF0ZUtleTtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eVJ1bmVzW2ldID0gdGhpcy5nZXRDcmVhdGVGbGFnPFByb3BlcnR5UnVuZVR5cGU+KGtleSkgPz8gJyc7XG4gICAgICAgICAgICAgICAgZGF0YVtrZXldID0gcHJvcGVydHlSdW5lc1tpXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGF0YVsnbWF0ZXJpYWxzJ10gPSBnZXRWYWxpZE1hdGVyaWFscyh0aGlzLmNyZWF0ZUJhc2VJdGVtKTtcbiAgICAgICAgICAgIGRhdGFbJ2dyYWRlcyddID0gZ2V0VmFsaWRNYXRlcmlhbEdyYWRlcyh0aGlzLmNyZWF0ZUJhc2VJdGVtLCBtYXRlcmlhbFR5cGUpO1xuICAgICAgICAgICAgZGF0YVsncnVuZXMnXSA9IEl0ZW1SdW5lc1tlcXVpcG1lbnRUeXBlXTtcblxuICAgICAgICAgICAgLy8gc3dpdGNoIGhlcmUgc28gdGhlIHR5cGUgaXMgbmFycm93ZWQgYnkgdHMgcHJvcGVybHlcbiAgICAgICAgICAgIHN3aXRjaCAoZXF1aXBtZW50VHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgRXF1aXBtZW50VHlwZS5CdWNrbGVyOlxuICAgICAgICAgICAgICAgIGNhc2UgRXF1aXBtZW50VHlwZS5TaGllbGQ6XG4gICAgICAgICAgICAgICAgY2FzZSBFcXVpcG1lbnRUeXBlLlRvd2VyOlxuICAgICAgICAgICAgICAgICAgICBkYXRhWydzaGllbGRUeXBlJ10gPSBlcXVpcG1lbnRUeXBlO1xuICAgICAgICAgICAgICAgICAgICBkYXRhWydzaGllbGRUeXBlcyddID0gW0VxdWlwbWVudFR5cGUuQnVja2xlciwgRXF1aXBtZW50VHlwZS5TaGllbGQsIEVxdWlwbWVudFR5cGUuVG93ZXJdLm1hcCgodHlwZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbHVnOiB0eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0eXBlLnRvU3RyaW5nKCkuY2FwaXRhbGl6ZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBkYXRhVXBkYXRlcyA9IHRoaXMudmFsaWRhdGVGbGFnRGF0YSh0aGlzLmNyZWF0ZUJhc2VJdGVtKTtcbiAgICAgICAgICAgIGRhdGEgPSBtZXJnZU9iamVjdChkYXRhLCBkYXRhVXBkYXRlcyk7XG5cbiAgICAgICAgICAgIGNvbnN0IHsgcHJpY2UsIGxldmVsLCBoYXJkbmVzcywgaGl0UG9pbnRzLCBicm9rZW5UaHJlc2hvbGQgfSA9IGNhbGN1bGF0ZUZpbmFsUHJpY2VBbmRMZXZlbCh7XG4gICAgICAgICAgICAgICAgaXRlbTogdGhpcy5jcmVhdGVCYXNlSXRlbSxcbiAgICAgICAgICAgICAgICBtYXRlcmlhbFR5cGUsXG4gICAgICAgICAgICAgICAgbWF0ZXJpYWxHcmFkZVR5cGUsXG4gICAgICAgICAgICAgICAgcG90ZW5jeVJ1bmU6IHBvdGVuY3lSdW5lVHlwZSxcbiAgICAgICAgICAgICAgICBmdW5kYW1lbnRhbFJ1bmU6IGZ1bmRhbWVudGFsUnVuZSxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eVJ1bmVzOiBwcm9wZXJ0eVJ1bmVzLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGRhdGFbJ2hhcmRuZXNzJ10gPSBoYXJkbmVzcztcbiAgICAgICAgICAgIGRhdGFbJ2hpdFBvaW50cyddID0gaGl0UG9pbnRzO1xuICAgICAgICAgICAgZGF0YVsnYnJva2VuVGhyZXNob2xkJ10gPSBicm9rZW5UaHJlc2hvbGQ7XG4gICAgICAgICAgICBkYXRhWydmaW5hbFByaWNlJ10gPSB7IGJhc2VQcmljZTogcHJpY2UgfTtcbiAgICAgICAgICAgIGRhdGFbJ2ZpbmFsTGV2ZWwnXSA9IGxldmVsO1xuXG4gICAgICAgICAgICBjb25zdCBwcm9kdWN0ID0gdGhpcy5idWlsZFByb2R1Y3QoZGF0YSBhcyBMb290QXBwQ3JlYXRlRGF0YSk7XG4gICAgICAgICAgICBpZiAocHJvZHVjdCkge1xuICAgICAgICAgICAgICAgIGRhdGFbJ3Byb2R1Y3QnXSA9IHByb2R1Y3Q7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIGJ1aWxkUHJvZHVjdChkYXRhOiBMb290QXBwQ3JlYXRlRGF0YSk6IEVxdWlwbWVudEl0ZW0gfCB1bmRlZmluZWQge1xuICAgICAgICAgICAgY29uc3QgcHJvZHVjdCA9IHRoaXMuY3JlYXRlQmFzZUl0ZW07XG4gICAgICAgICAgICBpZiAocHJvZHVjdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gc2V0dGluZyB0aGlzIHdheSB0byBlbnN1cmUgaXQgZXhpc3RzLCBhcm1vciBkb2VzIG5vdCBjb250YWluIHRoaXMgQVRNIGJ1dCBJIGV4cGVjdCBpdFxuICAgICAgICAgICAgLy8gdG8gYmUgYWRkZWQgdG8gYXJtb3JzIGluIGxhdGVyIHZlcnNpb24gb2YgUEYyRSBhcyBhdXRvbWF0aW9uIGNvbnRpbnVlcyB0byBpbXByb3ZlXG4gICAgICAgICAgICBwcm9kdWN0LmRhdGEuc3BlY2lmaWMgPSB7IHZhbHVlOiB0cnVlIH07XG5cbiAgICAgICAgICAgIHByb2R1Y3QuZGF0YS5sZXZlbC52YWx1ZSA9IGRhdGEuZmluYWxMZXZlbDtcbiAgICAgICAgICAgIHByb2R1Y3QuZGF0YS5wcmljZS52YWx1ZSA9IGAke2RhdGEuZmluYWxQcmljZS5iYXNlUHJpY2V9IGdwYDtcblxuICAgICAgICAgICAgcHJvZHVjdC5kYXRhLnByZWNpb3VzTWF0ZXJpYWwudmFsdWUgPSBkYXRhLnByZWNpb3VzTWF0ZXJpYWw7XG4gICAgICAgICAgICBwcm9kdWN0LmRhdGEucHJlY2lvdXNNYXRlcmlhbEdyYWRlLnZhbHVlID0gZGF0YS5wcmVjaW91c01hdGVyaWFsR3JhZGU7XG5cbiAgICAgICAgICAgIHByb2R1Y3QuZGF0YS5wcm9wZXJ0eVJ1bmUxLnZhbHVlID0gZGF0YS5wcm9wZXJ0eVJ1bmUxO1xuICAgICAgICAgICAgcHJvZHVjdC5kYXRhLnByb3BlcnR5UnVuZTIudmFsdWUgPSBkYXRhLnByb3BlcnR5UnVuZTI7XG4gICAgICAgICAgICBwcm9kdWN0LmRhdGEucHJvcGVydHlSdW5lMy52YWx1ZSA9IGRhdGEucHJvcGVydHlSdW5lMztcbiAgICAgICAgICAgIHByb2R1Y3QuZGF0YS5wcm9wZXJ0eVJ1bmU0LnZhbHVlID0gZGF0YS5wcm9wZXJ0eVJ1bmU0O1xuXG4gICAgICAgICAgICBpZiAoaXNXZWFwb24ocHJvZHVjdCkgJiYgZGF0YS5zdHJpa2luZ1J1bmUpIHtcbiAgICAgICAgICAgICAgICBwcm9kdWN0LmRhdGEucG90ZW5jeVJ1bmUudmFsdWUgPSBkYXRhLnBvdGVuY3lSdW5lO1xuICAgICAgICAgICAgICAgIHByb2R1Y3QuZGF0YS5zdHJpa2luZ1J1bmUudmFsdWUgPSBkYXRhLnN0cmlraW5nUnVuZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0FybW9yKHByb2R1Y3QpICYmIGRhdGEucmVzaWxpZW5jeVJ1bmUpIHtcbiAgICAgICAgICAgICAgICBwcm9kdWN0LmRhdGEucG90ZW5jeVJ1bmUudmFsdWUgPSBkYXRhLnBvdGVuY3lSdW5lO1xuICAgICAgICAgICAgICAgIHByb2R1Y3QuZGF0YS5yZXNpbGllbmN5UnVuZS52YWx1ZSA9IGRhdGEucmVzaWxpZW5jeVJ1bmU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBuZXdOYW1lOiBzdHJpbmcgPSAnJztcbiAgICAgICAgICAgIGlmIChkYXRhLnBvdGVuY3lSdW5lICYmIGRhdGEucG90ZW5jeVJ1bmUgIT09ICcwJyAmJiAoZGF0YS5wb3RlbmN5UnVuZSBhcyBzdHJpbmcpICE9PSAnJykge1xuICAgICAgICAgICAgICAgIG5ld05hbWUgPSBgKyR7ZGF0YS5wb3RlbmN5UnVuZX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEuc3RyaWtpbmdSdW5lICYmIChkYXRhLnN0cmlraW5nUnVuZSBhcyBzdHJpbmcpICE9PSAnJykge1xuICAgICAgICAgICAgICAgIG5ld05hbWUgKz0gYCAke2dhbWUuaTE4bi5sb2NhbGl6ZShDT05GSUcuUEYyRS53ZWFwb25TdHJpa2luZ1J1bmVzW2RhdGEuc3RyaWtpbmdSdW5lXSl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhLnJlc2lsaWVuY3lSdW5lICYmIChkYXRhLnJlc2lsaWVuY3lSdW5lIGFzIHN0cmluZykgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgbmV3TmFtZSArPSBgICR7Z2FtZS5pMThuLmxvY2FsaXplKENPTkZJRy5QRjJFLmFybW9yUmVzaWxpZW5jeVJ1bmVzW2RhdGEucmVzaWxpZW5jeVJ1bmVdKX1gO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZGF0YS5wcmVjaW91c01hdGVyaWFsICYmIChkYXRhLnByZWNpb3VzTWF0ZXJpYWwgYXMgc3RyaW5nKSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICBuZXdOYW1lICs9IGAgJHtnYW1lLmkxOG4ubG9jYWxpemUoQ09ORklHLlBGMkUucHJlY2lvdXNNYXRlcmlhbHNbZGF0YS5wcmVjaW91c01hdGVyaWFsXSl9YDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzV2VhcG9uKHByb2R1Y3QpKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gNDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGBwcm9wZXJ0eVJ1bmUke2l9YCBhcyBQcm9wZXJ0eVJ1bmVDcmVhdGVLZXk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZGF0YVtrZXldIGFzIFdlYXBvblByb3BlcnR5UnVuZVR5cGU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAmJiAodmFsdWUgYXMgc3RyaW5nKSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld05hbWUgKz0gYCAke2dhbWUuaTE4bi5sb2NhbGl6ZShDT05GSUcuUEYyRS53ZWFwb25Qcm9wZXJ0eVJ1bmVzW3ZhbHVlXSl9YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0FybW9yKHByb2R1Y3QpKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gNDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGBwcm9wZXJ0eVJ1bmUke2l9YCBhcyBQcm9wZXJ0eVJ1bmVDcmVhdGVLZXk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZGF0YVtrZXldIGFzIEFybW9yUHJvcGVydHlSdW5lVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICYmICh2YWx1ZSBhcyBzdHJpbmcpICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3TmFtZSArPSBgICR7Z2FtZS5pMThuLmxvY2FsaXplKENPTkZJRy5QRjJFLmFybW9yUHJvcGVydHlSdW5lc1t2YWx1ZV0pfWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHByb2R1Y3QuZGF0YS5oYXJkbmVzcy52YWx1ZSA9IGRhdGEuaGFyZG5lc3M7XG4gICAgICAgICAgICBwcm9kdWN0LmRhdGEuaHAudmFsdWUgPSBkYXRhLmhpdFBvaW50cztcbiAgICAgICAgICAgIHByb2R1Y3QuZGF0YS5tYXhIcC52YWx1ZSA9IGRhdGEuaGl0UG9pbnRzO1xuICAgICAgICAgICAgcHJvZHVjdC5kYXRhLmJyb2tlblRocmVzaG9sZC52YWx1ZSA9IGRhdGEuYnJva2VuVGhyZXNob2xkO1xuXG4gICAgICAgICAgICAvLyB1cGRhdGUgdGFibGUgZGVzY3JpcHRpb24gb2Ygc2hpZWxkc1xuICAgICAgICAgICAgaWYgKGlzU2hpZWxkKHByb2R1Y3QpKSB7XG4gICAgICAgICAgICAgICAgbGV0IGRlc2NyaXB0aW9uID0gcHJvZHVjdC5kYXRhLmRlc2NyaXB0aW9uLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRMZW5ndGggPSAnPHRkPicubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgaGFyZG5lc3NTdGFydCA9IGRlc2NyaXB0aW9uLmluZGV4T2YoJzx0ZD4nKSArIHN0YXJ0TGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgaWYgKGhhcmRuZXNzU3RhcnQgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhcmRuZXNzRW5kID0gZGVzY3JpcHRpb24uaW5kZXhPZignPC90ZD4nLCBoYXJkbmVzc1N0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbi5zbGljZSgwLCBoYXJkbmVzc1N0YXJ0KSArIGRhdGEuaGFyZG5lc3MgKyBkZXNjcmlwdGlvbi5zbGljZShoYXJkbmVzc0VuZCwgZGVzY3JpcHRpb24ubGVuZ3RoKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBoaXRQb2ludHNTdGFydCA9IGRlc2NyaXB0aW9uLmluZGV4T2YoJzx0ZD4nLCBoYXJkbmVzc1N0YXJ0KSArIHN0YXJ0TGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoaXRQb2ludHNFbmQgPSBkZXNjcmlwdGlvbi5pbmRleE9mKCc8L3RkPicsIGhpdFBvaW50c1N0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbi5zbGljZSgwLCBoaXRQb2ludHNTdGFydCkgKyBkYXRhLmhpdFBvaW50cyArIGRlc2NyaXB0aW9uLnNsaWNlKGhpdFBvaW50c0VuZCwgZGVzY3JpcHRpb24ubGVuZ3RoKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBicmVha1RocmVzaG9sZFN0YXJ0ID0gZGVzY3JpcHRpb24uaW5kZXhPZignPHRkPicsIGhpdFBvaW50c1N0YXJ0KSArIHN0YXJ0TGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBicmVha1RocmVzaG9sZEVuZCA9IGRlc2NyaXB0aW9uLmluZGV4T2YoJzwvdGQ+JywgYnJlYWtUaHJlc2hvbGRTdGFydCk7XG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb24uc2xpY2UoMCwgYnJlYWtUaHJlc2hvbGRTdGFydCkgKyBkYXRhLmJyb2tlblRocmVzaG9sZCArIGRlc2NyaXB0aW9uLnNsaWNlKGJyZWFrVGhyZXNob2xkRW5kLCBkZXNjcmlwdGlvbi5sZW5ndGgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3QuZGF0YS5kZXNjcmlwdGlvbi52YWx1ZSA9IGRlc2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRhdGEuZmluYWxMZXZlbCA9PT0gMjUpIHtcbiAgICAgICAgICAgICAgICBwcm9kdWN0LmRhdGEudHJhaXRzLnJhcml0eS52YWx1ZSA9IFJhcml0eS5VbmlxdWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHByb2R1Y3QubmFtZSA9IGAke25ld05hbWV9ICR7cHJvZHVjdC5uYW1lfWA7XG4gICAgICAgICAgICBwcm9kdWN0Ll9pZCA9IGZvdW5kcnkudXRpbHMucmFuZG9tSUQoSVRFTV9JRF9MRU5HVEgpO1xuXG4gICAgICAgICAgICByZXR1cm4gcHJvZHVjdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3RlY3RlZCB2YWxpZGF0ZUZsYWdEYXRhKGl0ZW06IEVxdWlwbWVudEl0ZW0pOiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGFVcGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgICAgICAgICBsZXQgZXF1aXBtZW50VHlwZSA9IGdldEVxdWlwbWVudFR5cGUoaXRlbSkhO1xuXG4gICAgICAgICAgICBsZXQgcHJlY2lvdXNNYXRlcmlhbFR5cGUgPSB0aGlzLmdldENyZWF0ZUZsYWc8UHJlY2lvdXNNYXRlcmlhbFR5cGU+KCdwcmVjaW91c01hdGVyaWFsJyk7XG4gICAgICAgICAgICBsZXQgcHJlY2lvdXNNYXRlcmlhbEdyYWRlVHlwZSA9IHRoaXMuZ2V0Q3JlYXRlRmxhZzxQcmVjaW91c01hdGVyaWFsR3JhZGU+KCdwcmVjaW91c01hdGVyaWFsR3JhZGUnKTtcblxuICAgICAgICAgICAgaWYgKCFwcmVjaW91c01hdGVyaWFsR3JhZGVUeXBlKSB7XG4gICAgICAgICAgICAgICAgcHJlY2lvdXNNYXRlcmlhbEdyYWRlVHlwZSA9IFByZWNpb3VzTWF0ZXJpYWxHcmFkZS5Ob25lO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocHJlY2lvdXNNYXRlcmlhbFR5cGUpIHtcbiAgICAgICAgICAgICAgICBsZXQgcHJlY2lvdXNNYXRlcmlhbCA9IEl0ZW1NYXRlcmlhbHNbcHJlY2lvdXNNYXRlcmlhbFR5cGVdO1xuICAgICAgICAgICAgICAgIGlmICghcHJlY2lvdXNNYXRlcmlhbC5oYXNPd25Qcm9wZXJ0eShlcXVpcG1lbnRUeXBlKSkge1xuICAgICAgICAgICAgICAgICAgICBwcmVjaW91c01hdGVyaWFsVHlwZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICBkYXRhVXBkYXRlc1sncHJlY2lvdXNNYXRlcmlhbCddID0gcHJlY2lvdXNNYXRlcmlhbFR5cGU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsaWRHcmFkZXMgPSBnZXRWYWxpZE1hdGVyaWFsR3JhZGVzKGl0ZW0sIHByZWNpb3VzTWF0ZXJpYWxUeXBlKTtcbiAgICAgICAgICAgICAgICBpZiAoIXZhbGlkR3JhZGVzLmhhc093blByb3BlcnR5KHByZWNpb3VzTWF0ZXJpYWxHcmFkZVR5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHByZWNpb3VzTWF0ZXJpYWxHcmFkZVR5cGUgPSBwcmVjaW91c01hdGVyaWFsLmRlZmF1bHRHcmFkZTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YVVwZGF0ZXNbJ3ByZWNpb3VzTWF0ZXJpYWxHcmFkZSddID0gcHJlY2lvdXNNYXRlcmlhbEdyYWRlVHlwZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBwb3RlbmN5UnVuZVR5cGUgPSB0aGlzLmdldENyZWF0ZUZsYWc8UG90ZW5jeVJ1bmVUeXBlPigncG90ZW5jeVJ1bmUnKTtcbiAgICAgICAgICAgIC8vIHdoZW4gaW5pdGlhbGl6aW5nIHdlIGNhbiBoYXZlIGVtcHR5IHN0cmluZyB0ZWNobmljYWxseVxuICAgICAgICAgICAgaWYgKChwb3RlbmN5UnVuZVR5cGUgYXMgc3RyaW5nKSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICBwb3RlbmN5UnVuZVR5cGUgPSAnMCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocG90ZW5jeVJ1bmVUeXBlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcG90ZW5jeVZhbHVlID0gcGFyc2VJbnQocG90ZW5jeVJ1bmVUeXBlKTtcblxuICAgICAgICAgICAgICAgIGlmIChwb3RlbmN5VmFsdWUgPCA0KSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFVcGRhdGVzWydwcm9wZXJ0eVJ1bmU0J10gPSAnJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHBvdGVuY3lWYWx1ZSA8IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YVVwZGF0ZXNbJ3Byb3BlcnR5UnVuZTMnXSA9ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocG90ZW5jeVZhbHVlIDwgMikge1xuICAgICAgICAgICAgICAgICAgICBkYXRhVXBkYXRlc1sncHJvcGVydHlSdW5lMiddID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwb3RlbmN5VmFsdWUgPCAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFVcGRhdGVzWydwcm9wZXJ0eVJ1bmUxJ10gPSAnJztcbiAgICAgICAgICAgICAgICAgICAgZGF0YVVwZGF0ZXNbJ3N0cmlraW5nUnVuZSddID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFVcGRhdGVzWydyZXNpbGllbmN5UnVuZSddID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWlzT2JqZWN0RW1wdHkoZGF0YVVwZGF0ZXMpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmxhZ1VwZGF0ZXM6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhkYXRhVXBkYXRlcykpIHtcbiAgICAgICAgICAgICAgICAgICAgZmxhZ1VwZGF0ZXNbY3JlYXRlRmxhZ1BhdGgoa2V5LCB0cnVlKV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rvci51cGRhdGUoZmxhZ1VwZGF0ZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRhdGFVcGRhdGVzO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGFzeW5jIGdldERhdGEob3B0aW9ucz86IEFjdG9yU2hlZXQuT3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IChhd2FpdCBzdXBlci5nZXREYXRhKG9wdGlvbnMpKSBhcyBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuXG4gICAgICAgICAgICBkYXRhWydjb25zdGFudHMnXSA9IHtcbiAgICAgICAgICAgICAgICByYW5nZU1pbjogMSxcbiAgICAgICAgICAgICAgICByYW5nZU1heDogMjUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZGF0YVsnY29sbGFwc2libGVzJ10gPSB7IC4uLmRhdGFbJ2NvbGxhcHNpYmxlcyddLCAuLi50aGlzLmNvbGxhcHNpYmxlcyB9O1xuXG4gICAgICAgICAgICBjb25zdCBnZXRGaWx0ZXIgPSAoZmlsdGVyOiBBcHBGaWx0ZXIpOiBBcHBGaWx0ZXIgPT4gZ2V0RmlsdGVyU2V0dGluZ3ModGhpcy5hY3RvciwgZmlsdGVyKTtcbiAgICAgICAgICAgIGRhdGFbJ2ZpbHRlcnMnXSA9IHtcbiAgICAgICAgICAgICAgICBzcGVsbDoge1xuICAgICAgICAgICAgICAgICAgICBzY2hvb2w6IE9iamVjdC52YWx1ZXMoc3BlbGxTY2hvb2xGaWx0ZXJzKS5tYXAoZ2V0RmlsdGVyKSxcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWw6IE9iamVjdC52YWx1ZXMoc3BlbGxMZXZlbEZpbHRlcnMpLm1hcChnZXRGaWx0ZXIpLFxuICAgICAgICAgICAgICAgICAgICB0cmFkaXRpb246IE9iamVjdC52YWx1ZXMoc3BlbGxUcmFkaXRpb25GaWx0ZXJzKS5tYXAoZ2V0RmlsdGVyKSxcbiAgICAgICAgICAgICAgICAgICAgcmFyaXR5OiBPYmplY3QudmFsdWVzKHNwZWxsUmFyaXR5RmlsdGVycykubWFwKGdldEZpbHRlciksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGdldFNvdXJjZSA9IChzb3VyY2U6IERhdGFTb3VyY2UpOiBEYXRhU291cmNlID0+IGdldERhdGFTb3VyY2VTZXR0aW5ncyh0aGlzLmFjdG9yLCBzb3VyY2UpO1xuICAgICAgICAgICAgZGF0YVsnc291cmNlcyddID0ge1xuICAgICAgICAgICAgICAgIFtHZW5UeXBlLkNvbnN1bWFibGVdOiBPYmplY3QudmFsdWVzKGNvbnN1bWFibGVTb3VyY2VzKS5tYXAoZ2V0U291cmNlKSxcbiAgICAgICAgICAgICAgICBbR2VuVHlwZS5QZXJtYW5lbnRdOiBPYmplY3QudmFsdWVzKHBlcm1hbmVudFNvdXJjZXMpLm1hcChnZXRTb3VyY2UpLFxuICAgICAgICAgICAgICAgIFtHZW5UeXBlLlRyZWFzdXJlXTogT2JqZWN0LnZhbHVlcyh0cmVhc3VyZVNvdXJjZXMpLm1hcChnZXRTb3VyY2UpLFxuICAgICAgICAgICAgICAgIFtHZW5UeXBlLlNwZWxsXTogT2JqZWN0LnZhbHVlcyhzcGVsbFNvdXJjZXMpLm1hcChnZXRTb3VyY2UpLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZGF0YVsnZmxhZ3MnXSA9IHtcbiAgICAgICAgICAgICAgICAuLi5kYXRhWydmbGFncyddLFxuICAgICAgICAgICAgICAgIC4uLmRhdGFbJ2FjdG9yJ11bJ2ZsYWdzJ11bRkxBR1NfS0VZXSxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGRhdGFbJ2NyZWF0ZSddID0gYXdhaXQgdGhpcy5nZXRDcmVhdGVEYXRhKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBhc3luYyBjcmVhdGVJdGVtcyhkYXRhczogUEYyRUl0ZW1bXSkge1xuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmFjdG9yLmNyZWF0ZUVtYmVkZGVkRG9jdW1lbnRzKCdJdGVtJywgZGF0YXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJpdmF0ZSBhc3luYyB1cGRhdGVJdGVtcyhkYXRhczogUEYyRUl0ZW1bXSkge1xuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmFjdG9yLnVwZGF0ZUVtYmVkZGVkRG9jdW1lbnRzKCdJdGVtJywgZGF0YXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZSBhIGdyb3VwIG9mIGl0ZW1zIGZyb20gYSBkcmF3IHJlc3VsdFxuICAgICAgICAgKiBAcGFyYW0gZXZlbnRcbiAgICAgICAgICogQHBhcmFtIHJlc3VsdHNcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHByaXZhdGUgYXN5bmMgY3JlYXRlSXRlbXNGcm9tRHJhdyhldmVudDogSlF1ZXJ5LkNsaWNrRXZlbnQsIHJlc3VsdHM6IERyYXdSZXN1bHRbXSkge1xuICAgICAgICAgICAgbGV0IGl0ZW1zVG9VcGRhdGU6IFBGMkVJdGVtW10gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBsZXQgaXRlbXNUb0NyZWF0ZSA9IHJlc3VsdHMubWFwKChkKSA9PiBkLml0ZW1EYXRhKTtcbiAgICAgICAgICAgIGF3YWl0IG1heWJlT3V0cHV0SXRlbXNUb0NoYXQoaXRlbXNUb0NyZWF0ZSBhcyBQaHlzaWNhbEl0ZW1bXSk7XG4gICAgICAgICAgICBpZiAoTW9kdWxlU2V0dGluZ3MuaW5zdGFuY2UuZ2V0KEZFQVRVUkVfQUxMT1dfTUVSR0lORykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZyA9IHRoaXMuYWN0b3IuZGF0YS5pdGVtcy5tYXAoKGl0ZW0pID0+IGl0ZW0uZGF0YSBhcyBQRjJFSXRlbSk7XG4gICAgICAgICAgICAgICAgW2l0ZW1zVG9VcGRhdGUsIGl0ZW1zVG9DcmVhdGVdID0gbWVyZ2VFeGlzdGluZ1N0YWNrcyhleGlzdGluZywgaXRlbXNUb0NyZWF0ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGl0ZW1zVG9DcmVhdGUgPSBtZXJnZVN0YWNrcyhpdGVtc1RvQ3JlYXRlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaXRlbXNUb0NyZWF0ZSA9IG1heWJlTXlzdGlmeUl0ZW1zKGV2ZW50LCAuLi4oaXRlbXNUb0NyZWF0ZSBhcyBQaHlzaWNhbEl0ZW1bXSkpO1xuICAgICAgICAgICAgaXRlbXNUb0NyZWF0ZS5zb3J0KChhLCBiKSA9PiBhLmRhdGEuc2x1Zy5sb2NhbGVDb21wYXJlKGIuZGF0YS5zbHVnKSk7XG5cbiAgICAgICAgICAgIGlmIChpdGVtc1RvVXBkYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZUl0ZW1zKGl0ZW1zVG9VcGRhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jcmVhdGVJdGVtcyhpdGVtc1RvQ3JlYXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gcmV0cmlldmUgY2VydGFpbiBzZXR0aW5ncyBmcm9tIHRoZSBmbGFncyBzdG9yZS5cbiAgICAgICAgICogQHBhcmFtIHR5cGUgVGhlIHR5cGUgb2YgdGhlIHNldHRpbmcsIHNpbmNlIHRoZXNlIHNldHRpbmdzIGFyZSBkdXBsaWNhdGVkIG92ZXIgdGhlIHRocmVlIGdlbmVyYXRvciB0eXBlcy5cbiAgICAgICAgICogQHBhcmFtIGtleSBUaGUgc2V0dGluZyBrZXkuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBwcml2YXRlIGdldExvb3RBcHBTZXR0aW5nPFQgPSBhbnk+KHR5cGU6IEdlblR5cGUsIGtleTogTG9vdEFwcFNldHRpbmcpOiBUIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFjdG9yLmdldEZsYWcoTU9EVUxFX05BTUUsIGBjb25maWcuJHt0eXBlfS4ke2tleX1gKSBhcyBUO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvdGVjdGVkIG92ZXJyaWRlIGFzeW5jIF9vbkRyb3BJdGVtKGV2ZW50OiBhbnksIGRhdGE6IGFueSkge1xuICAgICAgICAgICAgY29uc3QgZHJhZ0V2ZW50OiBEcmFnRXZlbnQgPSBldmVudCBhcyBEcmFnRXZlbnQ7XG4gICAgICAgICAgICBjb25zdCBkcm9wUmVnaW9uID0gJCh0aGlzLmVsZW1lbnQpLmZpbmQoJ2Rpdi50ZW1wbGF0ZS1kcm9wJyk7XG4gICAgICAgICAgICBjb25zdCBkcm9wVGFyZ2V0ID0gZHJvcFJlZ2lvbi5maW5kKGRyYWdFdmVudC50YXJnZXQgYXMgYW55KTtcblxuICAgICAgICAgICAgY29uc3QgaXNUZW1wbGF0ZURyb3AgPSBkcm9wVGFyZ2V0Lmxlbmd0aCA+IDA7XG5cbiAgICAgICAgICAgIGlmIChpc1RlbXBsYXRlRHJvcCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSAoYXdhaXQgSXRlbS5mcm9tRHJvcERhdGEoZGF0YSkpPy5kYXRhIGFzIFBGMkVJdGVtO1xuXG4gICAgICAgICAgICAgICAgaWYgKChpc1dlYXBvbihpdGVtKSAmJiBpdGVtLmRhdGEuZ3JvdXAudmFsdWUgIT09ICdib21iJykgfHwgaXNBcm1vcihpdGVtKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZUJhc2VJdGVtID0gaXRlbTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hY3Rvci51bnNldEZsYWcoRkxBR1NfS0VZLCAnY3JlYXRlJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdWkubm90aWZpY2F0aW9ucz8ud2FybignVGhlIGl0ZW0gY3JlYXRvciBvbmx5IHN1cHBvcnRzIHdlYXBvbnMsIGFybW9yLCBhbmQgc2hpZWxkcyByaWdodCBub3cuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBmbGFnczogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICAgICAgICAgIGlmIChpc0VxdWlwbWVudChpdGVtKSkge1xuICAgICAgICAgICAgICAgICAgICBmbGFnc1sncHJlY2lvdXNNYXRlcmlhbCddID0gaXRlbS5kYXRhLnByZWNpb3VzTWF0ZXJpYWwudmFsdWUgPz8gJyc7XG4gICAgICAgICAgICAgICAgICAgIGZsYWdzWydwcmVjaW91c01hdGVyaWFsR3JhZGUnXSA9IGl0ZW0uZGF0YS5wcmVjaW91c01hdGVyaWFsR3JhZGUudmFsdWUgPz8gUHJlY2lvdXNNYXRlcmlhbEdyYWRlLlN0YW5kYXJkO1xuICAgICAgICAgICAgICAgICAgICBmbGFnc1sncHJvcGVydHlSdW5lMSddID0gaXRlbS5kYXRhLnByb3BlcnR5UnVuZTEudmFsdWUgPz8gJyc7XG4gICAgICAgICAgICAgICAgICAgIGZsYWdzWydwcm9wZXJ0eVJ1bmUyJ10gPSBpdGVtLmRhdGEucHJvcGVydHlSdW5lMi52YWx1ZSA/PyAnJztcbiAgICAgICAgICAgICAgICAgICAgZmxhZ3NbJ3Byb3BlcnR5UnVuZTMnXSA9IGl0ZW0uZGF0YS5wcm9wZXJ0eVJ1bmUzLnZhbHVlID8/ICcnO1xuICAgICAgICAgICAgICAgICAgICBmbGFnc1sncHJvcGVydHlSdW5lNCddID0gaXRlbS5kYXRhLnByb3BlcnR5UnVuZTQudmFsdWUgPz8gJyc7XG4gICAgICAgICAgICAgICAgICAgIGZsYWdzWydwb3RlbmN5UnVuZSddID0gaXRlbS5kYXRhLnBvdGVuY3lSdW5lLnZhbHVlID8/ICcnO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1dlYXBvbihpdGVtKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmxhZ3NbJ3N0cmlraW5nUnVuZSddID0gaXRlbS5kYXRhLnN0cmlraW5nUnVuZS52YWx1ZSA/PyAnJztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc0FybW9yKGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmbGFnc1sncmVzaWxpZW5jeVJ1bmUnXSA9IGl0ZW0uZGF0YS5yZXNpbGllbmN5UnVuZS52YWx1ZSA/PyAnJztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1NoaWVsZChpdGVtKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmxhZ3NbJ3NoaWVsZFR5cGUnXSA9IGdldEVxdWlwbWVudFR5cGUoaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFjdG9yLnNldEZsYWcoRkxBR1NfS0VZLCAnY3JlYXRlJywgZmxhZ3MpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gc3VwZXIuX29uRHJvcEl0ZW0oZXZlbnQsIGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGFzeW5jIGFjdGl2YXRlTGlzdGVuZXJzKGh0bWw6IEpRdWVyeSkge1xuICAgICAgICAgICAgc3VwZXIuYWN0aXZhdGVMaXN0ZW5lcnMoaHRtbCk7XG5cbiAgICAgICAgICAgIC8vIFNpbmNlIGFsbCBvdXIgZGF0YSBpcyBkZXJpdmVkIGZyb20gdGhlIGZvcm0sIGZvciBzaW1wbGljaXR5IG9mIGNvZGUgaWYgdGhlXG4gICAgICAgICAgICAvLyAgZGF0YSBoYXMgbmV2ZXIgYmVlbiBzZXQsIGUuZy4gdGhlIHVzZXIgaGFzIG5ldmVyIGludGVyYWN0ZWQgd2l0aCB0aGUgZm9ybSxcbiAgICAgICAgICAgIC8vICB3ZSB3aWxsIHN1Ym1pdCB0aGUgZm9ybSB0byBnZXQgYSBkZWZhdWx0IHNldCBvZiBkYXRhIHN0b3JlZCBvbiB0aGUgc2VydmVyLlxuICAgICAgICAgICAgLy8gIFRoaXMgaXMgZG9uZSBpbiBhY3RpdmF0ZUxpc3RlbmVycyBzbyB3ZSBjYW4gZW5zdXJlIHdlIGdldCB0aGUgcHJvcGVyIEhUTUxcbiAgICAgICAgICAgIC8vICB0byBkZXJpdmUgdGhlIGZvcm0gZGF0YSBmcm9tLlxuICAgICAgICAgICAgaWYgKCF0aGlzLmFjdG9yLmdldEZsYWcoTU9EVUxFX05BTUUsICdjb25maWcnKSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX3VwZGF0ZU9iamVjdChuZXcgRXZlbnQoJ3N1Ym1pdCcpLCB0aGlzLl9nZXRTdWJtaXREYXRhKCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBUT0RPOiBNb3ZlIHRvIHV0aWxpdHkgZmlsZVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDYWxjdWxhdGUgcXVpY2sgcm9sbCBjb3VudCBieSBjaGVja2luZyBldmVudCBtb2RpZmllcnMgYW5kIHRoZSBtb2R1bGUgc2V0dGluZ3MuXG4gICAgICAgICAgICAgKiBAcGFyYW0gZXZlbnRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3QgZ2V0UXVpY2tSb2xsQ291bnQgPSAoZXZlbnQ6IEpRdWVyeS5DbGlja0V2ZW50KTogbnVtYmVyID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIU1vZHVsZVNldHRpbmdzLmluc3RhbmNlLmdldChGRUFUVVJFX1FVSUNLX1JPTExfTU9ESUZJRVJTKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgY291bnQgPSAxO1xuICAgICAgICAgICAgICAgIGlmIChldmVudC5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgICAgICBjb3VudCAqPSBNb2R1bGVTZXR0aW5ncy5pbnN0YW5jZS5nZXQoRkVBVFVSRV9RVUlDS19ST0xMX1NISUZUKSBhcyBudW1iZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChldmVudC5jdHJsS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50ICo9IE1vZHVsZVNldHRpbmdzLmluc3RhbmNlLmdldChGRUFUVVJFX1FVSUNLX1JPTExfQ09OVFJPTCkgYXMgbnVtYmVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY291bnQ7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBHZXQgdGhlIGNsb3Nlc3QgY29udGFpbmVyIGFuZCBlbGVtZW50IGZvciBhbiBldmVudC5cbiAgICAgICAgICAgICAqIEBwYXJhbSBldmVudFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBnZXRDb250YWluZXIgPSAoZXZlbnQ6IEpRdWVyeS5DbGlja0V2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9ICQoZXZlbnQuY3VycmVudFRhcmdldCk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gZWxlbWVudC5jbG9zZXN0KCcudGFiLWNvbnRhaW5lcicpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGVsZW1lbnQsIGNvbnRhaW5lciB9O1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgZ2V0VHlwZSA9IChldmVudDogSlF1ZXJ5LkNsaWNrRXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGNvbnRhaW5lciB9ID0gZ2V0Q29udGFpbmVyKGV2ZW50KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGFpbmVyLmRhdGEoJ3R5cGUnKSBhcyBHZW5UeXBlO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gZ3JvdXAgcm9sbCBidXR0b25cbiAgICAgICAgICAgIGh0bWwuZmluZCgnLmJ1dHRvbnMgLnJvbGwnKS5vbignY2xpY2snLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgeyBjb250YWluZXIgfSA9IGdldENvbnRhaW5lcihldmVudCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IGNvbnRhaW5lci5kYXRhKCd0eXBlJykgYXMgR2VuVHlwZTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZXMgPSBPYmplY3QudmFsdWVzKGRhdGFTb3VyY2VzT2ZUeXBlKHR5cGUpKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChzb3VyY2UpID0+IGdldERhdGFTb3VyY2VTZXR0aW5ncyh0aGlzLmFjdG9yLCBzb3VyY2UpKVxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKCh0YWJsZSkgPT4gdGFibGUuZW5hYmxlZCk7XG5cbiAgICAgICAgICAgICAgICBsZXQgcmVzdWx0cyA9IGF3YWl0IGRyYXdGcm9tU291cmNlcyh0aGlzLmdldExvb3RBcHBTZXR0aW5nPG51bWJlcj4odHlwZSwgTG9vdEFwcFNldHRpbmcuQ291bnQpLCBzb3VyY2VzKTtcbiAgICAgICAgICAgICAgICByZXN1bHRzID0gYXdhaXQgcm9sbFRyZWFzdXJlVmFsdWVzKHJlc3VsdHMpO1xuXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jcmVhdGVJdGVtc0Zyb21EcmF3KGV2ZW50LCByZXN1bHRzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gcXVpY2sgcm9sbCBidXR0b24gZm9yIHNvdXJjZXNcbiAgICAgICAgICAgIGh0bWwuZmluZCgnLnRyZWFzdXJlIGkucXVpY2stcm9sbCwgLnBlcm1hbmVudCBpLnF1aWNrLXJvbGwsIC5jb25zdW1hYmxlIGkucXVpY2stcm9sbCcpLm9uKCdjbGljaycsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gJChldmVudC5jdXJyZW50VGFyZ2V0KS5jbG9zZXN0KCcuc291cmNlLXdyYXBwZXInKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2U6IERhdGFTb3VyY2UgPSBlbGVtZW50LmRhdGEoJ3NvdXJjZScpO1xuXG4gICAgICAgICAgICAgICAgbGV0IHJlc3VsdHMgPSBhd2FpdCBkcmF3RnJvbVNvdXJjZXMoZ2V0UXVpY2tSb2xsQ291bnQoZXZlbnQpLCBbc291cmNlXSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0cyA9IGF3YWl0IHJvbGxUcmVhc3VyZVZhbHVlcyhyZXN1bHRzKTtcblxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY3JlYXRlSXRlbXNGcm9tRHJhdyhldmVudCwgcmVzdWx0cyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3Qgcm9sbFNwZWxscyA9IGFzeW5jIChldmVudDogSlF1ZXJ5LkNsaWNrRXZlbnQsIGNvbnN1bWFibGVUeXBlczogU3BlbGxJdGVtVHlwZVtdKSA9PiB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHByb21pc2VzOiBQcm9taXNlPEl0ZW1bXT5bXSA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc291cmNlIG9mIE9iamVjdC52YWx1ZXMoc3BlbGxTb3VyY2VzKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWNrID0gZ2FtZS5wYWNrcy5nZXQoc291cmNlLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhY2sgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gbm9pbnNwZWN0aW9uIEVTNk1pc3NpbmdBd2FpdFxuICAgICAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKHBhY2suZ2V0RG9jdW1lbnRzKCkgYXMgUHJvbWlzZTxJdGVtW10+KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBsZXZlbEZpbHRlcnMgPSBPYmplY3QudmFsdWVzKHNwZWxsTGV2ZWxGaWx0ZXJzKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChmaWx0ZXIpID0+IGdldEZpbHRlclNldHRpbmdzKHRoaXMuYWN0b3IsIGZpbHRlcikpXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKGZpbHRlcikgPT4gZmlsdGVyLmVuYWJsZWQpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGZpbHRlcikgPT4gbmV3IE51bWJlckZpbHRlcignZGF0YS5sZXZlbC52YWx1ZScsIGZpbHRlci5kZXNpcmVkVmFsdWUgYXMgbnVtYmVyLCBmaWx0ZXIud2VpZ2h0LCBFcXVhbGl0eVR5cGUuRXF1YWxUbykpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjaG9vbEZpbHRlcnMgPSBPYmplY3QudmFsdWVzKHNwZWxsU2Nob29sRmlsdGVycylcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoZmlsdGVyKSA9PiBnZXRGaWx0ZXJTZXR0aW5ncyh0aGlzLmFjdG9yLCBmaWx0ZXIpKVxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKChmaWx0ZXIpID0+IGZpbHRlci5lbmFibGVkKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChmaWx0ZXIpID0+IG5ldyBTdHJpbmdGaWx0ZXIoJ2RhdGEuc2Nob29sLnZhbHVlJywgZmlsdGVyLmRlc2lyZWRWYWx1ZSBhcyBzdHJpbmcsIGZpbHRlci53ZWlnaHQpKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFkaXRpb25GaWx0ZXJzID0gT2JqZWN0LnZhbHVlcyhzcGVsbFRyYWRpdGlvbkZpbHRlcnMpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGZpbHRlcikgPT4gZ2V0RmlsdGVyU2V0dGluZ3ModGhpcy5hY3RvciwgZmlsdGVyKSlcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigoZmlsdGVyKSA9PiBmaWx0ZXIuZW5hYmxlZClcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoZmlsdGVyKSA9PiBuZXcgQXJyYXlJbmNsdWRlc0ZpbHRlcignZGF0YS50cmFkaXRpb25zLnZhbHVlJywgZmlsdGVyLmRlc2lyZWRWYWx1ZSBhcyBzdHJpbmcsIGZpbHRlci53ZWlnaHQpKTtcbiAgICAgICAgICAgICAgICBjb25zdCByYXJpdHlGaWx0ZXJzID0gT2JqZWN0LnZhbHVlcyhzcGVsbFJhcml0eUZpbHRlcnMpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGZpbHRlcikgPT4gZ2V0RmlsdGVyU2V0dGluZ3ModGhpcy5hY3RvciwgZmlsdGVyKSlcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigoZmlsdGVyKSA9PiBmaWx0ZXIuZW5hYmxlZClcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoZmlsdGVyKSA9PiBuZXcgU3RyaW5nRmlsdGVyKCdkYXRhLnRyYWl0cy5yYXJpdHkudmFsdWUnLCBmaWx0ZXIuZGVzaXJlZFZhbHVlIGFzIHN0cmluZywgZmlsdGVyLndlaWdodCkpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgaXNMZXZlbCA9IG5ldyBPckdyb3VwKFsuLi5sZXZlbEZpbHRlcnNdKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpc1NjaG9vbCA9IG5ldyBPckdyb3VwKFsuLi5zY2hvb2xGaWx0ZXJzXSk7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNUcmFkaXRpb24gPSBuZXcgT3JHcm91cChbLi4udHJhZGl0aW9uRmlsdGVyc10pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzUmFyaXR5ID0gbmV3IE9yR3JvdXAoWy4uLnJhcml0eUZpbHRlcnNdKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpc0VuYWJsZWQgPSBuZXcgQW5kR3JvdXAoW2lzTGV2ZWwsIGlzU2Nob29sLCBpc1RyYWRpdGlvbiwgaXNSYXJpdHldKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJzOiBXZWlnaHRlZEZpbHRlcjxudW1iZXIgfCBzdHJpbmc+W10gPSBbLi4ubGV2ZWxGaWx0ZXJzLCAuLi5zY2hvb2xGaWx0ZXJzLCAuLi50cmFkaXRpb25GaWx0ZXJzLCAuLi5yYXJpdHlGaWx0ZXJzXTtcblxuICAgICAgICAgICAgICAgIGxldCBzcGVsbHMgPSAoYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpKS5mbGF0KCkubWFwKChzcGVsbCkgPT4gc3BlbGwuZGF0YSkgYXMgdW5rbm93biBhcyBQRjJFSXRlbVtdO1xuICAgICAgICAgICAgICAgIHNwZWxscyA9IHNwZWxscy5maWx0ZXIoKHNwZWxsKSA9PiBpc0VuYWJsZWQuaXNTYXRpc2ZpZWRCeShzcGVsbCkpO1xuXG4gICAgICAgICAgICAgICAgY29uc3Qgc291cmNlczogUmVjb3JkPG51bWJlciwgUG9vbFNvdXJjZT4gPSB7fTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIHNwZWxscykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB3ZWlnaHQgPSBmaWx0ZXJzLnJlZHVjZSgocHJldiwgY3VycikgPT4gKGN1cnIuaXNTYXRpc2ZpZWRCeShlbnRyeSkgPyBwcmV2ICsgY3Vyci53ZWlnaHQgOiBwcmV2KSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc291cmNlcy5oYXNPd25Qcm9wZXJ0eSh3ZWlnaHQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VzW3dlaWdodF0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVJZDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZVR5cGU6IFNvdXJjZVR5cGUuUG9vbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IHdlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50czogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZXNbd2VpZ2h0XS5lbGVtZW50cy5wdXNoKGVudHJ5KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnZhbHVlcyhzb3VyY2VzKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogTG9jYWxpemF0aW9uXG4gICAgICAgICAgICAgICAgICAgIHVpLm5vdGlmaWNhdGlvbnM/Lndhcm4oJ1RoZSBjdXJyZW50IGZpbHRlcnMgZXhjbHVkZWQgYWxsIHNwZWxscy4nLCB7IHBlcm1hbmVudDogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGRyYXduU3BlbGxzID0gYXdhaXQgZHJhd0Zyb21Tb3VyY2VzKHRoaXMuZ2V0TG9vdEFwcFNldHRpbmc8bnVtYmVyPihHZW5UeXBlLlNwZWxsLCBMb290QXBwU2V0dGluZy5Db3VudCksIE9iamVjdC52YWx1ZXMoc291cmNlcykpO1xuXG4gICAgICAgICAgICAgICAgbGV0IGNyZWF0ZWRJdGVtcyA9IChhd2FpdCBjcmVhdGVTcGVsbEl0ZW1zKGRyYXduU3BlbGxzLCBjb25zdW1hYmxlVHlwZXMpKSBhcyBQaHlzaWNhbEl0ZW1bXTtcbiAgICAgICAgICAgICAgICBjcmVhdGVkSXRlbXMgPSBtYXliZU15c3RpZnlJdGVtcyhldmVudCwgLi4uY3JlYXRlZEl0ZW1zKTtcblxuICAgICAgICAgICAgICAgIC8vIFRPRE86IEpvaW4gc3RhY2tzLCBzbHVnIG5lZWRzIHVwZGF0aW5nIHRvIGRvIHNvLlxuXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jcmVhdGVJdGVtcyhjcmVhdGVkSXRlbXMpO1xuICAgICAgICAgICAgICAgIGF3YWl0IG1heWJlT3V0cHV0SXRlbXNUb0NoYXQoY3JlYXRlZEl0ZW1zKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIHJvbGwgc2Nyb2xsc1xuICAgICAgICAgICAgaHRtbC5maW5kKCcuYnV0dG9ucyAucm9sbC1zY3JvbGwnKS5vbignY2xpY2snLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBhd2FpdCByb2xsU3BlbGxzKGV2ZW50LCBbU3BlbGxJdGVtVHlwZS5TY3JvbGxdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gcm9sbCB3YW5kc1xuICAgICAgICAgICAgaHRtbC5maW5kKCcuYnV0dG9ucyAucm9sbC13YW5kJykub24oJ2NsaWNrJywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgYXdhaXQgcm9sbFNwZWxscyhldmVudCwgW1NwZWxsSXRlbVR5cGUuV2FuZF0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyByb2xsIHNjcm9sbHMgKyB3YW5kc1xuICAgICAgICAgICAgaHRtbC5maW5kKCcuYnV0dG9ucyAucm9sbC1ib3RoJykub24oJ2NsaWNrJywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgYXdhaXQgcm9sbFNwZWxscyhldmVudCwgW1NwZWxsSXRlbVR5cGUuU2Nyb2xsLCBTcGVsbEl0ZW1UeXBlLldhbmRdKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBjcmVhdGUgaXRlbVxuICAgICAgICAgICAgaHRtbC5maW5kKCcjY3JlYXRlLWl0ZW0nKS5vbignY2xpY2snLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjcmVhdGVEYXRhID0gYXdhaXQgdGhpcy5nZXRDcmVhdGVEYXRhKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFjcmVhdGVEYXRhLnByb2R1Y3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIFtjcmVhdGVEYXRhLnByb2R1Y3RdID0gbWF5YmVNeXN0aWZ5SXRlbXMoZXZlbnQsIGNyZWF0ZURhdGEucHJvZHVjdCkgYXMgRXF1aXBtZW50SXRlbVtdO1xuXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jcmVhdGVJdGVtcyhbY3JlYXRlRGF0YS5wcm9kdWN0XSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIGNsZWFyIGxvb3RcbiAgICAgICAgICAgIGh0bWwuZmluZCgnYnV0dG9uLmNsZWFyLWxvb3QnKS5vbignY2xpY2snLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hY3Rvci5kZWxldGVFbWJlZGRlZERvY3VtZW50cyhcbiAgICAgICAgICAgICAgICAgICAgJ0l0ZW0nLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdG9yLml0ZW1zLm1hcCgoaXRlbSkgPT4gaXRlbS5pZCEpLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBIYW5kbGUgYSBzZXR0aW5ncyB1cGRhdGUgZXZlbnQsIGUuZy4gb25lIG9mIHRoZSBjaGVjayBhbGwsIGNoZWNrIG5vbmUsIG9yIHJlc2V0IGJ1dHRvbnMgYXJlIHByZXNzZWQuXG4gICAgICAgICAgICAgKiBAcGFyYW0gZXZlbnQgVGhlIHRyaWdnZXJpbmcgZXZlbi5cbiAgICAgICAgICAgICAqIEBwYXJhbSBrZXlzIFRoZSBrZXlzIHRoYXQgc2hvdWxkIGJlIHVwZGF0ZWQuXG4gICAgICAgICAgICAgKiBAcGFyYW0gdmFsdWVzIFRoZSB2YWx1ZXMgdGhhdCBzaG91bGQgYmUgcGxhY2VkIGluIHRob3NlIGtleXMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IHNldHRpbmdzVXBkYXRlID0gYXN5bmMgKGV2ZW50OiBKUXVlcnkuQ2xpY2tFdmVudCwga2V5czogU2V0VmFsdWVLZXlzW10sIHZhbHVlczogYW55W10pOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgICAgICAgbGV0IHVwZGF0ZURhdGEgPSBidWlsZFNvdXJjZVNldHRpbmdVcGRhdGUodGhpcy5hY3RvciwgZ2V0VHlwZShldmVudCksIGtleXMsIHZhbHVlcyk7XG4gICAgICAgICAgICAgICAgaWYgKGdldFR5cGUoZXZlbnQpID09PSBHZW5UeXBlLlNwZWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZURhdGEgPSB7IC4uLnVwZGF0ZURhdGEsIC4uLmJ1aWxkRmlsdGVyU2V0dGluZ1VwZGF0ZSh0aGlzLmFjdG9yLCBGaWx0ZXJUeXBlLlNwZWxsU2Nob29sLCBrZXlzLCB2YWx1ZXMpIH07XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZURhdGEgPSB7IC4uLnVwZGF0ZURhdGEsIC4uLmJ1aWxkRmlsdGVyU2V0dGluZ1VwZGF0ZSh0aGlzLmFjdG9yLCBGaWx0ZXJUeXBlLlNwZWxsTGV2ZWwsIGtleXMsIHZhbHVlcykgfTtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlRGF0YSA9IHsgLi4udXBkYXRlRGF0YSwgLi4uYnVpbGRGaWx0ZXJTZXR0aW5nVXBkYXRlKHRoaXMuYWN0b3IsIEZpbHRlclR5cGUuU3BlbGxUcmFkaXRpb24sIGtleXMsIHZhbHVlcykgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hY3Rvci51cGRhdGUodXBkYXRlRGF0YSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBjaGVjay1hbGwgYnV0dG9uXG4gICAgICAgICAgICBodG1sLmZpbmQoJy5idXR0b25zIC5jaGVjay1hbGwnKS5vbignY2xpY2snLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBzZXR0aW5nc1VwZGF0ZShldmVudCwgWydlbmFibGVkJ10sIFt0cnVlXSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIGNoZWNrLW5vbmUgYnV0dG9uXG4gICAgICAgICAgICBodG1sLmZpbmQoJy5idXR0b25zIC5jaGVjay1ub25lJykub24oJ2NsaWNrJywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgYXdhaXQgc2V0dGluZ3NVcGRhdGUoZXZlbnQsIFsnZW5hYmxlZCddLCBbZmFsc2VdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gcmVzZXQgYnV0dG9uXG4gICAgICAgICAgICBodG1sLmZpbmQoJy5idXR0b25zIC5yZXNldCcpLm9uKCdjbGljaycsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGF3YWl0IHNldHRpbmdzVXBkYXRlKGV2ZW50LCBbJ3dlaWdodCcsICdlbmFibGVkJ10sIFsxLCB0cnVlXSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gY29sbGFwc2libGVzXG4gICAgICAgICAgICBodG1sLmZpbmQoJy5jb2xsYXBzaWJsZSBoNCcpLm9uKCdjbGljaycsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRlciA9ICQoZXZlbnQuY3VycmVudFRhcmdldCk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gaGVhZGVyLmNsb3Nlc3QoJy5jb2xsYXBzaWJsZScpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHdyYXBwZXIgPSBoZWFkZXIubmV4dCgnLmNvbGxhcHNlLWNvbnRlbnQnKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGlkOiBzdHJpbmcgPSBjb250YWluZXIuZGF0YSgnY29sbGFwc2UtaWQnKTtcbiAgICAgICAgICAgICAgICB3cmFwcGVyLnRvZ2dsZSgnZmFzdCcsICdzd2luZycsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsYXBzaWJsZXNbaWRdID0gd3JhcHBlci5jc3MoJ2Rpc3BsYXknKSA9PT0gJ25vbmUnO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIExvb3RBcHA7XG59O1xuIiwiLypcbiAqIENvcHlyaWdodCAyMDIxIEFuZHJldyBDdWNjaW5lbGxvXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICpcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IHBlcm1hbmVudFNvdXJjZXMgfSBmcm9tICcuL3NvdXJjZS9QZXJtYW5lbnQnO1xuaW1wb3J0IHsgY29uc3VtYWJsZVNvdXJjZXMgfSBmcm9tICcuL3NvdXJjZS9Db25zdW1hYmxlJztcbmltcG9ydCB7IGlzVHJlYXN1cmVTb3VyY2UsIFRyZWFzdXJlU291cmNlLCB0cmVhc3VyZVNvdXJjZXMgfSBmcm9tICcuL3NvdXJjZS9UcmVhc3VyZSc7XG5pbXBvcnQgeyBzY3JvbGxUZW1wbGF0ZUlkcywgU3BlbGxJdGVtVHlwZSwgc3BlbGxTb3VyY2VzLCBURU1QTEFURV9QQUNLX0lELCB3YW5kVGVtcGxhdGVJZHMgfSBmcm9tICcuL3NvdXJjZS9TcGVsbHMnO1xuaW1wb3J0IHsgRGF0YVNvdXJjZSwgR2VuVHlwZSwgZ2V0UGFjaywgaXNQYWNrU291cmNlLCBpc1Bvb2xTb3VyY2UsIGlzVGFibGVTb3VyY2UgfSBmcm9tICcuL3NvdXJjZS9EYXRhU291cmNlJztcbmltcG9ydCB7IEFwcEZpbHRlciwgRmlsdGVyVHlwZSwgc3BlbGxMZXZlbEZpbHRlcnMsIHNwZWxsUmFyaXR5RmlsdGVycywgc3BlbGxTY2hvb2xGaWx0ZXJzLCBzcGVsbFRyYWRpdGlvbkZpbHRlcnMgfSBmcm9tICcuL0ZpbHRlcnMnO1xuaW1wb3J0IHtcbiAgICBDb25zdW1hYmxlSXRlbSxcbiAgICBFcXVpcG1lbnRJdGVtLFxuICAgIEVxdWlwbWVudFR5cGUsXG4gICAgaXNBcm1vcixcbiAgICBpc1BoeXNpY2FsSXRlbSxcbiAgICBpc1NoaWVsZCxcbiAgICBpc1NwZWxsLFxuICAgIGlzVHJlYXN1cmUsXG4gICAgaXNXZWFwb24sXG4gICAgUEYyRUl0ZW0sXG4gICAgUGh5c2ljYWxJdGVtLFxuICAgIFByZWNpb3VzTWF0ZXJpYWxHcmFkZSxcbiAgICBQcmVjaW91c01hdGVyaWFsVHlwZSxcbiAgICBQcmljZVN0cmluZyxcbiAgICBQcm9wZXJ0eVJ1bmVUeXBlLFxuICAgIFNoaWVsZCxcbiAgICBTcGVsbEl0ZW0sXG59IGZyb20gJy4uLy4uL3R5cGVzL1BGMkUnO1xuaW1wb3J0IHsgaXNXZWFwb25Bcm1vckRhdGEsIEl0ZW1NYXRlcmlhbHMgfSBmcm9tICcuL2RhdGEvTWF0ZXJpYWxzJztcbmltcG9ydCB7IEZ1bmRhbWVudGFsUnVuZVR5cGUsIEl0ZW1SdW5lcywgUG90ZW5jeVJ1bmVUeXBlIH0gZnJvbSAnLi9kYXRhL1J1bmVzJztcbmltcG9ydCB7IERvY3VtZW50Q2xhc3NGb3JDb21wZW5kaXVtTWV0YWRhdGEgfSBmcm9tICdAbGVhZ3VlLW9mLWZvdW5kcnktZGV2ZWxvcGVycy9mb3VuZHJ5LXZ0dC10eXBlcy9zcmMvZm91bmRyeS9mb3VuZHJ5LmpzL2NvbGxlY3Rpb25zL2RvY3VtZW50Q29sbGVjdGlvbnMvY29tcGVuZGl1bUNvbGxlY3Rpb24nO1xuaW1wb3J0IHsgTU9EVUxFX05BTUUsIFFVSUNLX01ZU1RJRlksIFRPT0xCT1hfTkFNRSB9IGZyb20gJy4uL0NvbnN0YW50cyc7XG5pbXBvcnQgeyBDaGF0TWVzc2FnZURhdGFDb25zdHJ1Y3RvckRhdGEgfSBmcm9tICdAbGVhZ3VlLW9mLWZvdW5kcnktZGV2ZWxvcGVycy9mb3VuZHJ5LXZ0dC10eXBlcy9zcmMvZm91bmRyeS9jb21tb24vZGF0YS9kYXRhLm1qcy9jaGF0TWVzc2FnZURhdGEnO1xuaW1wb3J0IHsgRGljZVJvbGxNb2RlIH0gZnJvbSAnQGxlYWd1ZS1vZi1mb3VuZHJ5LWRldmVsb3BlcnMvZm91bmRyeS12dHQtdHlwZXMvc3JjL2ZvdW5kcnkvY29tbW9uL2NvbnN0YW50cy5tanMnO1xuaW1wb3J0IE1vZHVsZVNldHRpbmdzIGZyb20gJy4uLy4uLy4uL0ZWVFQtQ29tbW9uL3NyYy9tb2R1bGUvTW9kdWxlU2V0dGluZ3MnO1xuaW1wb3J0IHsgRkVBVFVSRV9PVVRQVVRfTE9PVF9ST0xMUywgRkVBVFVSRV9PVVRQVVRfTE9PVF9ST0xMU19XSElTUEVSIH0gZnJvbSAnLi4vU2V0dXAnO1xuXG4vKipcbiAqIFJldHVybnMgZGlzdGluY3QgZWxlbWVudHMgb2YgYW4gYXJyYXkgd2hlbiB1c2VkIHRvIGZpbHRlciBhbiBhcnJheS5cbiAqIEBwYXJhbSB2YWx1ZVxuICogQHBhcmFtIGluZGV4XG4gKiBAcGFyYW0gYXJyYXlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpc3RpbmN0PFQ+KHZhbHVlOiBULCBpbmRleDogbnVtYmVyLCBhcnJheTogVFtdKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGFycmF5LmluZGV4T2YodmFsdWUpID09PSBpbmRleDtcbn1cblxuLyoqXG4gKiBDaG9vc2UgYSByYW5kb20gZWxlbWVudCBmcm9tIHRoZSBhcnJheS5cbiAqIEBwYXJhbSBjaG9pY2VzIFRoZSBhcnJheSBvZiBjaG9pY2VzLlxuICovXG5mdW5jdGlvbiBjaG9vc2VGcm9tQXJyYXk8VD4oY2hvaWNlczogVFtdKTogVCB7XG4gICAgcmV0dXJuIGNob2ljZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hvaWNlcy5sZW5ndGgpXTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gdGhlIGNvcnJlY3Qgc291cmNlIG1hcCBmb3IgdGhlIGdpdmVuIGl0ZW0gdHlwZS5cbiAqIEBwYXJhbSB0eXBlIFR5cGUgb2Ygc291cmNlcyB0byBmZXRjaC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRhdGFTb3VyY2VzT2ZUeXBlKHR5cGU6IEdlblR5cGUpOiBSZWNvcmQ8c3RyaW5nLCBEYXRhU291cmNlPiB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgR2VuVHlwZS5UcmVhc3VyZTpcbiAgICAgICAgICAgIHJldHVybiB0cmVhc3VyZVNvdXJjZXM7XG4gICAgICAgIGNhc2UgR2VuVHlwZS5QZXJtYW5lbnQ6XG4gICAgICAgICAgICByZXR1cm4gcGVybWFuZW50U291cmNlcztcbiAgICAgICAgY2FzZSBHZW5UeXBlLkNvbnN1bWFibGU6XG4gICAgICAgICAgICByZXR1cm4gY29uc3VtYWJsZVNvdXJjZXM7XG4gICAgICAgIGNhc2UgR2VuVHlwZS5TcGVsbDpcbiAgICAgICAgICAgIHJldHVybiBzcGVsbFNvdXJjZXM7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyc09mVHlwZSh0eXBlOiBGaWx0ZXJUeXBlKTogUmVjb3JkPHN0cmluZywgQXBwRmlsdGVyPiB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgRmlsdGVyVHlwZS5TcGVsbFNjaG9vbDpcbiAgICAgICAgICAgIHJldHVybiBzcGVsbFNjaG9vbEZpbHRlcnM7XG4gICAgICAgIGNhc2UgRmlsdGVyVHlwZS5TcGVsbExldmVsOlxuICAgICAgICAgICAgcmV0dXJuIHNwZWxsTGV2ZWxGaWx0ZXJzO1xuICAgICAgICBjYXNlIEZpbHRlclR5cGUuU3BlbGxUcmFkaXRpb246XG4gICAgICAgICAgICByZXR1cm4gc3BlbGxUcmFkaXRpb25GaWx0ZXJzO1xuICAgICAgICBjYXNlIEZpbHRlclR5cGUuU3BlbGxSYXJpdHk6XG4gICAgICAgICAgICByZXR1cm4gc3BlbGxSYXJpdHlGaWx0ZXJzO1xuICAgIH1cbn1cblxuLyoqXG4gKiBHZXQgYW4gaXRlbSB3aXRoIGFuIGlkIG9mIGl0ZW1JZCBmcm9tIHRoZSBwYWNrIHdpdGggaWQgcGFja0lkLlxuICogQHBhcmFtIHBhY2tJZFxuICogQHBhcmFtIGl0ZW1JZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0SXRlbUZyb21QYWNrPFQgPSBEb2N1bWVudENsYXNzRm9yQ29tcGVuZGl1bU1ldGFkYXRhPENvbXBlbmRpdW1Db2xsZWN0aW9uLk1ldGFkYXRhPj4oXG4gICAgcGFja0lkOiBzdHJpbmcsXG4gICAgaXRlbUlkOiBzdHJpbmcsXG4pOiBQcm9taXNlPFQgfCB1bmRlZmluZWQ+IHtcbiAgICBjb25zdCBwYWNrID0gYXdhaXQgZ2FtZS5wYWNrcz8uZ2V0KHBhY2tJZCk7XG4gICAgaWYgKHBhY2sgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwYWNrLmdldERvY3VtZW50KGl0ZW1JZCk7XG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdCBhcyB1bmtub3duIGFzIFQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHJhd09wdGlvbnMge31cbmV4cG9ydCBpbnRlcmZhY2UgRHJhd1Jlc3VsdCB7XG4gICAgaXRlbURhdGE6IFBGMkVJdGVtO1xuICAgIHNvdXJjZTogRGF0YVNvdXJjZTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgU3BlbGxEcmF3UmVzdWx0IGV4dGVuZHMgRHJhd1Jlc3VsdCB7fVxuXG4vKipcbiAqIERyYXcgZnJvbSBhIHNlcmllcyBvZiBkYXRhIHNvdXJjZXMgYW5kIHJldHVybiB0aGUgaXRlbSBkYXRhIGZvciB0aGUgaXRlbXMgZHJhd24sIGFsb25nIHdpdGggdGhlaXIgc291cmNlIHRhYmxlcy5cbiAqIEBwYXJhbSBjb3VudCBUaGUgbnVtYmVyIG9mIGl0ZW1zIHRvIGRyYXcuXG4gKiBAcGFyYW0gc291cmNlcyBUaGUgZGF0YSBzb3VyY2VzIGF2YWlsYWJsZSB0byBiZSBkcmF3biBmcm9tLlxuICogQHBhcmFtIG9wdGlvbnMgT3B0aW9uc1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZHJhd0Zyb21Tb3VyY2VzKGNvdW50OiBudW1iZXIsIHNvdXJjZXM6IERhdGFTb3VyY2VbXSwgb3B0aW9ucz86IERyYXdPcHRpb25zKTogUHJvbWlzZTxEcmF3UmVzdWx0W10+IHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAoc291cmNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBzb3VyY2VzID0gZHVwbGljYXRlKHNvdXJjZXMpIGFzIERhdGFTb3VyY2VbXTtcblxuICAgIGxldCB3ZWlnaHRUb3RhbCA9IDA7XG4gICAgc291cmNlcy5mb3JFYWNoKChzb3VyY2UpID0+IHtcbiAgICAgICAgd2VpZ2h0VG90YWwgKz0gc291cmNlLndlaWdodDtcbiAgICAgICAgc291cmNlLndlaWdodCA9IHdlaWdodFRvdGFsO1xuICAgIH0pO1xuXG4gICAgY29uc3QgY2hvb3NlU291cmNlID0gKCkgPT4ge1xuICAgICAgICBsZXQgY2hvaWNlID0gc291cmNlc1swXTtcbiAgICAgICAgY29uc3QgcmFuZG9tID0gTWF0aC5yYW5kb20oKSAqIHdlaWdodFRvdGFsO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHNvdXJjZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChyYW5kb20gPCBjaG9pY2Uud2VpZ2h0KSBicmVhaztcbiAgICAgICAgICAgIGNob2ljZSA9IHNvdXJjZXNbaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNob2ljZTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVzdWx0czogRHJhd1Jlc3VsdFtdID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IGNob29zZVNvdXJjZSgpO1xuXG4gICAgICAgIGxldCBpdGVtOiBQRjJFSXRlbSB8IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGlzVGFibGVTb3VyY2Uoc291cmNlKSkge1xuICAgICAgICAgICAgY29uc3QgdGFibGUgPSBhd2FpdCBnZXRJdGVtRnJvbVBhY2s8Um9sbFRhYmxlPihzb3VyY2UudGFibGVTb3VyY2UuaWQsIHNvdXJjZS5pZCk7XG5cbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGNvbnN0IGRyYXc6IGFueSA9IGF3YWl0IHRhYmxlLnJvbGwoeyByb2xsOiBudWxsLCByZWN1cnNpdmU6IHRydWUgfSk7XG4gICAgICAgICAgICBjb25zdCBbcmVzdWx0XTogW0xvb3RUYWJsZVJlc3VsdF0gPSBkcmF3LnJlc3VsdHM7XG5cbiAgICAgICAgICAgIGlmIChyZXN1bHQuZGF0YS5yZXN1bHRJZCkge1xuICAgICAgICAgICAgICAgIGl0ZW0gPSBhd2FpdCBnZXRJdGVtRnJvbVBhY2socmVzdWx0LmRhdGEuY29sbGVjdGlvbiwgcmVzdWx0LmRhdGEucmVzdWx0SWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBDcmVhdGUgcmFuZG9tIHdlYXBvbnMvYXJtb3IvZ2VhciBvZiByb2xsZWQgdHlwZVxuICAgICAgICAgICAgICAgIGkgLT0gMTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChpc1BhY2tTb3VyY2Uoc291cmNlKSkge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgY29uc3QgaXRlbUlkOiBzdHJpbmcgPSBjaG9vc2VGcm9tQXJyYXkoZ2V0UGFjayhzb3VyY2UpLmluZGV4LmNvbnRlbnRzKS5rZXk7XG4gICAgICAgICAgICBpdGVtID0gYXdhaXQgZ2V0SXRlbUZyb21QYWNrKHNvdXJjZS5pZCwgaXRlbUlkKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc1Bvb2xTb3VyY2Uoc291cmNlKSkge1xuICAgICAgICAgICAgaXRlbSA9IGNob29zZUZyb21BcnJheShzb3VyY2UuZWxlbWVudHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHNvdXJjZSB0eXBlOiAke3NvdXJjZS5zb3VyY2VUeXBlfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGl0ZW0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaSAtPSAxO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgaXRlbURhdGE6IGl0ZW0sXG4gICAgICAgICAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdHM7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVTcGVsbEl0ZW1zKGl0ZW1EYXRhczogRHJhd1Jlc3VsdFtdLCBpdGVtVHlwZXM6IFNwZWxsSXRlbVR5cGVbXSk6IFByb21pc2U8UEYyRUl0ZW1bXT4ge1xuICAgIGl0ZW1EYXRhcyA9IGR1cGxpY2F0ZShpdGVtRGF0YXMpIGFzIERyYXdSZXN1bHRbXTtcblxuICAgIGNvbnN0IGl0ZW1UeXBlID0gKGRyYXc6IERyYXdSZXN1bHQpOiBTcGVsbEl0ZW1UeXBlIHwgdW5kZWZpbmVkID0+IHtcbiAgICAgICAgaWYgKGRyYXcuaXRlbURhdGEuZGF0YS5sZXZlbD8udmFsdWUgPT09IDEwKSB7XG4gICAgICAgICAgICBpZiAoaXRlbVR5cGVzLmluY2x1ZGVzKFNwZWxsSXRlbVR5cGUuU2Nyb2xsKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBTcGVsbEl0ZW1UeXBlLlNjcm9sbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hvb3NlRnJvbUFycmF5KGl0ZW1UeXBlcyk7XG4gICAgfTtcblxuICAgIGNvbnN0IGl0ZW1OYW1lID0gKGl0ZW1EYXRhOiBQRjJFSXRlbSwgdHlwZTogU3BlbGxJdGVtVHlwZSk6IHN0cmluZyA9PiB7XG4gICAgICAgIC8vIFRPRE86IExvY2FsaXphdGlvblxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgU3BlbGxJdGVtVHlwZS5TY3JvbGw6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBTY3JvbGwgb2YgJHtpdGVtRGF0YS5uYW1lfSAoTGV2ZWwgJHtpdGVtRGF0YS5kYXRhLmxldmVsPy52YWx1ZX0pYDtcbiAgICAgICAgICAgIGNhc2UgU3BlbGxJdGVtVHlwZS5XYW5kOlxuICAgICAgICAgICAgICAgIHJldHVybiBgV2FuZCBvZiAke2l0ZW1EYXRhLm5hbWV9IChMZXZlbCAke2l0ZW1EYXRhLmRhdGEubGV2ZWw/LnZhbHVlfSlgO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHRlbXBsYXRlczogUmVjb3JkPFNwZWxsSXRlbVR5cGUsIENvbnN1bWFibGVJdGVtW10+ID0ge1xuICAgICAgICBbU3BlbGxJdGVtVHlwZS5XYW5kXTogKGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICAgICAgT2JqZWN0LnZhbHVlcyh3YW5kVGVtcGxhdGVJZHMpLm1hcCgoaWQpID0+IGdldEl0ZW1Gcm9tUGFjazxDb25zdW1hYmxlSXRlbT4oVEVNUExBVEVfUEFDS19JRCwgaWQpKSxcbiAgICAgICAgKSkgYXMgQ29uc3VtYWJsZUl0ZW1bXSxcbiAgICAgICAgW1NwZWxsSXRlbVR5cGUuU2Nyb2xsXTogKGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICAgICAgT2JqZWN0LnZhbHVlcyhzY3JvbGxUZW1wbGF0ZUlkcykubWFwKChpZCkgPT4gZ2V0SXRlbUZyb21QYWNrPENvbnN1bWFibGVJdGVtPihURU1QTEFURV9QQUNLX0lELCBpZCkpLFxuICAgICAgICApKSBhcyBDb25zdW1hYmxlSXRlbVtdLFxuICAgIH07XG5cbiAgICBsZXQgd2FuZE1lc3NhZ2U6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBjb25zdCByZXN1bHRzOiBQRjJFSXRlbVtdID0gW107XG4gICAgd2hpbGUgKGl0ZW1EYXRhcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGRyYXdSZXN1bHQgPSBpdGVtRGF0YXMuc2hpZnQoKSBhcyBEcmF3UmVzdWx0O1xuICAgICAgICBjb25zdCB0eXBlID0gaXRlbVR5cGUoZHJhd1Jlc3VsdCk7XG5cbiAgICAgICAgaWYgKHR5cGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKCF3YW5kTWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIHVpLm5vdGlmaWNhdGlvbnM/Lndhcm4oYENhbm5vdCBjcmVhdGUgYSBtYWdpYyB3YW5kIGZvciBwcm92aWRlZCBzcGVsbDogJHtkcmF3UmVzdWx0Lml0ZW1EYXRhLm5hbWV9YCk7XG4gICAgICAgICAgICAgICAgd2FuZE1lc3NhZ2UgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNTcGVsbChkcmF3UmVzdWx0Lml0ZW1EYXRhKSkge1xuICAgICAgICAgICAgY29uc3Qgc3BlbGxEYXRhID0gZHJhd1Jlc3VsdC5pdGVtRGF0YSBhcyBTcGVsbEl0ZW07XG4gICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IGR1cGxpY2F0ZSh0ZW1wbGF0ZXNbdHlwZV1bZHJhd1Jlc3VsdC5pdGVtRGF0YS5kYXRhLmxldmVsLnZhbHVlIC0gMV0pIGFzIENvbnN1bWFibGVJdGVtO1xuICAgICAgICAgICAgdGVtcGxhdGUuZGF0YS50cmFpdHMudmFsdWUucHVzaCguLi5zcGVsbERhdGEuZGF0YS50cmFkaXRpb25zLnZhbHVlKTtcbiAgICAgICAgICAgIHRlbXBsYXRlLmRhdGEudHJhaXRzLnJhcml0eS52YWx1ZSA9IHNwZWxsRGF0YS5kYXRhLnRyYWl0cy5yYXJpdHkudmFsdWU7XG4gICAgICAgICAgICB0ZW1wbGF0ZS5uYW1lID0gaXRlbU5hbWUoc3BlbGxEYXRhLCB0eXBlKTtcblxuICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSB0ZW1wbGF0ZS5kYXRhLmRlc2NyaXB0aW9uLnZhbHVlO1xuICAgICAgICAgICAgdGVtcGxhdGUuZGF0YS5kZXNjcmlwdGlvbi52YWx1ZSA9IGBAQ29tcGVuZGl1bVtwZjJlLnNwZWxscy1zcmQuJHtzcGVsbERhdGEuX2lkfV17JHtzcGVsbERhdGEubmFtZX19XFxuPGhyLz4ke2Rlc2NyaXB0aW9ufWA7XG4gICAgICAgICAgICB0ZW1wbGF0ZS5kYXRhLnNwZWxsID0ge1xuICAgICAgICAgICAgICAgIGRhdGE6IGR1cGxpY2F0ZShzcGVsbERhdGEpIGFzIFNwZWxsSXRlbSxcbiAgICAgICAgICAgICAgICBoZWlnaHRlbmVkTGV2ZWw6IHNwZWxsRGF0YS5kYXRhLmxldmVsLnZhbHVlLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHRlbXBsYXRlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRzO1xufVxuXG4vKipcbiAqIFJvbGwgYW5kIGNyZWF0ZSBhIG5ldyBzZXQgb2YgaXRlbSBkYXRhIGZvciB0aGUgdmFsdWVzIG9mIHRyZWFzdXJlIGl0ZW1zIGluIHRoZSByZXN1bHRzXG4gKiBAcGFyYW0gcmVzdWx0cyBUaGUgcmVzdWx0cyB0byBkdXBsaWNhdGUgYW5kIHRoZW4gbW9kaWZ5XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByb2xsVHJlYXN1cmVWYWx1ZXMocmVzdWx0czogRHJhd1Jlc3VsdFtdKSB7XG4gICAgY29uc3Qgcm9sbFZhbHVlID0gYXN5bmMgKHNvdXJjZTogVHJlYXN1cmVTb3VyY2UpOiBQcm9taXNlPG51bWJlcj4gPT4ge1xuICAgICAgICBjb25zdCByb2xsID0gYXdhaXQgbmV3IFJvbGwoc291cmNlLnZhbHVlKS5yb2xsKHsgYXN5bmM6IHRydWUgfSk7XG4gICAgICAgIHJldHVybiByb2xsLnRvdGFsITtcbiAgICB9O1xuXG4gICAgcmVzdWx0cyA9IGR1cGxpY2F0ZShyZXN1bHRzKSBhcyBEcmF3UmVzdWx0W107XG4gICAgZm9yIChjb25zdCByZXN1bHQgb2YgcmVzdWx0cykge1xuICAgICAgICBpZiAoaXNUcmVhc3VyZVNvdXJjZShyZXN1bHQuc291cmNlKSAmJiBpc1RyZWFzdXJlKHJlc3VsdC5pdGVtRGF0YSkpIHtcbiAgICAgICAgICAgIHJlc3VsdC5pdGVtRGF0YS5kYXRhLnZhbHVlLnZhbHVlID0gYXdhaXQgcm9sbFZhbHVlKHJlc3VsdC5zb3VyY2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdHM7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBtYXliZU91dHB1dEl0ZW1zVG9DaGF0KHJlc3VsdHM6IFBoeXNpY2FsSXRlbVtdKSB7XG4gICAgaWYgKCFNb2R1bGVTZXR0aW5ncy5pbnN0YW5jZS5nZXQ8Ym9vbGVhbj4oRkVBVFVSRV9PVVRQVVRfTE9PVF9ST0xMUykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJlc3VsdHMgPSBtZXJnZVN0YWNrcyhyZXN1bHRzKSBhcyBQaHlzaWNhbEl0ZW1bXTtcblxuICAgIGNvbnN0IGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICBkYXRhWydkZXNjcmlwdGlvbiddID0gYFJvbGxlZCAke3Jlc3VsdHMubGVuZ3RofSBpdGVtcy5gO1xuICAgIGRhdGFbJ3Jlc3VsdHMnXSA9IHJlc3VsdHMubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogaXRlbS5faWQsXG4gICAgICAgICAgICBpY29uOiBpdGVtLmltZyxcbiAgICAgICAgICAgIHRleHQ6IGBAQ29tcGVuZGl1bVtwZjJlLmVxdWlwbWVudC1zcmQuJHtpdGVtLl9pZH1deyR7aXRlbS5kYXRhLnF1YW50aXR5LnZhbHVlfXggJHtpdGVtLm5hbWV9fWAsXG4gICAgICAgIH07XG4gICAgfSk7XG5cbiAgICBjb25zdCB0ZW1wbGF0ZSA9IGF3YWl0IHJlbmRlclRlbXBsYXRlKGBtb2R1bGVzLyR7TU9EVUxFX05BTUV9L3RlbXBsYXRlcy9jaGF0L3RhYmxlLW91dHB1dC5odG1sYCwgZGF0YSk7XG5cbiAgICBjb25zdCByb2xsTW9kZUFyZ3M6IFBhcnRpYWw8Q2hhdE1lc3NhZ2VEYXRhQ29uc3RydWN0b3JEYXRhPiA9IHt9O1xuICAgIGNvbnN0IGdtSWRzID0gZ2FtZS51c2VycyEuZmlsdGVyKCh1c2VyKSA9PiB1c2VyLmlzR00pLm1hcCgodXNlcikgPT4gdXNlci5pZCEpO1xuICAgIGxldCByb2xsTW9kZSA9IGdhbWUuc2V0dGluZ3MuZ2V0KCdjb3JlJywgJ3JvbGxNb2RlJykgYXMgRGljZVJvbGxNb2RlO1xuICAgIGlmIChNb2R1bGVTZXR0aW5ncy5pbnN0YW5jZS5nZXQ8Ym9vbGVhbj4oRkVBVFVSRV9PVVRQVVRfTE9PVF9ST0xMU19XSElTUEVSKSkge1xuICAgICAgICByb2xsTW9kZSA9ICdnbXJvbGwnO1xuICAgIH1cblxuICAgIHN3aXRjaCAocm9sbE1vZGUpIHtcbiAgICAgICAgY2FzZSAnYmxpbmRyb2xsJzpcbiAgICAgICAgICAgIHJvbGxNb2RlQXJncy5ibGluZCA9IHRydWU7XG4gICAgICAgICAgICByb2xsTW9kZUFyZ3Mud2hpc3BlciA9IGdtSWRzO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3JvbGwnOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3NlbGZyb2xsJzpcbiAgICAgICAgICAgIHJvbGxNb2RlQXJncy53aGlzcGVyID0gW2dhbWUudXNlcj8uaWQhXTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdnbXJvbGwnOlxuICAgICAgICAgICAgcm9sbE1vZGVBcmdzLndoaXNwZXIgPSBnbUlkcztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGF3YWl0IENoYXRNZXNzYWdlLmNyZWF0ZSh7XG4gICAgICAgIHVzZXI6IGdhbWUudXNlcj8uaWQhLFxuICAgICAgICBjb250ZW50OiB0ZW1wbGF0ZSxcbiAgICAgICAgLi4ucm9sbE1vZGVBcmdzLFxuICAgIH0pO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1lcmdlU3RhY2tzT3B0aW9ucyB7XG4gICAgLyoqXG4gICAgICogU2hvdWxkIHZhbHVlcyBiZSBjb21wYXJlZCB3aGVuIGRldGVybWluaW5nIHVuaXF1ZW5lc3M/XG4gICAgICovXG4gICAgY29tcGFyZVZhbHVlcz86IGJvb2xlYW47XG59XG5cbi8qKlxuICogR2V0IGEgZnVuY3Rpb24gdGhhdCBjb3JyZWN0bHkgZmV0Y2hlcyBhIHNsdWcgZnJvbSBhbiBpdGVtIGRhdGEgZ2l2ZW4gdGhlIG9wdGlvbnMuXG4gKiBAcGFyYW0gb3B0aW9uc1xuICovXG5jb25zdCBnZXRTbHVnRnVuY3Rpb24gPSAob3B0aW9uczogTWVyZ2VTdGFja3NPcHRpb25zKSA9PiB7XG4gICAgLy8gT3VyIHNsdWdzIGFyZSBodW1hbiByZWFkYWJsZSB1bmlxdWUgaWRzLCBpbiBvdXIgY2FzZSB3aGVuIHdlIHdhbnQgdG9cbiAgICAvLyBjb21wYXJlIHRoZSB2YWx1ZXMgYXMgd2VsbCB3ZSBjYW4gYXBwZW5kIHRoZSB2YWx1ZSB0byB0aGUgc2x1ZyBhbmQgZ2V0XG4gICAgLy8gYSBwc2V1ZG8taGFzaCB0byB1c2UgZm9yIGNvbXBhcmlzb24gaW5zdGVhZFxuICAgIGxldCBnZXRTbHVnOiAoaTogUEYyRUl0ZW0pID0+IHN0cmluZztcbiAgICBpZiAob3B0aW9ucy5jb21wYXJlVmFsdWVzKSB7XG4gICAgICAgIGdldFNsdWcgPSAoaTogUEYyRUl0ZW0pID0+IHtcbiAgICAgICAgICAgIGlmIChpc1BoeXNpY2FsSXRlbShpKSkge1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IE5lZWQgdG8gY29udmVydCBjdXJyZW5jeSB0eXBlcy5cbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7aS5kYXRhLnNsdWd9LSR7aS5kYXRhLnByaWNlfWA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBpLmRhdGEuc2x1ZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBnZXRTbHVnID0gKGkpID0+IGkuZGF0YS5zbHVnO1xuICAgIH1cbiAgICByZXR1cm4gZ2V0U2x1Zztcbn07XG5cbi8qKlxuICogICogVGFrZXMgdHdvIHNldHMgb2YgaXRlbURhdGFzLCBhbmQgYXR0ZW1wdHMgdG8gbWVyZ2UgYWxsIHRoZSBuZXcgZGF0YXMgaW50byB0aGUgb2xkIGRhdGFzLlxuICogUmV0dXJucyBhbiBhcnJheSBvZiBpdGVtcyB0aGF0IHdlcmUgdW5hYmxlIHRvIGJlIG1lcmdlc1xuICogQHBhcmFtIG9sZERhdGFzXG4gKiBAcGFyYW0gbmV3RGF0YXNcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcmV0dXJucyBbbWVyZ2VkLCByZW1haW5pbmddXG4gKiAgbWVyZ2VkOiBUaGUgc3VjY2Vzc2Z1bGx5IG1lcmdlZCBvbGQgKyBuZXcgaXRlbXNcbiAqICByZW1haW5pbmc6IGl0ZW1zIHRoYXQgY291bGQgbm90IGJlIG1lcmdlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlRXhpc3RpbmdTdGFja3Mob2xkRGF0YXM6IFBGMkVJdGVtW10sIG5ld0RhdGFzOiBQRjJFSXRlbVtdLCBvcHRpb25zPzogTWVyZ2VTdGFja3NPcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvcHRpb25zID0geyBjb21wYXJlVmFsdWVzOiB0cnVlIH07XG4gICAgfVxuXG4gICAgY29uc3QgZ2V0U2x1ZyA9IGdldFNsdWdGdW5jdGlvbihvcHRpb25zKTtcblxuICAgIG9sZERhdGFzID0gZHVwbGljYXRlKG9sZERhdGFzKSBhcyBQRjJFSXRlbVtdO1xuICAgIG5ld0RhdGFzID0gZHVwbGljYXRlKG5ld0RhdGFzKSBhcyBQRjJFSXRlbVtdO1xuXG4gICAgY29uc3Qgb2xkU2x1Z3MgPSBvbGREYXRhcy5tYXAoZ2V0U2x1Zyk7XG4gICAgY29uc3QgbmV3U2x1Z3MgPSBuZXdEYXRhcy5tYXAoZ2V0U2x1Zyk7XG5cbiAgICBmb3IgKGxldCBpID0gbmV3U2x1Z3MubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBvbGRTbHVncy5pbmRleE9mKG5ld1NsdWdzW2ldKTtcbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkgY29udGludWU7XG5cbiAgICAgICAgY29uc3Qgc291cmNlSXRlbSA9IG9sZERhdGFzW2luZGV4XTtcbiAgICAgICAgY29uc3QgdGFyZ2V0SXRlbSA9IG5ld0RhdGFzW2ldO1xuXG4gICAgICAgIGlmICghaXNQaHlzaWNhbEl0ZW0oc291cmNlSXRlbSkpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIWlzUGh5c2ljYWxJdGVtKHRhcmdldEl0ZW0pKSBjb250aW51ZTtcblxuICAgICAgICBtZXJnZUl0ZW0oc291cmNlSXRlbSwgdGFyZ2V0SXRlbSk7XG4gICAgICAgIG5ld0RhdGFzLnNwbGljZShpLCAxKTtcbiAgICB9XG5cbiAgICBuZXdEYXRhcyA9IG1lcmdlU3RhY2tzKG5ld0RhdGFzLCBvcHRpb25zKTtcblxuICAgIHJldHVybiBbb2xkRGF0YXMsIG5ld0RhdGFzXTtcbn1cblxuLyoqXG4gKiBNZXJnZSBhbiBhcnJheSBvZiBpdGVtIGRhdGFzIGludG8gYSBzZXQgb2Ygc3RhY2tlZCBpdGVtcyBvZiB0aGUgc2FtZSBzbHVnXG4gKiAgYW5kIG9wdGlvbmFsbHkgYWxzbyBjb21wYXJlIGFuZCBkbyBub3QgbWVyZ2UgaXRlbXMgYmFzZWQgb24gcHJvdmlkZWQgb3B0aW9ucy5cbiAqIEBwYXJhbSBpdGVtRGF0YXNcbiAqIEBwYXJhbSBvcHRpb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZVN0YWNrcyhpdGVtRGF0YXM6IFBGMkVJdGVtW10sIG9wdGlvbnM/OiBNZXJnZVN0YWNrc09wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7IGNvbXBhcmVWYWx1ZXM6IHRydWUgfTtcbiAgICB9XG5cbiAgICBpdGVtRGF0YXMgPSBkdXBsaWNhdGUoaXRlbURhdGFzKSBhcyBQRjJFSXRlbVtdO1xuXG4gICAgY29uc3QgZ2V0U2x1ZyA9IGdldFNsdWdGdW5jdGlvbihvcHRpb25zKTtcblxuICAgIGxldCBhbGxTbHVnczogc3RyaW5nW10gPSBpdGVtRGF0YXMubWFwKGdldFNsdWcpO1xuICAgIGNvbnN0IHVucVNsdWdzID0gYWxsU2x1Z3MuZmlsdGVyKGRpc3RpbmN0KTtcbiAgICBmb3IgKGNvbnN0IHNsdWcgb2YgdW5xU2x1Z3MpIHtcbiAgICAgICAgLy8gd2UnbGwga2VlcCB0aGUgZmlyc3QgaXRlbSBpbiB0aGUgYXJyYXksIGFuZCBkaXNjYXJkIHRoZSByZXN0XG4gICAgICAgIGNvbnN0IGZpcnN0ID0gYWxsU2x1Z3MuaW5kZXhPZihzbHVnKTtcbiAgICAgICAgY29uc3Qgc291cmNlSXRlbSA9IGl0ZW1EYXRhc1tmaXJzdF07XG5cbiAgICAgICAgaWYgKCFpc1BoeXNpY2FsSXRlbShzb3VyY2VJdGVtKSkgY29udGludWU7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IGl0ZW1EYXRhcy5sZW5ndGggLSAxOyBpID4gZmlyc3Q7IGktLSkge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0SXRlbSA9IGl0ZW1EYXRhc1tpXTtcblxuICAgICAgICAgICAgaWYgKCFpc1BoeXNpY2FsSXRlbSh0YXJnZXRJdGVtKSkgY29udGludWU7XG4gICAgICAgICAgICBpZiAoZ2V0U2x1Zyh0YXJnZXRJdGVtKSAhPT0gc2x1ZykgY29udGludWU7XG5cbiAgICAgICAgICAgIG1lcmdlSXRlbShzb3VyY2VJdGVtLCB0YXJnZXRJdGVtKTtcblxuICAgICAgICAgICAgaXRlbURhdGFzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIGFsbFNsdWdzLnNwbGljZShpLCAxKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBpdGVtRGF0YXM7XG59XG5cbi8qKlxuICogTWVyZ2UgaXRlbSBhIElOIFBMQUNFIGJ5IGluY3JlbWVudGluZyBpdCdzIHF1YW50aXR5IGJ5IGl0ZW0gYidzIHF1YW50aXR5LlxuICogQHBhcmFtIGEgVGhlIHRhcmdldCBpdGVtXG4gKiBAcGFyYW0gYiBUaGUgaXRlbSB0byBpbmNyZWFzZSB0aGUgdGFyZ2V0IGJ5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZUl0ZW0oYTogUGh5c2ljYWxJdGVtLCBiOiBQaHlzaWNhbEl0ZW0pIHtcbiAgICBhLmRhdGEucXVhbnRpdHkudmFsdWUgKz0gYi5kYXRhLnF1YW50aXR5LnZhbHVlO1xufVxuXG4vKipcbiAqIFBhcnNlIGEgcHJpY2UgZW5kaW5nIGluIHtjcHxzcHxncHxwcH0gdG8gZ3BcbiAqIEBwYXJhbSBwcmljZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VQcmljZShwcmljZTogUHJpY2VTdHJpbmcpOiBudW1iZXIge1xuICAgIGNvbnN0IG11bHRpcGxlczogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHtcbiAgICAgICAgY3A6IDEgLyAxMDAsXG4gICAgICAgIHNwOiAxIC8gMTAsXG4gICAgICAgIGdwOiAxLFxuICAgICAgICBwcDogMTAsXG4gICAgfTtcblxuICAgIGNvbnN0IG1hdGNoZXMgPSBwcmljZS50b0xvd2VyQ2FzZSgpLm1hdGNoKC8oWzAtOV0rKSguKikoY3B8c3B8Z3B8cHApLyk7XG4gICAgaWYgKG1hdGNoZXMgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlSW50KG1hdGNoZXNbMV0udHJpbSgpKSAqIG11bHRpcGxlc1ttYXRjaGVzWzNdLnRyaW0oKV07XG59XG5cbi8qKlxuICogUGFyc2UgYSB3ZWlnaHQgc3RyaW5nLCByZXR1cm5pbmcgYW4gYWJzb2x1dGUgbnVtZXJpYyByZXByZXNlbnRhdGlvbiBvZiB0aGUgd2VpZ2h0XG4gKiBAcGFyYW0gaXRlbVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SXRlbUJ1bGtNdWx0aXBsaWVyKGl0ZW06IFBoeXNpY2FsSXRlbSk6IG51bWJlciB7XG4gICAgY29uc3Qgd2VpZ2h0U3RyaW5nID0gaXRlbS5kYXRhLndlaWdodC52YWx1ZS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAod2VpZ2h0U3RyaW5nLmVuZHNXaXRoKCdsJykpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KHdlaWdodFN0cmluZy5zdWJzdHIod2VpZ2h0U3RyaW5nLmxlbmd0aCAtIDEpKSAvIDEwO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBwYXJzZUludCh3ZWlnaHRTdHJpbmcpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBTZWxlY3QgdGhlIGNvcnJlY3QgRXF1aXBtZW50VHlwZSBmb3IgdGhpcyBpdGVtXG4gKiBAcGFyYW0gaXRlbVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RXF1aXBtZW50VHlwZShpdGVtOiBQRjJFSXRlbSk6IEVxdWlwbWVudFR5cGUgfCB1bmRlZmluZWQge1xuICAgIGlmIChpc1dlYXBvbihpdGVtKSkge1xuICAgICAgICByZXR1cm4gRXF1aXBtZW50VHlwZS5XZWFwb247XG4gICAgfSBlbHNlIGlmIChpc1NoaWVsZChpdGVtKSkge1xuICAgICAgICByZXR1cm4gaW5mZXJTaGllbGRUeXBlKGl0ZW0pID8/IEVxdWlwbWVudFR5cGUuU2hpZWxkO1xuICAgIH0gZWxzZSBpZiAoaXNBcm1vcihpdGVtKSkge1xuICAgICAgICByZXR1cm4gRXF1aXBtZW50VHlwZS5Bcm1vcjtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn1cblxuLyoqXG4gKiBJbmZlciBzaGllbGQgdHlwZSBmcm9tIGFjL2J1bGtcbiAqIEBwYXJhbSBpdGVtXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmZlclNoaWVsZFR5cGUoaXRlbTogU2hpZWxkKTogRXF1aXBtZW50VHlwZSB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKGl0ZW0uZGF0YS5hcm1vci52YWx1ZSA9PT0gMSkge1xuICAgICAgICByZXR1cm4gRXF1aXBtZW50VHlwZS5CdWNrbGVyO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIC8vIG91dCBvZiB0aGUgcmVtYWluaW5nIHNoaWVsZHMsIHRvd2VycyBoYXZlIGEgYnVsayBtb3JlIHRoYW4gMVxuICAgICAgICBjb25zdCBidWxrID0gcGFyc2VJbnQoaXRlbS5kYXRhLndlaWdodC52YWx1ZSk7XG4gICAgICAgIGlmIChidWxrID4gMSkge1xuICAgICAgICAgICAgcmV0dXJuIEVxdWlwbWVudFR5cGUuVG93ZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gRXF1aXBtZW50VHlwZS5TaGllbGQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufVxuXG5pbnRlcmZhY2UgRmluYWxQcmljZUFuZExldmVsQXJncyB7XG4gICAgaXRlbTogRXF1aXBtZW50SXRlbTtcbiAgICBtYXRlcmlhbFR5cGU6IFByZWNpb3VzTWF0ZXJpYWxUeXBlO1xuICAgIG1hdGVyaWFsR3JhZGVUeXBlOiBQcmVjaW91c01hdGVyaWFsR3JhZGU7XG4gICAgcG90ZW5jeVJ1bmU6IFBvdGVuY3lSdW5lVHlwZTtcbiAgICBmdW5kYW1lbnRhbFJ1bmU6IEZ1bmRhbWVudGFsUnVuZVR5cGU7XG4gICAgcHJvcGVydHlSdW5lczogW1Byb3BlcnR5UnVuZVR5cGUsIFByb3BlcnR5UnVuZVR5cGUsIFByb3BlcnR5UnVuZVR5cGUsIFByb3BlcnR5UnVuZVR5cGVdO1xufVxuaW50ZXJmYWNlIEZpbmFsUHJpY2VBbmRMZXZlbFJlc3VsdHMge1xuICAgIGxldmVsOiBudW1iZXI7XG4gICAgcHJpY2U6IG51bWJlcjtcbiAgICBoYXJkbmVzczogbnVtYmVyO1xuICAgIGhpdFBvaW50czogbnVtYmVyO1xuICAgIGJyb2tlblRocmVzaG9sZDogbnVtYmVyO1xufVxuXG4vKipcbiAqIEdpdmVuIGFuIGl0ZW0gYW5kIGEgc2V0IG9mIGNoYW5nZXMsIGNvbXB1dGUgdGhlIGZpbmFsIHByaWNlIGFuZCBsZXZlbCBvZiB0aGUgaXRlbS5cbiAqIEBwYXJhbSBhcmdzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVGaW5hbFByaWNlQW5kTGV2ZWwoYXJnczogRmluYWxQcmljZUFuZExldmVsQXJncyk6IEZpbmFsUHJpY2VBbmRMZXZlbFJlc3VsdHMge1xuICAgIGNvbnN0IGVxdWlwbWVudFR5cGUgPSBnZXRFcXVpcG1lbnRUeXBlKGFyZ3MuaXRlbSk7XG4gICAgaWYgKGVxdWlwbWVudFR5cGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGV2ZWw6IDAsXG4gICAgICAgICAgICBwcmljZTogMCxcbiAgICAgICAgICAgIGhhcmRuZXNzOiAwLFxuICAgICAgICAgICAgaGl0UG9pbnRzOiAwLFxuICAgICAgICAgICAgYnJva2VuVGhyZXNob2xkOiAwLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGxldCBmaW5hbExldmVsID0gYXJncy5pdGVtLmRhdGEubGV2ZWwudmFsdWU7XG4gICAgbGV0IGZpbmFsUHJpY2UgPSBwYXJzZVByaWNlKGFyZ3MuaXRlbS5kYXRhLnByaWNlLnZhbHVlKTtcbiAgICBsZXQgZmluYWxIYXJkbmVzcyA9IGFyZ3MuaXRlbS5kYXRhLmhhcmRuZXNzLnZhbHVlO1xuICAgIGxldCBmaW5hbEhpdFBvaW50cyA9IGFyZ3MuaXRlbS5kYXRhLmhwLnZhbHVlO1xuICAgIGxldCBmaW5hbEJyZWFrVGhyZXNob2xkID0gYXJncy5pdGVtLmRhdGEuYnJva2VuVGhyZXNob2xkLnZhbHVlO1xuXG4gICAgY29uc3QgbWF0ZXJpYWxEYXRhID0gSXRlbU1hdGVyaWFsc1thcmdzLm1hdGVyaWFsVHlwZV1bZXF1aXBtZW50VHlwZV0/LlthcmdzLm1hdGVyaWFsR3JhZGVUeXBlXTtcbiAgICBpZiAobWF0ZXJpYWxEYXRhKSB7XG4gICAgICAgIGZpbmFsTGV2ZWwgPSBNYXRoLm1heChmaW5hbExldmVsLCBtYXRlcmlhbERhdGEubGV2ZWwpO1xuICAgICAgICBmaW5hbFByaWNlICs9IG1hdGVyaWFsRGF0YS5wcmljZS5iYXNlUHJpY2U7XG4gICAgICAgIGlmIChpc1dlYXBvbkFybW9yRGF0YShtYXRlcmlhbERhdGEpKSB7XG4gICAgICAgICAgICBmaW5hbFByaWNlICs9IG1hdGVyaWFsRGF0YS5wcmljZS5idWxrUHJpY2UgKiBnZXRJdGVtQnVsa011bHRpcGxpZXIoYXJncy5pdGVtKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZpbmFsSGFyZG5lc3MgPSBtYXRlcmlhbERhdGEuZHVyYWJpbGl0eS5oYXJkbmVzcztcbiAgICAgICAgICAgIGZpbmFsSGl0UG9pbnRzID0gbWF0ZXJpYWxEYXRhLmR1cmFiaWxpdHkuaGl0UG9pbnRzO1xuICAgICAgICAgICAgZmluYWxCcmVha1RocmVzaG9sZCA9IG1hdGVyaWFsRGF0YS5kdXJhYmlsaXR5LmJyb2tlblRocmVzaG9sZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHBvdGVuY3lSdW5lRGF0YSA9IEl0ZW1SdW5lc1tlcXVpcG1lbnRUeXBlXVsncG90ZW5jeSddPy5bYXJncy5wb3RlbmN5UnVuZV07XG4gICAgaWYgKHBvdGVuY3lSdW5lRGF0YSkge1xuICAgICAgICBmaW5hbExldmVsID0gTWF0aC5tYXgoZmluYWxMZXZlbCwgcG90ZW5jeVJ1bmVEYXRhLmxldmVsKTtcbiAgICAgICAgZmluYWxQcmljZSArPSBwb3RlbmN5UnVuZURhdGEucHJpY2UuYmFzZVByaWNlO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgcHJvcGVydHlSdW5lVHlwZSBvZiBhcmdzLnByb3BlcnR5UnVuZXMpIHtcbiAgICAgICAgY29uc3QgcHJvcGVydHlSdW5lRGF0YSA9IEl0ZW1SdW5lc1tlcXVpcG1lbnRUeXBlXVsncHJvcGVydHknXVtwcm9wZXJ0eVJ1bmVUeXBlXTtcbiAgICAgICAgaWYgKHByb3BlcnR5UnVuZURhdGEpIHtcbiAgICAgICAgICAgIGZpbmFsTGV2ZWwgPSBNYXRoLm1heChmaW5hbExldmVsLCBwcm9wZXJ0eVJ1bmVEYXRhLmxldmVsKTtcbiAgICAgICAgICAgIGZpbmFsUHJpY2UgKz0gcHJvcGVydHlSdW5lRGF0YS5wcmljZS5iYXNlUHJpY2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBmdW5kYW1lbnRhbFJ1bmVEYXRhID0gSXRlbVJ1bmVzW2VxdWlwbWVudFR5cGVdWydmdW5kYW1lbnRhbCddW2FyZ3MuZnVuZGFtZW50YWxSdW5lXTtcbiAgICBpZiAoZnVuZGFtZW50YWxSdW5lRGF0YSkge1xuICAgICAgICBmaW5hbExldmVsID0gTWF0aC5tYXgoZmluYWxMZXZlbCwgZnVuZGFtZW50YWxSdW5lRGF0YS5sZXZlbCk7XG4gICAgICAgIGZpbmFsUHJpY2UgKz0gZnVuZGFtZW50YWxSdW5lRGF0YS5wcmljZS5iYXNlUHJpY2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgbGV2ZWw6IGZpbmFsTGV2ZWwsXG4gICAgICAgIHByaWNlOiBmaW5hbFByaWNlLFxuICAgICAgICBoYXJkbmVzczogZmluYWxIYXJkbmVzcyxcbiAgICAgICAgaGl0UG9pbnRzOiBmaW5hbEhpdFBvaW50cyxcbiAgICAgICAgYnJva2VuVGhyZXNob2xkOiBmaW5hbEJyZWFrVGhyZXNob2xkLFxuICAgIH07XG59XG5cbi8qKlxuICogTXlzdGlmeSBhbGwgaXRlbXMgKipJTiBQTEFDRSoqIHNvIHRoZXkgYXJlIHVuaWRlbnRpZmllZFxuICogQHBhcmFtIGl0ZW1zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBteXN0aWZ5SXRlbXMoLi4uaXRlbXM6IFBoeXNpY2FsSXRlbVtdKTogUGh5c2ljYWxJdGVtW10ge1xuICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgICAgICBpdGVtLmRhdGEuaWRlbnRpZmljYXRpb24uc3RhdHVzID0gJ3VuaWRlbnRpZmllZCc7XG4gICAgfVxuICAgIHJldHVybiBpdGVtcztcbn1cblxuLyoqXG4gKiBNeXN0aWZ5IGFsbCBpdGVtcyAqKklOIFBMQUNFKiogaWYgcXVpY2sgbXlzdGlmaWNhdGlvbiBpcyBlbmFibGVkIGluIFRvb2xib3ggYW5kIGFsdCBpcyBoZWxkIGluIHRoZSBldmVudFxuICogQHBhcmFtIGV2ZW50XG4gKiBAcGFyYW0gaXRlbXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1heWJlTXlzdGlmeUl0ZW1zKGV2ZW50OiBKUXVlcnkuQ2xpY2tFdmVudCwgLi4uaXRlbXM6IFBoeXNpY2FsSXRlbVtdKTogUGh5c2ljYWxJdGVtW10ge1xuICAgIGNvbnN0IG15c3RpZnlFbmFibGVkID0gZ2FtZS5zZXR0aW5ncy5nZXQoVE9PTEJPWF9OQU1FLCBRVUlDS19NWVNUSUZZKSBhcyBib29sZWFuO1xuICAgIGlmIChteXN0aWZ5RW5hYmxlZCAmJiBldmVudC5hbHRLZXkpIHtcbiAgICAgICAgaXRlbXMgPSBteXN0aWZ5SXRlbXMoLi4uaXRlbXMpO1xuICAgIH1cbiAgICByZXR1cm4gaXRlbXM7XG59XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMjEgQW5kcmV3IEN1Y2NpbmVsbG9cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgRXF1aXBtZW50SXRlbSwgRXF1aXBtZW50VHlwZSwgUHJlY2lvdXNNYXRlcmlhbEdyYWRlLCBQcmVjaW91c01hdGVyaWFsVHlwZSwgV2VpZ2h0U3RyaW5nIH0gZnJvbSAnLi4vLi4vLi4vdHlwZXMvUEYyRSc7XG5pbXBvcnQgeyBnZXRFcXVpcG1lbnRUeXBlIH0gZnJvbSAnLi4vVXRpbGl0aWVzJztcbmltcG9ydCB7IG51bWVyaWNDb21tYXMgfSBmcm9tICcuLi9Gb3JtYXR0aW5nJztcblxuZXhwb3J0IGludGVyZmFjZSBCYXNlTWF0ZXJpYWxEYXRhIHtcbiAgICBzbHVnOiBQcmVjaW91c01hdGVyaWFsR3JhZGU7XG4gICAgbGFiZWw6IHN0cmluZztcbiAgICBsZXZlbDogbnVtYmVyO1xuICAgIHByaWNlOiBCYXNlUHJpY2VEYXRhO1xufVxuZXhwb3J0IGludGVyZmFjZSBCYXNlUHJpY2VEYXRhIHtcbiAgICBiYXNlUHJpY2U6IG51bWJlcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgU2NhbGluZ1ByaWNlRGF0YSBleHRlbmRzIEJhc2VQcmljZURhdGEge1xuICAgIGJ1bGtQcmljZTogbnVtYmVyO1xuICAgIGRpc3BsYXlQcmljZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFdlYXBvbkFybW9yRGF0YSBleHRlbmRzIEJhc2VNYXRlcmlhbERhdGEge1xuICAgIHByaWNlOiBTY2FsaW5nUHJpY2VEYXRhO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzV2VhcG9uQXJtb3JEYXRhKGRhdGE6IEJhc2VNYXRlcmlhbERhdGEpOiBkYXRhIGlzIFdlYXBvbkFybW9yRGF0YSB7XG4gICAgcmV0dXJuIGRhdGEucHJpY2UuaGFzT3duUHJvcGVydHkoJ2J1bGtQcmljZScpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIER1cmFiaWxpdHlEYXRhIHtcbiAgICBoYXJkbmVzczogbnVtYmVyO1xuICAgIGhpdFBvaW50czogbnVtYmVyO1xuICAgIGJyb2tlblRocmVzaG9sZDogbnVtYmVyO1xufVxuZXhwb3J0IGludGVyZmFjZSBTaGllbGREYXRhIGV4dGVuZHMgQmFzZU1hdGVyaWFsRGF0YSB7XG4gICAgYnVsazogV2VpZ2h0U3RyaW5nO1xuICAgIGR1cmFiaWxpdHk6IER1cmFiaWxpdHlEYXRhO1xufVxuXG5jb25zdCBkdXJhYmlsaXR5RGF0YSA9IChoYXJkbmVzczogbnVtYmVyKTogRHVyYWJpbGl0eURhdGEgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIGhhcmRuZXNzLFxuICAgICAgICBoaXRQb2ludHM6IGhhcmRuZXNzICogNCxcbiAgICAgICAgYnJva2VuVGhyZXNob2xkOiBoYXJkbmVzcyAqIDIsXG4gICAgfTtcbn07XG5jb25zdCBzaGllbGREYXRhID0gKGdyYWRlOiBQcmVjaW91c01hdGVyaWFsR3JhZGUsIGxldmVsOiBudW1iZXIsIGJhc2VQcmljZTogbnVtYmVyLCBoYXJkbmVzczogbnVtYmVyLCBidWxrOiBXZWlnaHRTdHJpbmcpOiBTaGllbGREYXRhID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBzbHVnOiBncmFkZSxcbiAgICAgICAgbGFiZWw6IGBQRjJFLlByZWNpb3VzTWF0ZXJpYWwke2dyYWRlLmNhcGl0YWxpemUoKX1HcmFkZWAsXG4gICAgICAgIGxldmVsLFxuICAgICAgICBwcmljZTogeyBiYXNlUHJpY2UgfSxcbiAgICAgICAgYnVsayxcbiAgICAgICAgZHVyYWJpbGl0eTogZHVyYWJpbGl0eURhdGEoaGFyZG5lc3MpLFxuICAgIH07XG59O1xuY29uc3Qgc2NhbGluZ1ByaWNlRGF0YSA9IChiYXNlUHJpY2U6IG51bWJlcik6IFNjYWxpbmdQcmljZURhdGEgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIGJhc2VQcmljZSxcbiAgICAgICAgYnVsa1ByaWNlOiBiYXNlUHJpY2UgLyAxMCxcbiAgICAgICAgZGlzcGxheVByaWNlOiBgJHtudW1lcmljQ29tbWFzKGJhc2VQcmljZSl9Z3AgKyAke251bWVyaWNDb21tYXMoYmFzZVByaWNlIC8gMTApfWdwL2J1bGtgLFxuICAgIH07XG59O1xuY29uc3Qgd2VhcG9uQXJtb3JEYXRhID0gKGdyYWRlOiBQcmVjaW91c01hdGVyaWFsR3JhZGUsIGxldmVsOiBudW1iZXIsIGJhc2VQcmljZTogbnVtYmVyKTogV2VhcG9uQXJtb3JEYXRhID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBzbHVnOiBncmFkZSxcbiAgICAgICAgbGFiZWw6IGBQRjJFLlByZWNpb3VzTWF0ZXJpYWwke2dyYWRlLmNhcGl0YWxpemUoKX1HcmFkZWAsXG4gICAgICAgIGxldmVsLFxuICAgICAgICBwcmljZTogc2NhbGluZ1ByaWNlRGF0YShiYXNlUHJpY2UpLFxuICAgIH07XG59O1xuXG50eXBlIEdyYWRlZE1hdGVyaWFsRGF0YTxUPiA9IHtcbiAgICBbVEdyYWRlIGluIFByZWNpb3VzTWF0ZXJpYWxHcmFkZV0/OiBUO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBJTWF0ZXJpYWwge1xuICAgIHNsdWc6IHN0cmluZztcbiAgICBsYWJlbDogc3RyaW5nO1xuICAgIGRlZmF1bHRHcmFkZTogUHJlY2lvdXNNYXRlcmlhbEdyYWRlO1xuICAgIFtFcXVpcG1lbnRUeXBlLkFybW9yXT86IEdyYWRlZE1hdGVyaWFsRGF0YTxXZWFwb25Bcm1vckRhdGE+O1xuICAgIFtFcXVpcG1lbnRUeXBlLldlYXBvbl0/OiBHcmFkZWRNYXRlcmlhbERhdGE8V2VhcG9uQXJtb3JEYXRhPjtcbiAgICBbRXF1aXBtZW50VHlwZS5CdWNrbGVyXT86IEdyYWRlZE1hdGVyaWFsRGF0YTxTaGllbGREYXRhPjtcbiAgICBbRXF1aXBtZW50VHlwZS5TaGllbGRdPzogR3JhZGVkTWF0ZXJpYWxEYXRhPFNoaWVsZERhdGE+O1xuICAgIFtFcXVpcG1lbnRUeXBlLlRvd2VyXT86IEdyYWRlZE1hdGVyaWFsRGF0YTxTaGllbGREYXRhPjtcbn1cblxuZXhwb3J0IGNvbnN0IENSRUFURV9LRVlfTk9ORSA9ICcnO1xuZXhwb3J0IGNvbnN0IE1hdGVyaWFsTm9uZTogSU1hdGVyaWFsID0ge1xuICAgIHNsdWc6IENSRUFURV9LRVlfTk9ORSxcbiAgICBsYWJlbDogJ05vbmUnLFxuICAgIGRlZmF1bHRHcmFkZTogUHJlY2lvdXNNYXRlcmlhbEdyYWRlLk5vbmUsXG4gICAgW0VxdWlwbWVudFR5cGUuV2VhcG9uXToge30sXG4gICAgW0VxdWlwbWVudFR5cGUuQXJtb3JdOiB7fSxcbiAgICBbRXF1aXBtZW50VHlwZS5CdWNrbGVyXToge30sXG4gICAgW0VxdWlwbWVudFR5cGUuU2hpZWxkXToge30sXG4gICAgW0VxdWlwbWVudFR5cGUuVG93ZXJdOiB7fSxcbn07XG5cbmV4cG9ydCBjb25zdCBNYXRlcmlhbEFkYW1hbnRpbmU6IElNYXRlcmlhbCA9IHtcbiAgICBzbHVnOiAnYWRhbWFudGluZScsXG4gICAgbGFiZWw6ICdQRjJFLlByZWNpb3VzTWF0ZXJpYWxBZGFtYW50aW5lJyxcbiAgICBkZWZhdWx0R3JhZGU6IFByZWNpb3VzTWF0ZXJpYWxHcmFkZS5TdGFuZGFyZCxcbiAgICBbRXF1aXBtZW50VHlwZS5XZWFwb25dOiB7XG4gICAgICAgIFtQcmVjaW91c01hdGVyaWFsR3JhZGUuU3RhbmRhcmRdOiB3ZWFwb25Bcm1vckRhdGEoUHJlY2lvdXNNYXRlcmlhbEdyYWRlLlN0YW5kYXJkLCAxMSwgMV80MDApLFxuICAgICAgICBbUHJlY2lvdXNNYXRlcmlhbEdyYWRlLkhpZ2hdOiB3ZWFwb25Bcm1vckRhdGEoUHJlY2lvdXNNYXRlcmlhbEdyYWRlLkhpZ2gsIDE3LCAxM18wMDApLFxuICAgIH0sXG4gICAgW0VxdWlwbWVudFR5cGUuQXJtb3JdOiB7XG4gICAgICAgIFtQcmVjaW91c01hdGVyaWFsR3JhZGUuU3RhbmRhcmRdOiB3ZWFwb25Bcm1vckRhdGEoUHJlY2lvdXNNYXRlcmlhbEdyYWRlLlN0YW5kYXJkLCAxMiwgMV82MDApLFxuICAgICAgICBbUHJlY2lvdXNNYXRlcmlhbEdyYWRlLkhpZ2hdOiB3ZWFwb25Bcm1vckRhdGEoUHJlY2lvdXNNYXRlcmlhbEdyYWRlLkhpZ2gsIDE5LCAzMl8wMDApLFxuICAgIH0sXG5cbiAgICBbRXF1aXBtZW50VHlwZS5CdWNrbGVyXToge1xuICAgICAgICBbUHJlY2lvdXNNYXRlcmlhbEdyYWRlLlN0YW5kYXJkXTogc2hpZWxkRGF0YShQcmVjaW91c01hdGVyaWFsR3JhZGUuU3RhbmRhcmQsIDgsIDQwMCwgOCwgYExgKSxcbiAgICAgICAgW1ByZWNpb3VzTWF0ZXJpYWxHcmFkZS5IaWdoXTogc2hpZWxkRGF0YShQcmVjaW91c01hdGVyaWFsR3JhZGUuSGlnaCwgMTYsIDhfMDAwLCAxMSwgYDFgKSxcbiAgICB9LFxuICAgIFtFcXVpcG1lbnRUeXBlLlNoaWVsZF06IHtcbiAgICAgICAgW1ByZWNpb3VzTWF0ZXJpYWxHcmFkZS5TdGFuZGFyZF06IHNoaWVsZERhdGEoUHJlY2lvdXNNYXRlcmlhbEdyYWRlLlN0YW5kYXJkLCA4LCA0NDAsIDgsIGBMYCksXG4gICAgICAgIFtQcmVjaW91c01hdGVyaWFsR3JhZGUuSGlnaF06IHNoaWVsZERhdGEoUHJlY2lvdXNNYXRlcmlhbEdyYWRlLkhpZ2gsIDE2LCA4XzgwMCwgMTMsIGAxYCksXG4gICAgfSxcbn07XG5leHBvcnQgY29uc3QgTWF0ZXJpYWxDb2xkSXJvbjogSU1hdGVyaWFsID0ge1xuICAgIHNsdWc6ICdjb2xkSXJvbicsXG4gICAgbGFiZWw6ICdQRjJFLlByZWNpb3VzTWF0ZXJpYWxDb2xkSXJvbicsXG4gICAgZGVmYXVsdEdyYWRlOiBQcmVjaW91c01hdGVyaWFsR3JhZGUuU3RhbmRhcmQsXG4gICAgW0VxdWlwbWVudFR5cGUuV2VhcG9uXToge1xuICAgICAgICBbUHJlY2lvdXNNYXRlcmlhbEdyYWRlLkxvd106IHdlYXBvbkFybW9yRGF0YShQcmVjaW91c01hdGVyaWFsR3JhZGUuTG93LCAyLCA0MCksXG4gICAgICAgIFtQcmVjaW91c01hdGVyaWFsR3JhZGUuU3RhbmRhcmRdOiB3ZWFwb25Bcm1vckRhdGEoUHJlY2lvdXNNYXRlcmlhbEdyYWRlLlN0YW5kYXJkLCAxMCwgODgwKSxcbiAgICAgICAgW1ByZWNpb3VzTWF0ZXJpYWxHcmFkZS5IaWdoXTogd2VhcG9uQXJtb3JEYXRhKFByZWNpb3VzTWF0ZXJpYWxHcmFkZS5IaWdoLCAxNiwgOV8wMDApLFxuICAgIH0sXG4gICAgW0VxdWlwbWVudFR5cGUuQXJtb3JdOiB7XG4gICAgICAgIFtQcmVjaW91c01hdGVyaWFsR3JhZGUuTG93XTogd2VhcG9uQXJtb3JEYXRhKFByZWNpb3VzTWF0ZXJpYWxHcmFkZS5Mb3csIDUsIDE0MCksXG4gICAgICAgIFtQcmVjaW91c01hdGVyaWFsR3JhZGUuU3RhbmRhcmRdOiB3ZWFwb25Bcm1vckRhdGEoUHJlY2lvdXNNYXRlcmlhbEdyYWRlLlN0YW5kYXJkLCAxMSwgMV8yMDApLFxuICAgICAgICBbUHJlY2lvdXNNYXRlcmlhbEdyYWRlLkhpZ2hdOiB3ZWFwb25Bcm1vckRhdGEoUHJlY2lvdXNNYXRlcmlhbEdyYWRlLkhpZ2gsIDE4LCAyMF8wMDApLFxuICAgIH0sXG5cbiAgICBbRXF1aXBtZW50VHlwZS5CdWNrbGVyXToge1xuICAgICAgICBbUHJlY2lvdXNNYXRlcmlhbEdyYWRlLkxvd106IHNoaWVsZERhdGEoUHJlY2lvdXNNYXRlcmlhbEdyYWRlLkxvdywgMiwgMzAsIDMsIGBMYCksXG4gICAgICAgIFtQcmVjaW91c01hdGVyaWFsR3JhZGUuU3RhbmRhcmRdOiBzaGllbGREYXRhKFByZWNpb3VzTWF0ZXJpYWxHcmFkZS5TdGFuZGFyZCwgNywgMzAwLCA1LCBgTGApLFxuICAgICAgICBbUHJlY2lvdXNNYXRlcmlhbEdyYWRlLkhpZ2hdOiBzaGllbGREYXRhKFByZWNpb3VzTWF0ZXJpYWxHcmFkZS5IaWdoLCAxNSwgNV8wMDAsIDgsIGBMYCksXG4gICAgfSxcbiAgICBbRXF1aXBtZW50VHlwZS5TaGllbGRdOiB7XG4gICAgICAgIFtQcmVjaW91c01hdGVyaWFsR3JhZGUuTG93XTogc2hpZWxkRGF0YShQcmVjaW91c01hdGVyaWFsR3JhZGUuTG93LCAyLCAzNCwgNSwgYDFgKSxcbiAgICAgICAgW1ByZWNpb3VzTWF0ZXJpYWxHcmFkZS5TdGFuZGFyZF06IHNoaWVsZERhdGEoUHJlY2lvdXNNYXRlcmlhbEdyYWRlLlN0YW5kYXJkLCA3LCAzNDAsIDcsIGAxYCksXG4gICAgICAgIFtQcmVjaW91c01hdGVyaWFsR3JhZGUuSGlnaF06IHNoaWVsZERhdGEoUHJlY2lvdXNNYXRlcmlhbEdyYWRlLkhpZ2gsIDE1LCA1XzUwMCwgMTAsIGAxYCksXG4gICAgfSxcbn07XG5leHBvcnQgY29uc3QgTWF0ZXJpYWxEYXJrd29vZDogSU1hdGVyaWFsID0ge1xuICAgIHNsdWc6ICdkYXJrd29vZCcsXG4gICAgbGFiZWw6ICdQRjJFLlByZWNpb3VzTWF0ZXJpYWxEYXJrd29vZCcsXG4gICAgZGVmYXVsdEdyYWRlOiBQcmVjaW91c01hdGVyaWFsR3JhZGUuU3RhbmRhcmQsXG4gICAgW0VxdWlwbWVudFR5cGUuV2VhcG9uXToge1xuICAgICAgICBbUHJlY2lvdXNNYXRlcmlhbEdyYWRlLlN0YW5kYXJkXTogd2VhcG9uQXJtb3JEYXRhKFByZWNpb3VzTWF0ZXJpYWxHcmFkZS5TdGFuZGFyZCwgMTEsIDFfNDAwKSxcbiAgICAgICAgW1ByZWNpb3VzTWF0ZXJpYWxHcmFkZS5IaWdoXTogd2VhcG9uQXJtb3JEYXRhKFByZWNpb3VzTWF0ZXJpYWxHcmFkZS5IaWdoLCAxNywgMTNfNTAwKSxcbiAgICB9LFxuICAgIFtFcXVpcG1lbnRUeXBlLkFybW9yXToge1xuICAgICAgICBbUHJlY2lvdXNNYXRlcmlhbEdyYWRlLlN0YW5kYXJkXTogd2VhcG9uQXJtb3JEYXRhKFByZWNpb3VzTWF0ZXJpYWxHcmFkZS5TdGFuZGFyZCwgMTIsIDFfNjAwKSxcbiAgICAgICAgW1ByZWNpb3VzTWF0ZXJpYWxHcmFkZS5IaWdoXTogd2VhcG9uQXJtb3JEYXRhKFByZWNpb3VzTWF0ZXJpYWxHcmFkZS5IaWdoLCAxOSwgMzJfMDAwKSxcbiAgICB9LFxuXG4gICAgW0VxdWlwbWVudFR5cGUuQnVja2xlcl06IHtcbiAgICAgICAgW1ByZWNpb3VzTWF0ZXJpYWxHcmFkZS5TdGFuZGFyZF06IHNoaWVsZERhdGEoUHJlY2lvdXNNYXRlcmlhbEdyYWRlLlN0YW5kYXJkLCA4LCA0MDAsIDMsIGBMYCksXG4gICAgICAgIFtQcmVjaW91c01hdGVyaWFsR3JhZGUuSGlnaF06IHNoaWVsZERhdGEoUHJlY2lvdXNNYXRlcmlhbEdyYWRlLkhpZ2gsIDE1LCA1XzAwMCwgNiwgYExgKSxcbiAgICB9LFxuICAgIFtFcXVpcG1lbnRUeXBlLlNoaWVsZF06IHtcbiAgICAgICAgW1ByZWNpb3VzTWF0ZXJpYWxHcmFkZS5TdGFuZGFyZF06IHNoaWVsZERhdGEoUHJlY2lvdXNNYXRlcmlhbEdyYWRlLlN0YW5kYXJkLCA4LCA0NDAsIDUsIGBMYCksXG4gICAgICAgIFtQcmVjaW91c01hdGVyaWFsR3JhZGUuSGlnaF06IHNoaWVsZERhdGEoUHJlY2lvdXNNYXRlcmlhbEdyYWRlLkhpZ2gsIDE1LCA1XzUwMCwgOCwgYExgKSxcbiAgICB9LFxuICAgIFtFcXVpcG1lbnRUeXBlLlRvd2VyXToge1xuICAgICAgICBbUHJlY2lvdXNNYXRlcmlhbEdyYWRlLlN0YW5kYXJkXTogc2hpZWxkRGF0YShQcmVjaW91c01hdGVyaWFsR3JhZGUuU3RhbmRhcmQsIDgsIDU2MCwgNSwgYDNgKSxcbiAgICAgICAgW1ByZWNpb3VzTWF0ZXJpYWxHcmFkZS5IaWdoXTogc2hpZWxkRGF0YShQcmVjaW91c01hdGVyaWFsR3JhZGUuSGlnaCwgMTUsIDVfNTAwLCA4LCBgM2ApLFxuICAgIH0sXG59O1xuZXhwb3J0IGNvbnN0IE1hdGVyaWFsRHJhZ29uaGlkZTogSU1hdGVyaWFsID0ge1xuICAgIHNsdWc6ICdkcmFnb25oaWRlJyxcbiAgICBsYWJlbDogJ1BGMkUuUHJlY2lvdXNNYXRlcmlhbERyYWdvbmhpZGUnLFxuICAgIGRlZmF1bHRHcmFkZTogUHJlY2lvdXNNYXRlcmlhbEdyYWRlLlN0YW5kYXJkLFxuICAgIFtFcXVpcG1lbnRUeXBlLkFybW9yXToge1xuICAgICAgICAvLyBUT0RPOiArMSBjaXJjdW1zdGFuY2UgYm9udXMgdG8geW91ciBBQyBhbmQgc2F2aW5nIHRocm93c1xuICAgICAgICAvLyAgYWdhaW5zdCBhdHRhY2tzIGFuZCBzcGVsbHMgdGhhdCBkZWFsIHRoZSBjb3JyZXNwb25kaW5nXG4gICAgICAgIC8vICBkYW1hZ2UgdHlwZVxuICAgICAgICBbUHJlY2lvdXNNYXRlcmlhbEdyYWRlLlN0YW5kYXJkXTogd2VhcG9uQXJtb3JEYXRhKFByZWNpb3VzTWF0ZXJpYWxHcmFkZS5TdGFuZGFyZCwgMTIsIDFfNjAwKSxcbiAgICAgICAgW1ByZWNpb3VzTWF0ZXJpYWxHcmFkZS5IaWdoXTogd2VhcG9uQXJtb3JEYXRhKFByZWNpb3VzTWF0ZXJpYWxHcmFkZS5IaWdoLCAxOSwgMzJfMDAwKSxcbiAgICB9LFxuXG4gICAgW0VxdWlwbWVudFR5cGUuQnVja2xlcl06IHtcbiAgICAgICAgW1ByZWNpb3VzTWF0ZXJpYWxHcmFkZS5TdGFuZGFyZF06IHNoaWVsZERhdGEoUHJlY2lvdXNNYXRlcmlhbEdyYWRlLlN0YW5kYXJkLCA4LCA0MDAsIDIsIGBMYCksXG4gICAgICAgIFtQcmVjaW91c01hdGVyaWFsR3JhZGUuSGlnaF06IHNoaWVsZERhdGEoUHJlY2lvdXNNYXRlcmlhbEdyYWRlLkhpZ2gsIDE2LCA4XzAwMCwgNSwgYExgKSxcbiAgICB9LFxuICAgIFtFcXVpcG1lbnRUeXBlLlNoaWVsZF06IHtcbiAgICAgICAgW1ByZWNpb3VzTWF0ZXJpYWxHcmFkZS5TdGFuZGFyZF06IHNoaWVsZERhdGEoUHJlY2lvdXNNYXRlcmlhbEdyYWRlLlN0YW5kYXJkLCA4LCA0NDAsIDQsIGAxYCksXG4gICAgICAgIFtQcmVjaW91c01hdGVyaWFsR3JhZGUuSGlnaF06IHNoaWVsZERhdGEoUHJlY2lvdXNNYXRlcmlhbEdyYWRlLkhpZ2gsIDE2LCA4XzgwMCwgNywgYDFgKSxcbiAgICB9LFxufTtcbmV4cG9ydCBjb25zdCBNYXRlcmlhbE1pdGhyYWw6IElNYXRlcmlhbCA9IHtcbiAgICBzbHVnOiAnbWl0aHJhbCcsXG4gICAgbGFiZWw6ICdQRjJFLlByZWNpb3VzTWF0ZXJpYWxNaXRocmFsJyxcbiAgICBkZWZhdWx0R3JhZGU6IFByZWNpb3VzTWF0ZXJpYWxHcmFkZS5TdGFuZGFyZCxcbiAgICBbRXF1aXBtZW50VHlwZS5XZWFwb25dOiB7XG4gICAgICAgIC8vIFRPRE86IEJ1bGsgcmVkdWNlZCBieSAxXG4gICAgICAgIFtQcmVjaW91c01hdGVyaWFsR3JhZGUuU3RhbmRhcmRdOiB3ZWFwb25Bcm1vckRhdGEoUHJlY2lvdXNNYXRlcmlhbEdyYWRlLlN0YW5kYXJkLCAxMSwgMV80MDApLFxuICAgICAgICBbUHJlY2lvdXNNYXRlcmlhbEdyYWRlLkhpZ2hdOiB3ZWFwb25Bcm1vckRhdGEoUHJlY2lvdXNNYXRlcmlhbEdyYWRlLkhpZ2gsIDE3LCAxM181MDApLFxuICAgIH0sXG4gICAgW0VxdWlwbWVudFR5cGUuQXJtb3JdOiB7XG4gICAgICAgIFtQcmVjaW91c01hdGVyaWFsR3JhZGUuU3RhbmRhcmRdOiB3ZWFwb25Bcm1vckRhdGEoUHJlY2lvdXNNYXRlcmlhbEdyYWRlLlN0YW5kYXJkLCAxMiwgMV82MDApLFxuICAgICAgICBbUHJlY2lvdXNNYXRlcmlhbEdyYWRlLkhpZ2hdOiB3ZWFwb25Bcm1vckRhdGEoUHJlY2lvdXNNYXRlcmlhbEdyYWRlLkhpZ2gsIDE5LCAzMl8wMDApLFxuICAgIH0sXG5cbiAgICBbRXF1aXBtZW50VHlwZS5CdWNrbGVyXToge1xuICAgICAgICBbUHJlY2lvdXNNYXRlcmlhbEdyYWRlLlN0YW5kYXJkXTogc2hpZWxkRGF0YShQcmVjaW91c01hdGVyaWFsR3JhZGUuU3RhbmRhcmQsIDgsIDQwMCwgMywgYExgKSxcbiAgICAgICAgW1ByZWNpb3VzTWF0ZXJpYWxHcmFkZS5IaWdoXTogc2hpZWxkRGF0YShQcmVjaW91c01hdGVyaWFsR3JhZGUuSGlnaCwgMTYsIDhfMDAwLCA2LCBgTGApLFxuICAgIH0sXG4gICAgW0VxdWlwbWVudFR5cGUuU2hpZWxkXToge1xuICAgICAgICBbUHJlY2lvdXNNYXRlcmlhbEdyYWRlLlN0YW5kYXJkXTogc2hpZWxkRGF0YShQcmVjaW91c01hdGVyaWFsR3JhZGUuU3RhbmRhcmQsIDgsIDQ0MCwgNSwgYExgKSxcbiAgICAgICAgW1ByZWNpb3VzTWF0ZXJpYWxHcmFkZS5IaWdoXTogc2hpZWxkRGF0YShQcmVjaW91c01hdGVyaWFsR3JhZGUuSGlnaCwgMTYsIDhfODAwLCA4LCBgTGApLFxuICAgIH0sXG59O1xuZXhwb3J0IGNvbnN0IE1hdGVyaWFsT3JpY2hhbGN1bTogSU1hdGVyaWFsID0ge1xuICAgIHNsdWc6ICdvcmljaGFsY3VtJyxcbiAgICBsYWJlbDogJ1BGMkUuUHJlY2lvdXNNYXRlcmlhbE9yaWNoYWxjdW0nLFxuICAgIGRlZmF1bHRHcmFkZTogUHJlY2lvdXNNYXRlcmlhbEdyYWRlLkhpZ2gsXG4gICAgW0VxdWlwbWVudFR5cGUuV2VhcG9uXToge1xuICAgICAgICAvLyBUT0RPOiBTcGVlZCBjb3N0cyBoYWxmIHRoZSBub3JtYWwgcHJpY2VcbiAgICAgICAgW1ByZWNpb3VzTWF0ZXJpYWxHcmFkZS5IaWdoXTogd2VhcG9uQXJtb3JEYXRhKFByZWNpb3VzTWF0ZXJpYWxHcmFkZS5IaWdoLCAxOCwgMjJfNTAwKSxcbiAgICB9LFxuICAgIFtFcXVpcG1lbnRUeXBlLkFybW9yXToge1xuICAgICAgICAvLyBUT0RPOiArMSBjaXJjdW1zdGFuY2UgYm9udXMgdG8gaW5pdGlhdGl2ZSByb2xsc1xuICAgICAgICBbUHJlY2lvdXNNYXRlcmlhbEdyYWRlLkhpZ2hdOiB3ZWFwb25Bcm1vckRhdGEoUHJlY2lvdXNNYXRlcmlhbEdyYWRlLkhpZ2gsIDIwLCA1NV8wMDApLFxuICAgIH0sXG5cbiAgICBbRXF1aXBtZW50VHlwZS5CdWNrbGVyXToge1xuICAgICAgICBbUHJlY2lvdXNNYXRlcmlhbEdyYWRlLkhpZ2hdOiBzaGllbGREYXRhKFByZWNpb3VzTWF0ZXJpYWxHcmFkZS5IaWdoLCAxNywgMTJfMDAwLCAxNCwgYExgKSxcbiAgICB9LFxuICAgIFtFcXVpcG1lbnRUeXBlLlNoaWVsZF06IHtcbiAgICAgICAgW1ByZWNpb3VzTWF0ZXJpYWxHcmFkZS5IaWdoXTogc2hpZWxkRGF0YShQcmVjaW91c01hdGVyaWFsR3JhZGUuSGlnaCwgMTcsIDEzXzIwMCwgMTYsIGAxYCksXG4gICAgfSxcbn07XG5leHBvcnQgY29uc3QgTWF0ZXJpYWxTaWx2ZXI6IElNYXRlcmlhbCA9IHtcbiAgICBzbHVnOiAnc2lsdmVyJyxcbiAgICBsYWJlbDogJ1BGMkUuUHJlY2lvdXNNYXRlcmlhbFNpbHZlcicsXG4gICAgZGVmYXVsdEdyYWRlOiBQcmVjaW91c01hdGVyaWFsR3JhZGUuU3RhbmRhcmQsXG4gICAgW0VxdWlwbWVudFR5cGUuV2VhcG9uXToge1xuICAgICAgICBbUHJlY2lvdXNNYXRlcmlhbEdyYWRlLkxvd106IHdlYXBvbkFybW9yRGF0YShQcmVjaW91c01hdGVyaWFsR3JhZGUuTG93LCAyLCA0MCksXG4gICAgICAgIFtQcmVjaW91c01hdGVyaWFsR3JhZGUuU3RhbmRhcmRdOiB3ZWFwb25Bcm1vckRhdGEoUHJlY2lvdXNNYXRlcmlhbEdyYWRlLlN0YW5kYXJkLCAxMCwgODgwKSxcbiAgICAgICAgW1ByZWNpb3VzTWF0ZXJpYWxHcmFkZS5IaWdoXTogd2VhcG9uQXJtb3JEYXRhKFByZWNpb3VzTWF0ZXJpYWxHcmFkZS5IaWdoLCAxNiwgOV8wMDApLFxuICAgIH0sXG4gICAgW0VxdWlwbWVudFR5cGUuQXJtb3JdOiB7XG4gICAgICAgIFtQcmVjaW91c01hdGVyaWFsR3JhZGUuTG93XTogd2VhcG9uQXJtb3JEYXRhKFByZWNpb3VzTWF0ZXJpYWxHcmFkZS5Mb3csIDUsIDE0MCksXG4gICAgICAgIFtQcmVjaW91c01hdGVyaWFsR3JhZGUuU3RhbmRhcmRdOiB3ZWFwb25Bcm1vckRhdGEoUHJlY2lvdXNNYXRlcmlhbEdyYWRlLlN0YW5kYXJkLCAxMSwgMV8yMDApLFxuICAgICAgICBbUHJlY2lvdXNNYXRlcmlhbEdyYWRlLkhpZ2hdOiB3ZWFwb25Bcm1vckRhdGEoUHJlY2lvdXNNYXRlcmlhbEdyYWRlLkhpZ2gsIDE4LCAyMF8wMDApLFxuICAgIH0sXG5cbiAgICBbRXF1aXBtZW50VHlwZS5CdWNrbGVyXToge1xuICAgICAgICBbUHJlY2lvdXNNYXRlcmlhbEdyYWRlLkxvd106IHNoaWVsZERhdGEoUHJlY2lvdXNNYXRlcmlhbEdyYWRlLkxvdywgMiwgMzAsIDEsIGBMYCksXG4gICAgICAgIFtQcmVjaW91c01hdGVyaWFsR3JhZGUuU3RhbmRhcmRdOiBzaGllbGREYXRhKFByZWNpb3VzTWF0ZXJpYWxHcmFkZS5TdGFuZGFyZCwgNywgMzAwLCAzLCBgTGApLFxuICAgICAgICBbUHJlY2lvdXNNYXRlcmlhbEdyYWRlLkhpZ2hdOiBzaGllbGREYXRhKFByZWNpb3VzTWF0ZXJpYWxHcmFkZS5IaWdoLCAxNSwgNV8wMDAsIDYsIGBMYCksXG4gICAgfSxcbiAgICBbRXF1aXBtZW50VHlwZS5TaGllbGRdOiB7XG4gICAgICAgIFtQcmVjaW91c01hdGVyaWFsR3JhZGUuTG93XTogc2hpZWxkRGF0YShQcmVjaW91c01hdGVyaWFsR3JhZGUuTG93LCAyLCAzNCwgMywgYDFgKSxcbiAgICAgICAgW1ByZWNpb3VzTWF0ZXJpYWxHcmFkZS5TdGFuZGFyZF06IHNoaWVsZERhdGEoUHJlY2lvdXNNYXRlcmlhbEdyYWRlLlN0YW5kYXJkLCA3LCAzNDAsIDUsIGAxYCksXG4gICAgICAgIFtQcmVjaW91c01hdGVyaWFsR3JhZGUuSGlnaF06IHNoaWVsZERhdGEoUHJlY2lvdXNNYXRlcmlhbEdyYWRlLkhpZ2gsIDE1LCA1XzUwMCwgOCwgYDFgKSxcbiAgICB9LFxufTtcbmV4cG9ydCBjb25zdCBNYXRlcmlhbFNvdmVyZWlnblN0ZWVsOiBJTWF0ZXJpYWwgPSB7XG4gICAgc2x1ZzogJ3NvdmVyZWlnblN0ZWVsJyxcbiAgICBsYWJlbDogJ1BGMkUuUHJlY2lvdXNNYXRlcmlhbFNvdmVyZWlnblN0ZWVsJyxcbiAgICBkZWZhdWx0R3JhZGU6IFByZWNpb3VzTWF0ZXJpYWxHcmFkZS5TdGFuZGFyZCxcbiAgICBbRXF1aXBtZW50VHlwZS5XZWFwb25dOiB7XG4gICAgICAgIFtQcmVjaW91c01hdGVyaWFsR3JhZGUuU3RhbmRhcmRdOiB3ZWFwb25Bcm1vckRhdGEoUHJlY2lvdXNNYXRlcmlhbEdyYWRlLlN0YW5kYXJkLCAxMiwgMV82MDApLFxuICAgICAgICBbUHJlY2lvdXNNYXRlcmlhbEdyYWRlLkhpZ2hdOiB3ZWFwb25Bcm1vckRhdGEoUHJlY2lvdXNNYXRlcmlhbEdyYWRlLkhpZ2gsIDE5LCAzMl8wMDApLFxuICAgIH0sXG4gICAgW0VxdWlwbWVudFR5cGUuQXJtb3JdOiB7XG4gICAgICAgIFtQcmVjaW91c01hdGVyaWFsR3JhZGUuU3RhbmRhcmRdOiB3ZWFwb25Bcm1vckRhdGEoUHJlY2lvdXNNYXRlcmlhbEdyYWRlLlN0YW5kYXJkLCAxMywgMl80MDApLFxuICAgICAgICBbUHJlY2lvdXNNYXRlcmlhbEdyYWRlLkhpZ2hdOiB3ZWFwb25Bcm1vckRhdGEoUHJlY2lvdXNNYXRlcmlhbEdyYWRlLkhpZ2gsIDIwLCA1MF8wMDApLFxuICAgIH0sXG59O1xuZXhwb3J0IGNvbnN0IE1hdGVyaWFsV2FycGdsYXNzOiBJTWF0ZXJpYWwgPSB7XG4gICAgc2x1ZzogJ3dhcnBnbGFzcycsXG4gICAgbGFiZWw6ICdQRjJFLlByZWNpb3VzTWF0ZXJpYWxXYXJwZ2xhc3MnLFxuICAgIGRlZmF1bHRHcmFkZTogUHJlY2lvdXNNYXRlcmlhbEdyYWRlLlN0YW5kYXJkLFxuICAgIFtFcXVpcG1lbnRUeXBlLldlYXBvbl06IHtcbiAgICAgICAgW1ByZWNpb3VzTWF0ZXJpYWxHcmFkZS5IaWdoXTogd2VhcG9uQXJtb3JEYXRhKFByZWNpb3VzTWF0ZXJpYWxHcmFkZS5IaWdoLCAxNywgMTRfMDAwKSxcbiAgICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IEl0ZW1NYXRlcmlhbHM6IFJlY29yZDxQcmVjaW91c01hdGVyaWFsVHlwZSwgSU1hdGVyaWFsPiA9IHtcbiAgICAnJzogTWF0ZXJpYWxOb25lLFxuICAgICdhZGFtYW50aW5lJzogTWF0ZXJpYWxBZGFtYW50aW5lLFxuICAgICdjb2xkSXJvbic6IE1hdGVyaWFsQ29sZElyb24sXG4gICAgJ2Rhcmt3b29kJzogTWF0ZXJpYWxEYXJrd29vZCxcbiAgICAnZHJhZ29uaGlkZSc6IE1hdGVyaWFsRHJhZ29uaGlkZSxcbiAgICAnbWl0aHJhbCc6IE1hdGVyaWFsTWl0aHJhbCxcbiAgICAnb3JpY2hhbGN1bSc6IE1hdGVyaWFsT3JpY2hhbGN1bSxcbiAgICAnc2lsdmVyJzogTWF0ZXJpYWxTaWx2ZXIsXG4gICAgJ3NvdmVyZWlnblN0ZWVsJzogTWF0ZXJpYWxTb3ZlcmVpZ25TdGVlbCxcbiAgICAnd2FycGdsYXNzJzogTWF0ZXJpYWxXYXJwZ2xhc3MsXG59O1xuXG4vKipcbiAqIEdldCBhbGwgdmFsaWQgbWF0ZXJpYWxzIHRoYXQgY291bGQgYmUgdXNlZCBmb3IgdGhpcyBpdGVtLlxuICogQHBhcmFtIGl0ZW1cbiAqL1xuZXhwb3J0IGNvbnN0IGdldFZhbGlkTWF0ZXJpYWxzID0gKGl0ZW06IEVxdWlwbWVudEl0ZW0pOiBQYXJ0aWFsPFJlY29yZDxQcmVjaW91c01hdGVyaWFsVHlwZSwgSU1hdGVyaWFsPj4gPT4ge1xuICAgIGNvbnN0IGVxdWlwbWVudFR5cGUgPSBnZXRFcXVpcG1lbnRUeXBlKGl0ZW0pO1xuICAgIGlmICghZXF1aXBtZW50VHlwZSkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgY29uc3QgbWF0ZXJpYWxzOiBQYXJ0aWFsPFJlY29yZDxQcmVjaW91c01hdGVyaWFsVHlwZSwgSU1hdGVyaWFsPj4gPSB7fTtcblxuICAgIGZvciAoY29uc3QgW21hdGVyaWFsVHlwZSwgbWF0ZXJpYWxEYXRhXSBvZiBPYmplY3QuZW50cmllcyhJdGVtTWF0ZXJpYWxzKSkge1xuICAgICAgICBpZiAoIW1hdGVyaWFsRGF0YS5oYXNPd25Qcm9wZXJ0eShlcXVpcG1lbnRUeXBlKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgbWF0ZXJpYWxzW21hdGVyaWFsVHlwZSBhcyBQcmVjaW91c01hdGVyaWFsVHlwZV0gPSBtYXRlcmlhbERhdGE7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hdGVyaWFscztcbn07XG5cbi8qKlxuICogR2V0IHZhbGlkIG1hdGVyaWFsIGdyYWRlIGRhdGEgZm9yIHRoZSBpdGVtIGFuZCBzcGVjaWZpZWQgbWF0ZXJpYWxcbiAqIEBwYXJhbSBpdGVtXG4gKiBAcGFyYW0gbWF0ZXJpYWxUeXBlXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRWYWxpZE1hdGVyaWFsR3JhZGVzID0gKGl0ZW06IEVxdWlwbWVudEl0ZW0sIG1hdGVyaWFsVHlwZTogUHJlY2lvdXNNYXRlcmlhbFR5cGUpOiBHcmFkZWRNYXRlcmlhbERhdGE8V2VhcG9uQXJtb3JEYXRhIHwgU2hpZWxkRGF0YT4gPT4ge1xuICAgIGNvbnN0IGVxdWlwbWVudFR5cGUgPSBnZXRFcXVpcG1lbnRUeXBlKGl0ZW0pO1xuICAgIGlmICghZXF1aXBtZW50VHlwZSkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgaWYgKEl0ZW1NYXRlcmlhbHNbbWF0ZXJpYWxUeXBlXS5oYXNPd25Qcm9wZXJ0eShlcXVpcG1lbnRUeXBlKSkge1xuICAgICAgICByZXR1cm4gSXRlbU1hdGVyaWFsc1ttYXRlcmlhbFR5cGVdW2VxdWlwbWVudFR5cGVdITtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxufTtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgMjAyMSBBbmRyZXcgQ3VjY2luZWxsb1xuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBFcXVpcG1lbnRJdGVtLCBFcXVpcG1lbnRUeXBlLCBQcm9wZXJ0eVJ1bmVUeXBlLCBSZXNpbGllbmN5UnVuZVR5cGUsIFN0cmlraW5nUnVuZVR5cGUsIFplcm9Ub0ZvdXIgfSBmcm9tICcuLi8uLi8uLi90eXBlcy9QRjJFJztcbmltcG9ydCB7IEJhc2VQcmljZURhdGEsIENSRUFURV9LRVlfTk9ORSB9IGZyb20gJy4vTWF0ZXJpYWxzJztcbmltcG9ydCB7IGdldEVxdWlwbWVudFR5cGUgfSBmcm9tICcuLi9VdGlsaXRpZXMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElSdW5lIHtcbiAgICBzbHVnOiBzdHJpbmc7XG4gICAgbGFiZWw6IHN0cmluZztcbiAgICBsZXZlbDogbnVtYmVyO1xuICAgIHByaWNlOiBCYXNlUHJpY2VEYXRhO1xufVxuXG5jb25zdCBSdW5lTm9uZTogSVJ1bmUgPSB7XG4gICAgc2x1ZzogQ1JFQVRFX0tFWV9OT05FLFxuICAgIGxhYmVsOiAnTm9uZScsXG4gICAgcHJpY2U6IHtcbiAgICAgICAgYmFzZVByaWNlOiAwLFxuICAgIH0sXG4gICAgbGV2ZWw6IDAsXG59O1xuXG5leHBvcnQgdHlwZSBGdW5kYW1lbnRhbFJ1bmVUeXBlID0gU3RyaWtpbmdSdW5lVHlwZSB8IFJlc2lsaWVuY3lSdW5lVHlwZTtcbmV4cG9ydCB0eXBlIFBvdGVuY3lSdW5lVHlwZSA9IGAke1plcm9Ub0ZvdXJ9YDtcblxuY29uc3QgcHJpY2UgPSAoYmFzZVByaWNlOiBudW1iZXIpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBiYXNlUHJpY2UsXG4gICAgfTtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVJ1bmVNYXAge1xuICAgIHBvdGVuY3k/OiBSZWNvcmQ8UG90ZW5jeVJ1bmVUeXBlLCBJUnVuZT47XG4gICAgZnVuZGFtZW50YWw6IFJlY29yZDxzdHJpbmcsIElSdW5lPjtcbiAgICBwcm9wZXJ0eTogUmVjb3JkPHN0cmluZywgSVJ1bmU+O1xufVxuZXhwb3J0IHR5cGUgSXRlbVJ1bmVzID0ge1xuICAgIFtFcXVpcG1lbnRUeXBlLldlYXBvbl06IElSdW5lTWFwO1xuICAgIFtFcXVpcG1lbnRUeXBlLkFybW9yXTogSVJ1bmVNYXA7XG4gICAgW0VxdWlwbWVudFR5cGUuQnVja2xlcl06IElSdW5lTWFwO1xuICAgIFtFcXVpcG1lbnRUeXBlLlNoaWVsZF06IElSdW5lTWFwO1xuICAgIFtFcXVpcG1lbnRUeXBlLlRvd2VyXTogSVJ1bmVNYXA7XG59O1xuZXhwb3J0IGNvbnN0IEl0ZW1SdW5lczogSXRlbVJ1bmVzID0ge1xuICAgIFtFcXVpcG1lbnRUeXBlLldlYXBvbl06IHtcbiAgICAgICAgcG90ZW5jeToge1xuICAgICAgICAgICAgJzAnOiB7XG4gICAgICAgICAgICAgICAgLi4uUnVuZU5vbmUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJzEnOiB7XG4gICAgICAgICAgICAgICAgc2x1ZzogJzEnLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnUEYyRS5XZWFwb25Qb3RlbmN5UnVuZTEnLFxuICAgICAgICAgICAgICAgIGxldmVsOiAyLFxuICAgICAgICAgICAgICAgIHByaWNlOiBwcmljZSgzNSksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJzInOiB7XG4gICAgICAgICAgICAgICAgc2x1ZzogJzInLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnUEYyRS5XZWFwb25Qb3RlbmN5UnVuZTInLFxuICAgICAgICAgICAgICAgIGxldmVsOiAxMCxcbiAgICAgICAgICAgICAgICBwcmljZTogcHJpY2UoOTM1KSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnMyc6IHtcbiAgICAgICAgICAgICAgICBzbHVnOiAnMycsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdQRjJFLldlYXBvblBvdGVuY3lSdW5lMycsXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDE2LFxuICAgICAgICAgICAgICAgIHByaWNlOiBwcmljZSg4OTM1KSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnNCc6IHtcbiAgICAgICAgICAgICAgICBzbHVnOiAnNCcsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdQRjJFLldlYXBvblBvdGVuY3lSdW5lNCcsXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDI1LFxuICAgICAgICAgICAgICAgIHByaWNlOiBwcmljZSgwKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmRhbWVudGFsOiB7XG4gICAgICAgICAgICBbQ1JFQVRFX0tFWV9OT05FXToge1xuICAgICAgICAgICAgICAgIC4uLlJ1bmVOb25lLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0cmlraW5nOiB7XG4gICAgICAgICAgICAgICAgc2x1ZzogJ3N0cmlraW5nJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1BGMkUuQXJtb3JTdHJpa2luZ1J1bmUnLFxuICAgICAgICAgICAgICAgIHByaWNlOiBwcmljZSg2NSksXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ3JlYXRlclN0cmlraW5nOiB7XG4gICAgICAgICAgICAgICAgc2x1ZzogJ2dyZWF0ZXJTdHJpa2luZycsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdQRjJFLkFybW9yR3JlYXRlclN0cmlraW5nUnVuZScsXG4gICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlKDEwNjUpLFxuICAgICAgICAgICAgICAgIGxldmVsOiAxMixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtYWpvclN0cmlraW5nOiB7XG4gICAgICAgICAgICAgICAgc2x1ZzogJ21ham9yU3RyaWtpbmcnLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnUEYyRS5Bcm1vck1ham9yU3RyaWtpbmdSdW5lJyxcbiAgICAgICAgICAgICAgICBwcmljZTogcHJpY2UoMzEwNjUpLFxuICAgICAgICAgICAgICAgIGxldmVsOiAxOSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHByb3BlcnR5OiB7XG4gICAgICAgICAgICBbQ1JFQVRFX0tFWV9OT05FXToge1xuICAgICAgICAgICAgICAgIC4uLlJ1bmVOb25lLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFuYXJjaGljOiB7XG4gICAgICAgICAgICAgICAgc2x1ZzogJ2FuYXJjaGljJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1BGMkUuV2VhcG9uUHJvcGVydHlSdW5lQW5hcmNoaWMnLFxuICAgICAgICAgICAgICAgIHByaWNlOiBwcmljZSgxNDAwKSxcbiAgICAgICAgICAgICAgICBsZXZlbDogMTEsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYW5jZXN0cmFsRWNob2luZzoge1xuICAgICAgICAgICAgICAgIHNsdWc6ICdhbmNlc3RyYWxFY2hvaW5nJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1BGMkUuV2VhcG9uUHJvcGVydHlSdW5lQW5jZXN0cmFsRWNob2luZycsXG4gICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlKDk1MDApLFxuICAgICAgICAgICAgICAgIGxldmVsOiAxNSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBheGlvbWF0aWM6IHtcbiAgICAgICAgICAgICAgICBzbHVnOiAnYXhpb21hdGljJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1BGMkUuV2VhcG9uUHJvcGVydHlSdW5lQXhpb21hdGljJyxcbiAgICAgICAgICAgICAgICBwcmljZTogcHJpY2UoMTQwMCksXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDExLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJsb29kYmFuZToge1xuICAgICAgICAgICAgICAgIHNsdWc6ICdibG9vZGJhbmUnLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnUEYyRS5XZWFwb25Qcm9wZXJ0eVJ1bmVCbG9vZGJhbmUnLFxuICAgICAgICAgICAgICAgIHByaWNlOiBwcmljZSg0NzUpLFxuICAgICAgICAgICAgICAgIGxldmVsOiA4LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvcnJvc2l2ZToge1xuICAgICAgICAgICAgICAgIHNsdWc6ICdjb3Jyb3NpdmUnLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnUEYyRS5XZWFwb25Qcm9wZXJ0eVJ1bmVDb3Jyb3NpdmUnLFxuICAgICAgICAgICAgICAgIHByaWNlOiBwcmljZSg1MDApLFxuICAgICAgICAgICAgICAgIGxldmVsOiA4LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRhbmNpbmc6IHtcbiAgICAgICAgICAgICAgICBzbHVnOiAnZGFuY2luZycsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdQRjJFLldlYXBvblByb3BlcnR5UnVuZURhbmNpbmcnLFxuICAgICAgICAgICAgICAgIHByaWNlOiBwcmljZSgyNzAwKSxcbiAgICAgICAgICAgICAgICBsZXZlbDogMTMsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGlzcnVwdGluZzoge1xuICAgICAgICAgICAgICAgIHNsdWc6ICdkaXNydXB0aW5nJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1BGMkUuV2VhcG9uUHJvcGVydHlSdW5lRGlzcnVwdGluZycsXG4gICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlKDE1MCksXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmVhcnNvbWU6IHtcbiAgICAgICAgICAgICAgICBzbHVnOiAnZmVhcnNvbWUnLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnUEYyRS5XZWFwb25Qcm9wZXJ0eVJ1bmVGZWFyc29tZScsXG4gICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlKDE2MCksXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmxhbWluZzoge1xuICAgICAgICAgICAgICAgIHNsdWc6ICdmbGFtaW5nJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1BGMkUuV2VhcG9uUHJvcGVydHlSdW5lRmxhbWluZycsXG4gICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlKDUwMCksXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDgsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZnJvc3Q6IHtcbiAgICAgICAgICAgICAgICBzbHVnOiAnZnJvc3QnLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnUEYyRS5XZWFwb25Qcm9wZXJ0eVJ1bmVGcm9zdCcsXG4gICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlKDUwMCksXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDgsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2hvc3RUb3VjaDoge1xuICAgICAgICAgICAgICAgIHNsdWc6ICdnaG9zdFRvdWNoJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1BGMkUuV2VhcG9uUHJvcGVydHlSdW5lR2hvc3RUb3VjaCcsXG4gICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlKDc1KSxcbiAgICAgICAgICAgICAgICBsZXZlbDogNCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBncmVhdGVyQmxvb2RiYW5lOiB7XG4gICAgICAgICAgICAgICAgc2x1ZzogJ2dyZWF0ZXJCbG9vZGJhbmUnLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnUEYyRS5XZWFwb25Qcm9wZXJ0eVJ1bmVHcmVhdGVyQmxvb2RiYW5lJyxcbiAgICAgICAgICAgICAgICBwcmljZTogcHJpY2UoNjUwMCksXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDE1LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdyZWF0ZXJDb3Jyb3NpdmU6IHtcbiAgICAgICAgICAgICAgICBzbHVnOiAnZ3JlYXRlckNvcnJvc2l2ZScsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdQRjJFLldlYXBvblByb3BlcnR5UnVuZUdyZWF0ZXJDb3Jyb3NpdmUnLFxuICAgICAgICAgICAgICAgIHByaWNlOiBwcmljZSg2NTAwKSxcbiAgICAgICAgICAgICAgICBsZXZlbDogMTUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ3JlYXRlckRpc3J1cHRpbmc6IHtcbiAgICAgICAgICAgICAgICBzbHVnOiAnZ3JlYXRlckRpc3J1cHRpbmcnLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnUEYyRS5XZWFwb25Qcm9wZXJ0eVJ1bmVHcmVhdGVyRGlzcnVwdGluZycsXG4gICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlKDQzMDApLFxuICAgICAgICAgICAgICAgIGxldmVsOiAxNCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBncmVhdGVyRmVhcnNvbWU6IHtcbiAgICAgICAgICAgICAgICBzbHVnOiAnZ3JlYXRlckZlYXJzb21lJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1BGMkUuV2VhcG9uUHJvcGVydHlSdW5lR3JlYXRlckZlYXJzb21lJyxcbiAgICAgICAgICAgICAgICBwcmljZTogcHJpY2UoMjAwMCksXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDEyLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdyZWF0ZXJGbGFtaW5nOiB7XG4gICAgICAgICAgICAgICAgc2x1ZzogJ2dyZWF0ZXJGbGFtaW5nJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1BGMkUuV2VhcG9uUHJvcGVydHlSdW5lR3JlYXRlckZsYW1pbmcnLFxuICAgICAgICAgICAgICAgIHByaWNlOiBwcmljZSg2NTAwKSxcbiAgICAgICAgICAgICAgICBsZXZlbDogMTUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ3JlYXRlckZyb3N0OiB7XG4gICAgICAgICAgICAgICAgc2x1ZzogJ2dyZWF0ZXJGcm9zdCcsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdQRjJFLldlYXBvblByb3BlcnR5UnVuZUdyZWF0ZXJGcm9zdCcsXG4gICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlKDY1MDApLFxuICAgICAgICAgICAgICAgIGxldmVsOiAxNSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBncmVhdGVyU2hvY2s6IHtcbiAgICAgICAgICAgICAgICBzbHVnOiAnZ3JlYXRlclNob2NrJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1BGMkUuV2VhcG9uUHJvcGVydHlSdW5lR3JlYXRlclNob2NrJyxcbiAgICAgICAgICAgICAgICBwcmljZTogcHJpY2UoNjUwMCksXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDE1LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdyZWF0ZXJUaHVuZGVyaW5nOiB7XG4gICAgICAgICAgICAgICAgc2x1ZzogJ2dyZWF0ZXJUaHVuZGVyaW5nJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1BGMkUuV2VhcG9uUHJvcGVydHlSdW5lR3JlYXRlclRodW5kZXJpbmcnLFxuICAgICAgICAgICAgICAgIHByaWNlOiBwcmljZSg2NTAwKSxcbiAgICAgICAgICAgICAgICBsZXZlbDogMTUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ3JpZXZvdXM6IHtcbiAgICAgICAgICAgICAgICBzbHVnOiAnZ3JpZXZvdXMnLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnUEYyRS5XZWFwb25Qcm9wZXJ0eVJ1bmVHcmlldm91cycsXG4gICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlKDcwMCksXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaG9seToge1xuICAgICAgICAgICAgICAgIHNsdWc6ICdob2x5JyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1BGMkUuV2VhcG9uUHJvcGVydHlSdW5lSG9seScsXG4gICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlKDE0MDApLFxuICAgICAgICAgICAgICAgIGxldmVsOiAxMSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBrZWVuOiB7XG4gICAgICAgICAgICAgICAgc2x1ZzogJ2tlZW4nLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnUEYyRS5XZWFwb25Qcm9wZXJ0eVJ1bmVLZWVuJyxcbiAgICAgICAgICAgICAgICBwcmljZTogcHJpY2UoMzAwMCksXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDEzLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGtpbldhcmRpbmc6IHtcbiAgICAgICAgICAgICAgICBzbHVnOiAna2luV2FyZGluZycsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdQRjJFLldlYXBvblByb3BlcnR5UnVuZUtpbldhcmRpbmcnLFxuICAgICAgICAgICAgICAgIHByaWNlOiBwcmljZSg1MiksXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDMsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGFjaWZ5aW5nOiB7XG4gICAgICAgICAgICAgICAgc2x1ZzogJ3BhY2lmeWluZycsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdQRjJFLldlYXBvblByb3BlcnR5UnVuZVBhY2lmeWluZycsXG4gICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlKDE1MCksXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmV0dXJuaW5nOiB7XG4gICAgICAgICAgICAgICAgc2x1ZzogJ3JldHVybmluZycsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdQRjJFLldlYXBvblByb3BlcnR5UnVuZVJldHVybmluZycsXG4gICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlKDU1KSxcbiAgICAgICAgICAgICAgICBsZXZlbDogMyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXJyYXRpbmc6IHtcbiAgICAgICAgICAgICAgICBzbHVnOiAnc2VycmF0aW5nJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1BGMkUuV2VhcG9uUHJvcGVydHlSdW5lU2VycmF0aW5nJyxcbiAgICAgICAgICAgICAgICBwcmljZTogcHJpY2UoMTAwMCksXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDEwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNoaWZ0aW5nOiB7XG4gICAgICAgICAgICAgICAgc2x1ZzogJ3NoaWZ0aW5nJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1BGMkUuV2VhcG9uUHJvcGVydHlSdW5lU2hpZnRpbmcnLFxuICAgICAgICAgICAgICAgIHByaWNlOiBwcmljZSgyMjUpLFxuICAgICAgICAgICAgICAgIGxldmVsOiA2LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNob2NrOiB7XG4gICAgICAgICAgICAgICAgc2x1ZzogJ3Nob2NrJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1BGMkUuV2VhcG9uUHJvcGVydHlSdW5lU2hvY2snLFxuICAgICAgICAgICAgICAgIHByaWNlOiBwcmljZSg1MDApLFxuICAgICAgICAgICAgICAgIGxldmVsOiA4LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNwZWVkOiB7XG4gICAgICAgICAgICAgICAgc2x1ZzogJ3NwZWVkJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1BGMkUuV2VhcG9uUHJvcGVydHlSdW5lU3BlZWQnLFxuICAgICAgICAgICAgICAgIHByaWNlOiBwcmljZSgxMDAwMCksXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDE2LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNwZWxsU3RvcmluZzoge1xuICAgICAgICAgICAgICAgIHNsdWc6ICdzcGVsbFN0b3JpbmcnLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnUEYyRS5XZWFwb25Qcm9wZXJ0eVJ1bmVTcGVsbFN0b3JpbmcnLFxuICAgICAgICAgICAgICAgIHByaWNlOiBwcmljZSgyNzAwKSxcbiAgICAgICAgICAgICAgICBsZXZlbDogMTMsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGh1bmRlcmluZzoge1xuICAgICAgICAgICAgICAgIHNsdWc6ICd0aHVuZGVyaW5nJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1BGMkUuV2VhcG9uUHJvcGVydHlSdW5lVGh1bmRlcmluZycsXG4gICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlKDUwMCksXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDgsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdW5ob2x5OiB7XG4gICAgICAgICAgICAgICAgc2x1ZzogJ3VuaG9seScsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdQRjJFLldlYXBvblByb3BlcnR5UnVuZVVuaG9seScsXG4gICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlKDE0MDApLFxuICAgICAgICAgICAgICAgIGxldmVsOiAxMSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB2b3JwYWw6IHtcbiAgICAgICAgICAgICAgICBzbHVnOiAndm9ycGFsJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1BGMkUuV2VhcG9uUHJvcGVydHlSdW5lVm9ycGFsJyxcbiAgICAgICAgICAgICAgICBwcmljZTogcHJpY2UoMTUwMDApLFxuICAgICAgICAgICAgICAgIGxldmVsOiAxNyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB3b3VuZGluZzoge1xuICAgICAgICAgICAgICAgIHNsdWc6ICd3b3VuZGluZycsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdQRjJFLldlYXBvblByb3BlcnR5UnVuZVdvdW5kaW5nJyxcbiAgICAgICAgICAgICAgICBwcmljZTogcHJpY2UoMzQwKSxcbiAgICAgICAgICAgICAgICBsZXZlbDogNyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBbRXF1aXBtZW50VHlwZS5Bcm1vcl06IHtcbiAgICAgICAgcG90ZW5jeToge1xuICAgICAgICAgICAgJzAnOiB7XG4gICAgICAgICAgICAgICAgLi4uUnVuZU5vbmUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJzEnOiB7XG4gICAgICAgICAgICAgICAgc2x1ZzogJzEnLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnUEYyRS5Bcm1vclBvdGVuY3lSdW5lMScsXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDUsXG4gICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlKDE2MCksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJzInOiB7XG4gICAgICAgICAgICAgICAgc2x1ZzogJzInLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnUEYyRS5Bcm1vclBvdGVuY3lSdW5lMicsXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDExLFxuICAgICAgICAgICAgICAgIHByaWNlOiBwcmljZSgxMDYwKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnMyc6IHtcbiAgICAgICAgICAgICAgICBzbHVnOiAnMycsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdQRjJFLkFybW9yUG90ZW5jeVJ1bmUzJyxcbiAgICAgICAgICAgICAgICBsZXZlbDogMTgsXG4gICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlKDIwNTYwKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnNCc6IHtcbiAgICAgICAgICAgICAgICBzbHVnOiAnNCcsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdQRjJFLkFybW9yUG90ZW5jeVJ1bmU0JyxcbiAgICAgICAgICAgICAgICBsZXZlbDogMjUsXG4gICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlKDApLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgZnVuZGFtZW50YWw6IHtcbiAgICAgICAgICAgIFtDUkVBVEVfS0VZX05PTkVdOiB7XG4gICAgICAgICAgICAgICAgLi4uUnVuZU5vbmUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVzaWxpZW50OiB7XG4gICAgICAgICAgICAgICAgc2x1ZzogJ3Jlc2lsaWVudCcsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdQRjJFLkFybW9yUmVzaWxpZW50UnVuZScsXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDgsXG4gICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlKDM0MCksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ3JlYXRlclJlc2lsaWVudDoge1xuICAgICAgICAgICAgICAgIHNsdWc6ICdncmVhdGVyUmVzaWxpZW50JyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1BGMkUuQXJtb3JHcmVhdGVyUmVzaWxpZW50UnVuZScsXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDE0LFxuICAgICAgICAgICAgICAgIHByaWNlOiBwcmljZSgzNDQwKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtYWpvclJlc2lsaWVudDoge1xuICAgICAgICAgICAgICAgIHNsdWc6ICdtYWpvclJlc2lsaWVudCcsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdQRjJFLkFybW9yTWFqb3JSZXNpbGllbnRSdW5lJyxcbiAgICAgICAgICAgICAgICBsZXZlbDogMjAsXG4gICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlKDQ5NDQwKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHByb3BlcnR5OiB7XG4gICAgICAgICAgICBbQ1JFQVRFX0tFWV9OT05FXToge1xuICAgICAgICAgICAgICAgIC4uLlJ1bmVOb25lLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFjaWRSZXNpc3RhbnQ6IHtcbiAgICAgICAgICAgICAgICBzbHVnOiAnYWNpZFJlc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdQRjJFLkFybW9yUHJvcGVydHlSdW5lQWNpZFJlc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlKDQyMCksXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDgsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYW50aW1hZ2ljOiB7XG4gICAgICAgICAgICAgICAgc2x1ZzogJ2FudGltYWdpYycsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdQRjJFLkFybW9yUHJvcGVydHlSdW5lQW50aW1hZ2ljJyxcbiAgICAgICAgICAgICAgICBwcmljZTogcHJpY2UoNjUwMCksXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDE1LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbGRSZXNpc3RhbnQ6IHtcbiAgICAgICAgICAgICAgICBzbHVnOiAnY29sZFJlc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdQRjJFLkFybW9yUHJvcGVydHlSdW5lQ29sZFJlc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlKDQyMCksXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDgsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZWxlY3RyaWNpdHlSZXNpc3RhbnQ6IHtcbiAgICAgICAgICAgICAgICBzbHVnOiAnZWxlY3RyaWNpdHlSZXNpc3RhbnQnLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnUEYyRS5Bcm1vclByb3BlcnR5UnVuZUVsZWN0cmljaXR5UmVzaXN0YW50JyxcbiAgICAgICAgICAgICAgICBwcmljZTogcHJpY2UoNDIwKSxcbiAgICAgICAgICAgICAgICBsZXZlbDogOCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBldGhlcmVhbDoge1xuICAgICAgICAgICAgICAgIHNsdWc6ICdldGhlcmVhbCcsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdQRjJFLkFybW9yUHJvcGVydHlSdW5lRXRoZXJlYWwnLFxuICAgICAgICAgICAgICAgIHByaWNlOiBwcmljZSgxMzUwMCksXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDE3LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpcmVSZXNpc3RhbnQ6IHtcbiAgICAgICAgICAgICAgICBzbHVnOiAnZmlyZVJlc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdQRjJFLkFybW9yUHJvcGVydHlSdW5lRmlyZVJlc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlKDQyMCksXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDgsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZm9ydGlmaWNhdGlvbjoge1xuICAgICAgICAgICAgICAgIHNsdWc6ICdmb3J0aWZpY2F0aW9uJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1BGMkUuQXJtb3JQcm9wZXJ0eVJ1bmVGb3J0aWZpY2F0aW9uJyxcbiAgICAgICAgICAgICAgICBwcmljZTogcHJpY2UoMjAwMCksXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDEyLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdsYW1lcmVkOiB7XG4gICAgICAgICAgICAgICAgc2x1ZzogJ2dsYW1lcmVkJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1BGMkUuQXJtb3JQcm9wZXJ0eVJ1bmVHbGFtZXJlZCcsXG4gICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlKDE0MCksXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ3JlYXRlckFjaWRSZXNpc3RhbnQ6IHtcbiAgICAgICAgICAgICAgICBzbHVnOiAnZ3JlYXRlckFjaWRSZXNpc3RhbnQnLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnUEYyRS5Bcm1vclByb3BlcnR5UnVuZUdyZWF0ZXJBY2lkUmVzaXN0YW50JyxcbiAgICAgICAgICAgICAgICBwcmljZTogcHJpY2UoMTY1MCksXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDEyLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdyZWF0ZXJDb2xkUmVzaXN0YW50OiB7XG4gICAgICAgICAgICAgICAgc2x1ZzogJ2dyZWF0ZXJDb2xkUmVzaXN0YW50JyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1BGMkUuQXJtb3JQcm9wZXJ0eVJ1bmVHcmVhdGVyQ29sZFJlc2lzdGFudCcsXG4gICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlKDE2NTApLFxuICAgICAgICAgICAgICAgIGxldmVsOiAxMixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBncmVhdGVyRWxlY3RyaWNpdHlSZXNpc3RhbnQ6IHtcbiAgICAgICAgICAgICAgICBzbHVnOiAnZ3JlYXRlckVsZWN0cmljaXR5UmVzaXN0YW50JyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1BGMkUuQXJtb3JQcm9wZXJ0eVJ1bmVHcmVhdGVyRWxlY3RyaWNpdHlSZXNpc3RhbnQnLFxuICAgICAgICAgICAgICAgIHByaWNlOiBwcmljZSgxNjUwKSxcbiAgICAgICAgICAgICAgICBsZXZlbDogMTIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ3JlYXRlckZpcmVSZXNpc3RhbnQ6IHtcbiAgICAgICAgICAgICAgICBzbHVnOiAnZ3JlYXRlckZpcmVSZXNpc3RhbnQnLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnUEYyRS5Bcm1vclByb3BlcnR5UnVuZUdyZWF0ZXJGaXJlUmVzaXN0YW50JyxcbiAgICAgICAgICAgICAgICBwcmljZTogcHJpY2UoMTY1MCksXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDEyLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdyZWF0ZXJGb3J0aWZpY2F0aW9uOiB7XG4gICAgICAgICAgICAgICAgc2x1ZzogJ2dyZWF0ZXJGb3J0aWZpY2F0aW9uJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1BGMkUuQXJtb3JQcm9wZXJ0eVJ1bmVHcmVhdGVyRm9ydGlmaWNhdGlvbicsXG4gICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlKDI0MDAwKSxcbiAgICAgICAgICAgICAgICBsZXZlbDogMTgsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ3JlYXRlckludmlzaWJpbGl0eToge1xuICAgICAgICAgICAgICAgIHNsdWc6ICdncmVhdGVySW52aXNpYmlsaXR5JyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1BGMkUuQXJtb3JQcm9wZXJ0eVJ1bmVHcmVhdGVySW52aXNpYmlsaXR5JyxcbiAgICAgICAgICAgICAgICBwcmljZTogcHJpY2UoMTAwMCksXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDEwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdyZWF0ZXJSZWFkeToge1xuICAgICAgICAgICAgICAgIHNsdWc6ICdncmVhdGVyUmVhZHknLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnUEYyRS5Bcm1vclByb3BlcnR5UnVuZUdyZWF0ZXJSZWFkeScsXG4gICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlKDEyMDApLFxuICAgICAgICAgICAgICAgIGxldmVsOiAxMSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBncmVhdGVyU2hhZG93OiB7XG4gICAgICAgICAgICAgICAgc2x1ZzogJ2dyZWF0ZXJTaGFkb3cnLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnUEYyRS5Bcm1vclByb3BlcnR5UnVuZUdyZWF0ZXJTaGFkb3cnLFxuICAgICAgICAgICAgICAgIHByaWNlOiBwcmljZSg2NTApLFxuICAgICAgICAgICAgICAgIGxldmVsOiA5LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdyZWF0ZXJTbGljazoge1xuICAgICAgICAgICAgICAgIHNsdWc6ICdncmVhdGVyU2xpY2snLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnUEYyRS5Bcm1vclByb3BlcnR5UnVuZUdyZWF0ZXJTbGljaycsXG4gICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlKDQ1MCksXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDgsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ3JlYXRlcldpbmdlZDoge1xuICAgICAgICAgICAgICAgIHNsdWc6ICdncmVhdGVyV2luZ2VkJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1BGMkUuQXJtb3JQcm9wZXJ0eVJ1bmVHcmVhdGVyV2luZ2VkJyxcbiAgICAgICAgICAgICAgICBwcmljZTogcHJpY2UoMzUwMDApLFxuICAgICAgICAgICAgICAgIGxldmVsOiAxOSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbnZpc2liaWxpdHk6IHtcbiAgICAgICAgICAgICAgICBzbHVnOiAnaW52aXNpYmlsaXR5JyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1BGMkUuQXJtb3JQcm9wZXJ0eVJ1bmVJbnZpc2liaWxpdHknLFxuICAgICAgICAgICAgICAgIHByaWNlOiBwcmljZSg1MDApLFxuICAgICAgICAgICAgICAgIGxldmVsOiA4LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1ham9yU2hhZG93OiB7XG4gICAgICAgICAgICAgICAgc2x1ZzogJ21ham9yU2hhZG93JyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1BGMkUuQXJtb3JQcm9wZXJ0eVJ1bmVNYWpvclNoYWRvdycsXG4gICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlKDE0MDAwKSxcbiAgICAgICAgICAgICAgICBsZXZlbDogMTcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbWFqb3JTbGljazoge1xuICAgICAgICAgICAgICAgIHNsdWc6ICdtYWpvclNsaWNrJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1BGMkUuQXJtb3JQcm9wZXJ0eVJ1bmVNYWpvclNsaWNrJyxcbiAgICAgICAgICAgICAgICBwcmljZTogcHJpY2UoOTAwMCksXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDE2LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlYWR5OiB7XG4gICAgICAgICAgICAgICAgc2x1ZzogJ3JlYWR5JyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1BGMkUuQXJtb3JQcm9wZXJ0eVJ1bmVSZWFkeScsXG4gICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlKDIwMCksXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDYsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcm9ja0JyYWNlZDoge1xuICAgICAgICAgICAgICAgIHNsdWc6ICdyb2NrQnJhY2VkJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1BGMkUuQXJtb3JQcm9wZXJ0eVJ1bmVSb2NrQnJhY2VkJyxcbiAgICAgICAgICAgICAgICBwcmljZTogcHJpY2UoMzAwMCksXG4gICAgICAgICAgICAgICAgbGV2ZWw6IDEzLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNoYWRvdzoge1xuICAgICAgICAgICAgICAgIHNsdWc6ICdzaGFkb3cnLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnUEYyRS5Bcm1vclByb3BlcnR5UnVuZVNoYWRvdycsXG4gICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlKDU1KSxcbiAgICAgICAgICAgICAgICBsZXZlbDogMyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzaW5pc3RlcktuaWdodDoge1xuICAgICAgICAgICAgICAgIHNsdWc6ICdzaW5pc3RlcktuaWdodCcsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdQRjJFLkFybW9yUHJvcGVydHlSdW5lU2luaXN0ZXJLbmlnaHQnLFxuICAgICAgICAgICAgICAgIHByaWNlOiBwcmljZSg1MDApLFxuICAgICAgICAgICAgICAgIGxldmVsOiA4LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNsaWNrOiB7XG4gICAgICAgICAgICAgICAgc2x1ZzogJ3NsaWNrJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1BGMkUuQXJtb3JQcm9wZXJ0eVJ1bmVTbGljaycsXG4gICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlKDQ1KSxcbiAgICAgICAgICAgICAgICBsZXZlbDogMyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB3aW5nZWQ6IHtcbiAgICAgICAgICAgICAgICBzbHVnOiAnd2luZ2VkJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1BGMkUuQXJtb3JQcm9wZXJ0eVJ1bmVXaW5nZWQnLFxuICAgICAgICAgICAgICAgIHByaWNlOiBwcmljZSgyNTAwKSxcbiAgICAgICAgICAgICAgICBsZXZlbDogMTMsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0sXG5cbiAgICBbRXF1aXBtZW50VHlwZS5CdWNrbGVyXToge1xuICAgICAgICBmdW5kYW1lbnRhbDoge30sXG4gICAgICAgIHByb3BlcnR5OiB7fSxcbiAgICB9LFxuICAgIFtFcXVpcG1lbnRUeXBlLlNoaWVsZF06IHtcbiAgICAgICAgZnVuZGFtZW50YWw6IHt9LFxuICAgICAgICBwcm9wZXJ0eToge30sXG4gICAgfSxcbiAgICBbRXF1aXBtZW50VHlwZS5Ub3dlcl06IHtcbiAgICAgICAgZnVuZGFtZW50YWw6IHt9LFxuICAgICAgICBwcm9wZXJ0eToge30sXG4gICAgfSxcbn07XG5cbi8qKlxuICogR2V0IGFsbCB2YWxpZCBydW5lcyB0aGF0IGNvdWxkIGJlIHVzZWQgZm9yIHRoaXMgaXRlbS5cbiAqIEBwYXJhbSBpdGVtXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRWYWxpZFByb3BlcnR5UnVuZXMgPSAoaXRlbTogRXF1aXBtZW50SXRlbSk6IFBhcnRpYWw8UmVjb3JkPFByb3BlcnR5UnVuZVR5cGUsIElSdW5lPj4gPT4ge1xuICAgIGNvbnN0IGVxdWlwbWVudFR5cGUgPSBnZXRFcXVpcG1lbnRUeXBlKGl0ZW0pO1xuICAgIGlmICghZXF1aXBtZW50VHlwZSkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgcmV0dXJuIEl0ZW1SdW5lc1tlcXVpcG1lbnRUeXBlXVsncHJvcGVydHknXTtcbn07XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMjEgQW5kcmV3IEN1Y2NpbmVsbG9cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgU291cmNlVHlwZSwgVGFibGVTb3VyY2UsIEdlblR5cGUsIHRhYmxlU3RvcmVJZCwgb3JkaW5hbE51bWJlciB9IGZyb20gJy4vRGF0YVNvdXJjZSc7XG5pbXBvcnQgeyBJTmFtZWQgfSBmcm9tICcuL01peGlucyc7XG5pbXBvcnQgeyBSb2xsYWJsZVRhYmxlc1BhY2sgfSBmcm9tICcuL1JvbGxhYmxlVGFibGVzJztcblxuZXhwb3J0IGludGVyZmFjZSBDb25zdW1hYmxlU291cmNlIGV4dGVuZHMgVGFibGVTb3VyY2UsIElOYW1lZCB7fVxuXG5jb25zdCB0YWJsZUlkczogc3RyaW5nW10gPSBbXG4gICAgJ3RsWDVQTHdhcjhiMXRtaVEnLFxuICAgICdnMzBqWldDSkVpSzFSbElhJyxcbiAgICAnbURQTG9QWXd1UG8zbzBXaicsXG4gICAgJzBXcGtSRm04U3lmd1ZDUDYnLFxuICAgICd6Unl1TnNsYk96TjlvVzV1JyxcbiAgICAnQTY4QzlPMHZ0V2JGWGJmUycsXG4gICAgJ0U5Wk51cGcxcDR5THBmcmQnLFxuICAgICdVbUpHVVVnTjlUUXRGUURJJyxcbiAgICAnWEFKRlRwdW84cXJjVzMwUCcsXG4gICAgJ0FJQnZaekhpZFVYeFpmRUYnLFxuICAgICdDYTd2RDhQWnRNUHFWdUh1JyxcbiAgICAnNUhIcUxza0VuZmp4cGtDTycsXG4gICAgJ2F3ZlRRdmttN05yUmpSYVEnLFxuICAgICdWaHV1eTB2RkpWNXRZbGRSJyxcbiAgICAnQWY3YmVlRlpodHZEQVphTScsXG4gICAgJ2FvbUZTS2dHbDUyejd0ZFgnLFxuICAgICdZeVFrd2QxUGtzVTFMbm80JyxcbiAgICAnUFNzMzFYajVSZnN6TWJBZScsXG4gICAgJ3BIODVLVmwzMVZCZEVOdXknLFxuICAgICdudXN5b1FqTHMwWnhpZlJkJyxcbl07XG5jb25zdCBjb25zdW1hYmxlU291cmNlVGVtcGxhdGUgPSAobGV2ZWw6IG51bWJlcik6IENvbnN1bWFibGVTb3VyY2UgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkOiB0YWJsZUlkc1tsZXZlbF0sXG4gICAgICAgIHN0b3JlSWQ6IHRhYmxlU3RvcmVJZCh0YWJsZUlkc1tsZXZlbF0pLFxuICAgICAgICBuYW1lOiBgJHtvcmRpbmFsTnVtYmVyKGxldmVsICsgMSl9LUxldmVsYCxcbiAgICAgICAgdGFibGVTb3VyY2U6IFJvbGxhYmxlVGFibGVzUGFjayxcbiAgICAgICAgc291cmNlVHlwZTogU291cmNlVHlwZS5UYWJsZSxcbiAgICAgICAgaXRlbVR5cGU6IEdlblR5cGUuUGVybWFuZW50LFxuICAgICAgICB3ZWlnaHQ6IDEsXG4gICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBjb25zdW1hYmxlU291cmNlczogUmVjb3JkPHN0cmluZywgQ29uc3VtYWJsZVNvdXJjZT4gPSB0YWJsZUlkcy5yZWR1Y2UoXG4gICAgKHByZXYsIGN1cnIsIGluZHgpID0+XG4gICAgICAgIG1lcmdlT2JqZWN0KHByZXYsIHtcbiAgICAgICAgICAgIFt0YWJsZVN0b3JlSWQoY3VycildOiBjb25zdW1hYmxlU291cmNlVGVtcGxhdGUoaW5keCksXG4gICAgICAgIH0pLFxuICAgIHt9LFxuKTtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgMjAyMSBBbmRyZXcgQ3VjY2luZWxsb1xuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBJRW5hYmxlZCwgSVdlaWdodGVkIH0gZnJvbSAnLi9NaXhpbnMnO1xuaW1wb3J0IHsgUEYyRUl0ZW0gfSBmcm9tICcuLi8uLi8uLi90eXBlcy9QRjJFJztcblxuZXhwb3J0IGVudW0gU291cmNlVHlwZSB7XG4gICAgVGFibGUgPSAndGFibGUnLFxuICAgIFBhY2sgPSAncGFjaycsXG4gICAgUG9vbCA9ICdwb29sJyxcbn1cblxuZXhwb3J0IGVudW0gR2VuVHlwZSB7XG4gICAgVHJlYXN1cmUgPSAndHJlYXN1cmUnLFxuICAgIFBlcm1hbmVudCA9ICdwZXJtYW5lbnQnLFxuICAgIENvbnN1bWFibGUgPSAnY29uc3VtYWJsZScsXG4gICAgU3BlbGwgPSAnc3BlbGwnLFxufVxuXG5leHBvcnQgY29uc3QgdGFibGVTdG9yZUlkID0gKGlkOiBzdHJpbmcpID0+IGB0YWJsZS0ke2lkfWA7XG5leHBvcnQgY29uc3QgZmlsdGVyU3RvcmVJZCA9IChpZDogc3RyaW5nKSA9PiBgZmlsdGVyLSR7aWR9YDtcblxuZXhwb3J0IGludGVyZmFjZSBJU3RvcmFibGUge1xuICAgIGlkOiBzdHJpbmcgfCBudWxsO1xuICAgIHN0b3JlSWQ6IHN0cmluZyB8IG51bGw7XG59XG5leHBvcnQgaW50ZXJmYWNlIERhdGFTb3VyY2UgZXh0ZW5kcyBJU3RvcmFibGUsIElXZWlnaHRlZCwgSUVuYWJsZWQge1xuICAgIGlkOiBzdHJpbmcgfCBudWxsO1xuICAgIHNvdXJjZVR5cGU6IFNvdXJjZVR5cGU7XG4gICAgaXRlbVR5cGU/OiBHZW5UeXBlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRhYmxlU291cmNlIGV4dGVuZHMgRGF0YVNvdXJjZSB7XG4gICAgLy8gaWQgaXMgdGFibGUgaWQgaW4gdGhpcyBjYXNlXG4gICAgaWQ6IHN0cmluZztcbiAgICBzb3VyY2VUeXBlOiBTb3VyY2VUeXBlLlRhYmxlO1xuICAgIC8vIFdoZXJlIHRvIGZpbmQgdGhlIHRhYmxlLlxuICAgIHRhYmxlU291cmNlOiBQYWNrU291cmNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzVGFibGVTb3VyY2Uoc291cmNlOiBEYXRhU291cmNlKTogc291cmNlIGlzIFRhYmxlU291cmNlIHtcbiAgICByZXR1cm4gc291cmNlLnNvdXJjZVR5cGUgPT09IFNvdXJjZVR5cGUuVGFibGU7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VGFibGVTb3VyY2VUYWJsZShzb3VyY2U6IFRhYmxlU291cmNlKTogUHJvbWlzZTxSb2xsVGFibGU+IHtcbiAgICByZXR1cm4gYXdhaXQgZ2V0RnJvbVBhY2tTb3VyY2Uoc291cmNlLnRhYmxlU291cmNlLCBzb3VyY2UuaWQpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBhY2tTb3VyY2UgZXh0ZW5kcyBEYXRhU291cmNlIHtcbiAgICAvLyBpZCBpcyBjb21wZW5kaXVtIHBhY2sgaWQgaW4gdGhpcyBjYXNlXG4gICAgaWQ6IHN0cmluZztcbiAgICBzb3VyY2VUeXBlOiBTb3VyY2VUeXBlLlBhY2s7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNQYWNrU291cmNlKHNvdXJjZTogRGF0YVNvdXJjZSk6IHNvdXJjZSBpcyBQYWNrU291cmNlIHtcbiAgICByZXR1cm4gc291cmNlLnNvdXJjZVR5cGUgPT09IFNvdXJjZVR5cGUuUGFjaztcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYWNrKHNvdXJjZTogUGFja1NvdXJjZSkge1xuICAgIHJldHVybiBnYW1lLnBhY2tzLmdldChzb3VyY2UuaWQpO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEZyb21QYWNrU291cmNlPFRSZXN1bHQgPSBQRjJFSXRlbT4oc291cmNlOiBQYWNrU291cmNlLCBkb2N1bWVudElkOiBzdHJpbmcpOiBQcm9taXNlPFRSZXN1bHQ+IHtcbiAgICBjb25zdCBwYWNrID0gZ2FtZS5wYWNrcy5nZXQoc291cmNlLmlkKTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcmV0dXJuIGF3YWl0IHBhY2suZ2V0RG9jdW1lbnQoZG9jdW1lbnRJZCk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UGFja1NvdXJjZUNvbnRlbnRzKHNvdXJjZTogUGFja1NvdXJjZSk6IFByb21pc2U8UEYyRUl0ZW1bXT4ge1xuICAgIGNvbnN0IHBhY2sgPSBnYW1lLnBhY2tzLmdldChzb3VyY2UuaWQpO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICByZXR1cm4gYXdhaXQgcGFjay5nZXREb2N1bWVudHMoKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQb29sU291cmNlIGV4dGVuZHMgRGF0YVNvdXJjZSB7XG4gICAgLy8gaWQgd2lsbCBiZSBudWxsIGluIHRoaXMgY2FzZVxuICAgIGlkOiBudWxsO1xuICAgIHNvdXJjZVR5cGU6IFNvdXJjZVR5cGUuUG9vbDtcbiAgICBlbGVtZW50czogUEYyRUl0ZW1bXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1Bvb2xTb3VyY2Uoc291cmNlOiBEYXRhU291cmNlKTogc291cmNlIGlzIFBvb2xTb3VyY2Uge1xuICAgIHJldHVybiBzb3VyY2Uuc291cmNlVHlwZSA9PT0gU291cmNlVHlwZS5Qb29sO1xufVxuXG5leHBvcnQgdHlwZSBGaWx0ZXJlZFNvdXJjZTxUU291cmNlIGV4dGVuZHMgRGF0YVNvdXJjZSwgVEl0ZW0gZXh0ZW5kcyBQRjJFSXRlbSA9IFBGMkVJdGVtPiA9IFRTb3VyY2UgJiB7XG4gICAgZ2V0RmlsdGVyZWQ6IChzb3VyY2U6IFRTb3VyY2UpID0+IFByb21pc2U8VEl0ZW1bXT47XG59O1xuXG4vKipcbiAqIENvbnZlcnQgYSBudW1iZXIgdG8gYW4gb3JkaW5hbCBzdHJpbmcgKDFzdCwgMm5kLCAzcmQuLi4pXG4gKiBAcGFyYW0gbiBUaGUgbnVtYmVyIHRvIGNvbnZlcnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvcmRpbmFsTnVtYmVyKG46IG51bWJlcik6IHN0cmluZyB7XG4gICAgY29uc3Qgc3VmZml4ZXMgPSBbJ3RoJywgJ3N0JywgJ25kJywgJ3JkJ107XG4gICAgY29uc3QgaW5kZXggPSBuICUgMTAwO1xuICAgIGNvbnN0IG9yZGluYWwgPSBzdWZmaXhlc1soaW5kZXggLSAyMCkgJSAxMF0gfHwgc3VmZml4ZXNbaW5kZXhdIHx8IHN1ZmZpeGVzWzBdO1xuICAgIHJldHVybiBgJHtufSR7b3JkaW5hbH1gO1xufVxuIiwiLypcbiAqIENvcHlyaWdodCAyMDIxIEFuZHJldyBDdWNjaW5lbGxvXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICpcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFNvdXJjZVR5cGUsIFRhYmxlU291cmNlLCBHZW5UeXBlLCB0YWJsZVN0b3JlSWQsIG9yZGluYWxOdW1iZXIgfSBmcm9tICcuL0RhdGFTb3VyY2UnO1xuaW1wb3J0IHsgSU5hbWVkIH0gZnJvbSAnLi9NaXhpbnMnO1xuaW1wb3J0IHsgUm9sbGFibGVUYWJsZXNQYWNrIH0gZnJvbSAnLi9Sb2xsYWJsZVRhYmxlcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGVybWFuZW50U291cmNlIGV4dGVuZHMgVGFibGVTb3VyY2UsIElOYW1lZCB7fVxuXG4vLyBjb25zdCBsZXZlbGVkU291cmNlcyA9IFsnJywgJycsICcnLCAnJywgJycsICcnLCAnJywgJycsICcnLCAnJywgJycsICcnLCAnJywgJycsICcnLCAnJywgJycsICcnLCAnJywgJyddO1xuLy8gb3JkZXJlZCAxc3QgdGhyb3VnaCAyMHRoIGxldmVsXG5jb25zdCB0YWJsZUlkczogc3RyaW5nW10gPSBbXG4gICAgJ0p5RG4xM29jME1kTGpweXcnLFxuICAgICdxNmhoR1lTZWUzNVh4S0U4JyxcbiAgICAnT3cyem9SVVNYMHM3SmpNbycsXG4gICAgJ2swQWwyUEpuaTJOVHRkSVknLFxuICAgICdrNWJHMzc1NzBCYmZseFIyJyxcbiAgICAnOXhvbDdGZENmYVU1ODVXUicsXG4gICAgJ3I4RjhtSTJCWlU2bk9NUUInLFxuICAgICdRb0VrUm90ZUtKd0hIVlJkJyxcbiAgICAnQUpPWWVlZUYzRThVQzdLRicsXG4gICAgJ1cwcXVkYmxvdDJaOVZ1ODYnLFxuICAgICdvb2Q1NTJIQjFvblNkSkZTJyxcbiAgICAndXprbXhSSW40Q3R6ZlA0NycsXG4gICAgJ2VvN2tqTTh4djZLRDVoNXEnLFxuICAgICdjQnBGb0JVTlNBcGt2UDZMJyxcbiAgICAnWDJRa2duWXJkYTRtVjV2MycsXG4gICAgJ0o3WGZlVnJmVWo3MklrUlknLFxuICAgICcwamxHbXduNllHcXNmRzFxJyxcbiAgICAnNkZtaExMWUg5NHhodWNJcycsXG4gICAgJ2drZEI0NVFDMHUxV2VpUkEnLFxuICAgICdOT2tvYk9HaTBucXNib0hJJyxcbl07XG5jb25zdCBwZXJtYW5lbnRTb3VyY2VUZW1wbGF0ZSA9IChsZXZlbDogbnVtYmVyKTogUGVybWFuZW50U291cmNlID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpZDogdGFibGVJZHNbbGV2ZWxdLFxuICAgICAgICBzdG9yZUlkOiB0YWJsZVN0b3JlSWQodGFibGVJZHNbbGV2ZWxdKSxcbiAgICAgICAgbmFtZTogYCR7b3JkaW5hbE51bWJlcihsZXZlbCArIDEpfS1MZXZlbGAsXG4gICAgICAgIHRhYmxlU291cmNlOiBSb2xsYWJsZVRhYmxlc1BhY2ssXG4gICAgICAgIHNvdXJjZVR5cGU6IFNvdXJjZVR5cGUuVGFibGUsXG4gICAgICAgIGl0ZW1UeXBlOiBHZW5UeXBlLlBlcm1hbmVudCxcbiAgICAgICAgd2VpZ2h0OiAxLFxuICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgIH07XG59O1xuXG5leHBvcnQgY29uc3QgcGVybWFuZW50U291cmNlczogUmVjb3JkPHN0cmluZywgUGVybWFuZW50U291cmNlPiA9IHRhYmxlSWRzLnJlZHVjZShcbiAgICAocHJldiwgY3VyciwgaW5keCkgPT5cbiAgICAgICAgbWVyZ2VPYmplY3QocHJldiwge1xuICAgICAgICAgICAgW3RhYmxlU3RvcmVJZChjdXJyKV06IHBlcm1hbmVudFNvdXJjZVRlbXBsYXRlKGluZHgpLFxuICAgICAgICB9KSxcbiAgICB7fSxcbik7XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMjEgQW5kcmV3IEN1Y2NpbmVsbG9cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgSU5hbWVkIH0gZnJvbSAnLi9NaXhpbnMnO1xuaW1wb3J0IHsgUGFja1NvdXJjZSwgU291cmNlVHlwZSwgdGFibGVTdG9yZUlkIH0gZnJvbSAnLi9EYXRhU291cmNlJztcblxuZXhwb3J0IGludGVyZmFjZSBSb2xsYWJsZVRhYmxlU291cmNlIGV4dGVuZHMgUGFja1NvdXJjZSwgSU5hbWVkIHt9XG5cbmV4cG9ydCBjb25zdCBSb2xsYWJsZVRhYmxlc1BhY2s6IFJvbGxhYmxlVGFibGVTb3VyY2UgPSB7XG4gICAgaWQ6ICdwZjJlLnJvbGxhYmxlLXRhYmxlcycsXG4gICAgc3RvcmVJZDogdGFibGVTdG9yZUlkKCdyb2xsYWJsZS10YWJsZXMnKSxcbiAgICBuYW1lOiAnUm9sbGFibGUgVGFibGVzJyxcbiAgICBzb3VyY2VUeXBlOiBTb3VyY2VUeXBlLlBhY2ssXG4gICAgd2VpZ2h0OiAxLFxuICAgIGVuYWJsZWQ6IHRydWUsXG59O1xuIiwiLypcbiAqIENvcHlyaWdodCAyMDIxIEFuZHJldyBDdWNjaW5lbGxvXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICpcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFBhY2tTb3VyY2UsIFNvdXJjZVR5cGUsIEdlblR5cGUsIHRhYmxlU3RvcmVJZH0gZnJvbSAnLi9EYXRhU291cmNlJztcbmltcG9ydCB7IElOYW1lZCB9IGZyb20gJy4vTWl4aW5zJztcblxuZXhwb3J0IGVudW0gU3BlbGxTY2hvb2wge1xuICAgIEFianVyYXRpb24gPSAnYWJqdXJhdGlvbicsXG4gICAgQ29uanVyYXRpb24gPSAnY29uanVyYXRpb24nLFxuICAgIERpdmluYXRpb24gPSAnZGl2aW5hdGlvbicsXG4gICAgRW5jaGFudG1lbnQgPSAnZW5jaGFudG1lbnQnLFxuICAgIEV2b2NhdGlvbiA9ICdldm9jYXRpb24nLFxuICAgIElsbHVzaW9uID0gJ2lsbHVzaW9uJyxcbiAgICBOZWNyb21hbmN5ID0gJ25lY3JvbWFuY3knLFxuICAgIFRyYW5zbXV0YXRpb24gPSAndHJhbnNtdXRhdGlvbicsXG59XG5cbmV4cG9ydCBlbnVtIFNwZWxsSXRlbVR5cGUge1xuICAgIFdhbmQgPSAnd2FuZCcsXG4gICAgU2Nyb2xsID0gJ3Njcm9sbCcsXG59XG5cbmV4cG9ydCBlbnVtIFNwZWxsVHJhZGl0aW9uIHtcbiAgICBBcmNhbmUgPSAnYXJjYW5lJyxcbiAgICBEaXZpbmUgPSAnZGl2aW5lJyxcbiAgICBQcmltYWwgPSAncHJpbWFsJyxcbiAgICBPY2N1bHQgPSAnb2NjdWx0Jyxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTcGVsbFNvdXJjZSBleHRlbmRzIFBhY2tTb3VyY2UsIElOYW1lZCB7fVxuXG5leHBvcnQgY29uc3Qgc3BlbGxTb3VyY2VzOiBSZWNvcmQ8c3RyaW5nLCBTcGVsbFNvdXJjZT4gPSB7XG4gICAgJ3NwZWxscy1zcmQnOiB7XG4gICAgICAgIGlkOiAncGYyZS5zcGVsbHMtc3JkJyxcbiAgICAgICAgc3RvcmVJZDogdGFibGVTdG9yZUlkKCdzcGVsbHMtc3JkJyksXG4gICAgICAgIG5hbWU6ICdTUkQgU3BlbGxzJyxcbiAgICAgICAgc291cmNlVHlwZTogU291cmNlVHlwZS5QYWNrLFxuICAgICAgICBpdGVtVHlwZTogR2VuVHlwZS5TcGVsbCxcbiAgICAgICAgd2VpZ2h0OiAxLFxuICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgIH0sXG59O1xuXG5leHBvcnQgY29uc3QgVEVNUExBVEVfUEFDS19JRCA9ICdwZjJlLmVxdWlwbWVudC1zcmQnO1xuXG5leHBvcnQgY29uc3Qgc2Nyb2xsVGVtcGxhdGVJZHMgPSB7XG4gICAgMTogJ1JqdXVwUzl4eVhETGd5SXInLFxuICAgIDI6ICdZN1VENjRmb0RiRE1WOXN4JyxcbiAgICAzOiAnWm1lZkdCWEdKRjNDRkRibicsXG4gICAgNDogJ1FTUVpKNUJDM0RlSHYxNTMnLFxuICAgIDU6ICd0akx2UldrbEF5bEZoQkhRJyxcbiAgICA2OiAnNHNHSXk3N0NPb294aFF1QycsXG4gICAgNzogJ2ZvbUVaWjRNeFZWSzN1VnUnLFxuICAgIDg6ICdpUGtpM3l1b3Vjbmo3Ykl0JyxcbiAgICA5OiAnY0ZIb21GM3R0eThXaTFlNScsXG4gICAgMTA6ICdvMVhJSEo0TUp5cm9BSGZGJyxcbn07XG5leHBvcnQgY29uc3Qgd2FuZFRlbXBsYXRlSWRzID0ge1xuICAgIDE6ICdVSldpTjBLM2pxVmp4dktrJyxcbiAgICAyOiAndkpaNDljZ2k4c3p1UVhBRCcsXG4gICAgMzogJ3dyRG1Xa0d4bXd6WXRmaUEnLFxuICAgIDQ6ICdTbjd2OVNzYkVETVVJd3JPJyxcbiAgICA1OiAnNUJGN3pNbnJQWXp5aWdDcycsXG4gICAgNjogJ2tpWGg0U1VXS3IxNjZaZU0nLFxuICAgIDc6ICdubVhQajl6dU1SUUJOVDYwJyxcbiAgICA4OiAnUXM4UmdOSDZ0aFJQdjJqdCcsXG4gICAgOTogJ0ZndjcyMjAzOVRWTTVKVGMnLFxufTtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgMjAyMSBBbmRyZXcgQ3VjY2luZWxsb1xuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBEYXRhU291cmNlLCBpc1RhYmxlU291cmNlLCBHZW5UeXBlLCBTb3VyY2VUeXBlLCBUYWJsZVNvdXJjZSwgdGFibGVTdG9yZUlkIH0gZnJvbSAnLi9EYXRhU291cmNlJztcbmltcG9ydCB7IElOYW1lZCB9IGZyb20gJy4vTWl4aW5zJztcbmltcG9ydCB7IFJvbGxhYmxlVGFibGVzUGFjayB9IGZyb20gJy4vUm9sbGFibGVUYWJsZXMnO1xuXG5leHBvcnQgZW51bSBEZW5vbWluYXRpb24ge1xuICAgIENvcHBlciA9ICdjcCcsXG4gICAgU2lsdmVyID0gJ3NwJyxcbiAgICBHb2xkID0gJ2dwJyxcbiAgICBQbGF0aW51bSA9ICdwcCcsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHJlYXN1cmVTb3VyY2UgZXh0ZW5kcyBUYWJsZVNvdXJjZSwgSU5hbWVkIHtcbiAgICB2YWx1ZTogc3RyaW5nO1xuICAgIGRlbm9taW5hdGlvbjogRGVub21pbmF0aW9uO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzVHJlYXN1cmVTb3VyY2Uoc291cmNlOiBEYXRhU291cmNlKTogc291cmNlIGlzIFRyZWFzdXJlU291cmNlIHtcbiAgICByZXR1cm4gaXNUYWJsZVNvdXJjZShzb3VyY2UpICYmIHNvdXJjZS5oYXNPd25Qcm9wZXJ0eSgndmFsdWUnKTtcbn1cblxudHlwZSBVbmlxdWVUYWJsZURhdGEgPSB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgdmFsdWU6IHN0cmluZztcbiAgICBkZW5vbWluYXRpb246IERlbm9taW5hdGlvbjtcbn07XG5cbmNvbnN0IHNlbWlwcmVjaW91c1RhYmxlczogVW5pcXVlVGFibGVEYXRhW10gPSBbXG4gICAge1xuICAgICAgICBpZDogJ3VjVHRXQlBYVmlJVEk4d3InLFxuICAgICAgICBuYW1lOiAnTGVzc2VyIFNlbWlwcmVjaW91cyBTdG9uZXMnLFxuICAgICAgICB2YWx1ZTogJzFkNCo1JyxcbiAgICAgICAgZGVub21pbmF0aW9uOiBEZW5vbWluYXRpb24uU2lsdmVyLFxuICAgIH0sXG4gICAge1xuICAgICAgICBpZDogJ21DenVpcGVwSkFKY3VZMEgnLFxuICAgICAgICBuYW1lOiAnTW9kZXJhdGUgU2VtaXByZWNpb3VzIFN0b25lcycsXG4gICAgICAgIHZhbHVlOiAnMWQ0KjI1JyxcbiAgICAgICAgZGVub21pbmF0aW9uOiBEZW5vbWluYXRpb24uU2lsdmVyLFxuICAgIH0sXG4gICAge1xuICAgICAgICBpZDogJ1AzSHpKdFMyaVVVV01lZEonLFxuICAgICAgICBuYW1lOiAnR3JlYXRlciBTZW1pcHJlY2lvdXMgU3RvbmVzJyxcbiAgICAgICAgdmFsdWU6ICcxZDQqNScsXG4gICAgICAgIGRlbm9taW5hdGlvbjogRGVub21pbmF0aW9uLkdvbGQsXG4gICAgfSxcbl07XG5jb25zdCBwcmVjaW91c1RhYmxlczogVW5pcXVlVGFibGVEYXRhW10gPSBbXG4gICAge1xuICAgICAgICBpZDogJ1pDWUFRcGxtNnpPUmo2ZU4nLFxuICAgICAgICBuYW1lOiAnTGVzc2VyIFByZWNpb3VzIFN0b25lcycsXG4gICAgICAgIHZhbHVlOiAnMWQ0KjUwJyxcbiAgICAgICAgZGVub21pbmF0aW9uOiBEZW5vbWluYXRpb24uR29sZCxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgaWQ6ICd3Q1hQaDNuZnQzcVd1eHJvJyxcbiAgICAgICAgbmFtZTogJ01vZGVyYXRlIFByZWNpb3VzIFN0b25lcycsXG4gICAgICAgIHZhbHVlOiAnMWQ0KjEwMCcsXG4gICAgICAgIGRlbm9taW5hdGlvbjogRGVub21pbmF0aW9uLkdvbGQsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGlkOiAndGVaQ3JGMlNPZ2h1c2FyYicsXG4gICAgICAgIG5hbWU6ICdHcmVhdGVyIFByZWNpb3VzIFN0b25lcycsXG4gICAgICAgIHZhbHVlOiAnMWQ0KjUwMCcsXG4gICAgICAgIGRlbm9taW5hdGlvbjogRGVub21pbmF0aW9uLkdvbGQsXG4gICAgfSxcbl07XG5jb25zdCBhcnRUYWJsZXM6IFVuaXF1ZVRhYmxlRGF0YVtdID0gW1xuICAgIHtcbiAgICAgICAgaWQ6ICdNRTM3Y2lzRHo4SjJtMEg3JyxcbiAgICAgICAgbmFtZTogJ01pbm9yIEFydCBPYmplY3QnLFxuICAgICAgICB2YWx1ZTogJzFkNCoxJyxcbiAgICAgICAgZGVub21pbmF0aW9uOiBEZW5vbWluYXRpb24uR29sZCxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgaWQ6ICd6eVhiblRuVUdzN3RXUjVqJyxcbiAgICAgICAgbmFtZTogJ0xlc3NlciBBcnQgT2JqZWN0JyxcbiAgICAgICAgdmFsdWU6ICcxZDQqMTAnLFxuICAgICAgICBkZW5vbWluYXRpb246IERlbm9taW5hdGlvbi5Hb2xkLFxuICAgIH0sXG4gICAge1xuICAgICAgICBpZDogJ2JDRDA3VzM4WWpibnlWb1onLFxuICAgICAgICBuYW1lOiAnTW9kZXJhdGUgQXJ0IE9iamVjdCcsXG4gICAgICAgIHZhbHVlOiAnMWQ0KjI1JyxcbiAgICAgICAgZGVub21pbmF0aW9uOiBEZW5vbWluYXRpb24uR29sZCxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgaWQ6ICdxbXhHZnhrTXA5dkNPdE5RJyxcbiAgICAgICAgbmFtZTogJ0dyZWF0ZXIgQXJ0IE9iamVjdCcsXG4gICAgICAgIHZhbHVlOiAnMWQ0KjI1MCcsXG4gICAgICAgIGRlbm9taW5hdGlvbjogRGVub21pbmF0aW9uLkdvbGQsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGlkOiAnaFRCVFVmOWRtaERrcElvOCcsXG4gICAgICAgIG5hbWU6ICdNYWpvciBBcnQgT2JqZWN0JyxcbiAgICAgICAgdmFsdWU6ICcxZDQqMTAwMCcsXG4gICAgICAgIGRlbm9taW5hdGlvbjogRGVub21pbmF0aW9uLkdvbGQsXG4gICAgfSxcbl07XG5cbmNvbnN0IHZhbHVlTXVsdGlwbGllciA9IChzb3VyY2U6IFVuaXF1ZVRhYmxlRGF0YSk6IG51bWJlciA9PiB7XG4gICAgLy8gVE9ETzogU2VsZWN0IHZhbHVlIHdpdGggYSByZWdleCB0byBhdm9pZCBlcnJvcnMgd2l0aCB2YWx1ZXMgb3RoZXIgdGhhbiAxZDQqblxuICAgIGxldCB2YWx1ZSA9IHBhcnNlSW50KHNvdXJjZS52YWx1ZS5zdWJzdHIoJzFkNConLmxlbmd0aCkpO1xuICAgIHN3aXRjaCAoc291cmNlLmRlbm9taW5hdGlvbikge1xuICAgICAgICBjYXNlIERlbm9taW5hdGlvbi5Db3BwZXI6XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUgLyAxMDA7XG4gICAgICAgIGNhc2UgRGVub21pbmF0aW9uLlNpbHZlcjpcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSAvIDEwO1xuICAgICAgICBjYXNlIERlbm9taW5hdGlvbi5Hb2xkOlxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICBjYXNlIERlbm9taW5hdGlvbi5QbGF0aW51bTpcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSAqIDEwO1xuICAgIH1cbn07XG5jb25zdCB0YWJsZUlkczogVW5pcXVlVGFibGVEYXRhW10gPSBbLi4uc2VtaXByZWNpb3VzVGFibGVzLCAuLi5wcmVjaW91c1RhYmxlcywgLi4uYXJ0VGFibGVzXS5zb3J0KChhLCBiKSA9PiB2YWx1ZU11bHRpcGxpZXIoYSkgLSB2YWx1ZU11bHRpcGxpZXIoYikpO1xuXG5jb25zdCB0cmVhc3VyZVNvdXJjZVRlbXBsYXRlID0gKGRhdGE6IFVuaXF1ZVRhYmxlRGF0YSk6IFRyZWFzdXJlU291cmNlID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpZDogZGF0YS5pZCxcbiAgICAgICAgc3RvcmVJZDogdGFibGVTdG9yZUlkKGRhdGEuaWQpLFxuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICAgIHZhbHVlOiBkYXRhLnZhbHVlLFxuICAgICAgICBkZW5vbWluYXRpb246IGRhdGEuZGVub21pbmF0aW9uLFxuXG4gICAgICAgIHRhYmxlU291cmNlOiBSb2xsYWJsZVRhYmxlc1BhY2ssXG4gICAgICAgIHNvdXJjZVR5cGU6IFNvdXJjZVR5cGUuVGFibGUsXG4gICAgICAgIGl0ZW1UeXBlOiBHZW5UeXBlLlBlcm1hbmVudCxcbiAgICAgICAgd2VpZ2h0OiAxLFxuICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgIH07XG59O1xuXG5leHBvcnQgY29uc3QgdHJlYXN1cmVTb3VyY2VzOiBSZWNvcmQ8c3RyaW5nLCBUcmVhc3VyZVNvdXJjZT4gPSB0YWJsZUlkcy5yZWR1Y2UoXG4gICAgKHByZXYsIGN1cnIpID0+XG4gICAgICAgIG1lcmdlT2JqZWN0KHByZXYsIHtcbiAgICAgICAgICAgIFt0YWJsZVN0b3JlSWQoY3Vyci5pZCldOiB0cmVhc3VyZVNvdXJjZVRlbXBsYXRlKGN1cnIpLFxuICAgICAgICB9KSxcbiAgICB7fSxcbik7XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMjEgQW5kcmV3IEN1Y2NpbmVsbG9cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgU3BlbGxTY2hvb2wsIFNwZWxsVHJhZGl0aW9uIH0gZnJvbSAnLi4vbW9kdWxlL2xvb3QtYXBwL3NvdXJjZS9TcGVsbHMnO1xuaW1wb3J0IHsgUG90ZW5jeVJ1bmVUeXBlIH0gZnJvbSAnLi4vbW9kdWxlL2xvb3QtYXBwL2RhdGEvUnVuZXMnO1xuXG5kZWNsYXJlIGdsb2JhbCB7XG4gICAgaW50ZXJmYWNlIENPTkZJRyB7XG4gICAgICAgIFBGMkU6IHtcbiAgICAgICAgICAgIHByZWNpb3VzTWF0ZXJpYWxzOiB7XG4gICAgICAgICAgICAgICAgW1QgaW4gUHJlY2lvdXNNYXRlcmlhbFR5cGVdOiBzdHJpbmc7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcHJlY2lvdXNNYXRlcmlhbEdyYWRlczoge1xuICAgICAgICAgICAgICAgIFtUIGluIFByZWNpb3VzTWF0ZXJpYWxHcmFkZV06IHN0cmluZztcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3ZWFwb25TdHJpa2luZ1J1bmVzOiB7XG4gICAgICAgICAgICAgICAgW1QgaW4gU3RyaWtpbmdSdW5lVHlwZV06IHN0cmluZztcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBhcm1vclJlc2lsaWVuY3lSdW5lczoge1xuICAgICAgICAgICAgICAgIFtUIGluIFJlc2lsaWVuY3lSdW5lVHlwZV06IHN0cmluZztcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3ZWFwb25Qb3RlbmN5UnVuZXM6IHtcbiAgICAgICAgICAgICAgICBbVCBpbiBaZXJvVG9Gb3VyXTogc3RyaW5nO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGFybW9yUG90ZW5jeVJ1bmVzOiB7XG4gICAgICAgICAgICAgICAgW1QgaW4gWmVyb1RvRm91cl06IHN0cmluZztcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3ZWFwb25Qcm9wZXJ0eVJ1bmVzOiB7XG4gICAgICAgICAgICAgICAgW1QgaW4gV2VhcG9uUHJvcGVydHlSdW5lVHlwZV06IHN0cmluZztcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBhcm1vclByb3BlcnR5UnVuZXM6IHtcbiAgICAgICAgICAgICAgICBbVCBpbiBBcm1vclByb3BlcnR5UnVuZVR5cGVdOiBzdHJpbmc7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgIH1cbn1cblxuZXhwb3J0IHR5cGUgSFRNTEl0ZW1TdHJpbmcgPSBgQEl0ZW1bJHtzdHJpbmd9XWAgfCBgQEl0ZW1bJHtzdHJpbmd9XXske3N0cmluZ319YDtcblxuZXhwb3J0IGVudW0gUmFyaXR5IHtcbiAgICBDb21tb24gPSAnY29tbW9uJyxcbiAgICBVbmNvbW1vbiA9ICd1bmNvbW1vbicsXG4gICAgUmFyZSA9ICdyYXJlJyxcbiAgICBVbmlxdWUgPSAndW5pcXVlJyxcbn1cblxuZXhwb3J0IGVudW0gRXF1aXBtZW50VHlwZSB7XG4gICAgV2VhcG9uID0gJ3dlYXBvbicsXG4gICAgQXJtb3IgPSAnYXJtb3InLFxuXG4gICAgQnVja2xlciA9ICdidWNrbGVyJyxcbiAgICBTaGllbGQgPSAnc2hpZWxkJyxcbiAgICBUb3dlciA9ICd0b3dlcicsXG59XG5cbmV4cG9ydCBjb25zdCBQcm9wZXJ0eVJ1bmVDcmVhdGVLZXkgPSBbJ3Byb3BlcnR5UnVuZTEnLCAncHJvcGVydHlSdW5lMicsICdwcm9wZXJ0eVJ1bmUzJywgJ3Byb3BlcnR5UnVuZTQnXTtcbmV4cG9ydCB0eXBlIFByb3BlcnR5UnVuZUNyZWF0ZUtleSA9IGBwcm9wZXJ0eVJ1bmUkeycxJyB8ICcyJyB8ICczJyB8ICc0J31gO1xuXG5leHBvcnQgdHlwZSBFcXVpcG1lbnRJdGVtVHlwZSA9ICdhcm1vcicgfCAnd2VhcG9uJztcbmV4cG9ydCB0eXBlIFBoeXNpY2FsSXRlbVR5cGUgPSBFcXVpcG1lbnRJdGVtVHlwZSB8ICdjb25zdW1hYmxlJyB8ICdlcXVpcG1lbnQnIHwgJ3RyZWFzdXJlJztcbmV4cG9ydCB0eXBlIEl0ZW1UeXBlID0gUGh5c2ljYWxJdGVtVHlwZSB8ICdzcGVsbCc7XG5cbmV4cG9ydCB0eXBlIFJlc2lsaWVuY3lSdW5lVHlwZSA9ICdyZXNpbGllbnQnIHwgJ2dyZWF0ZXJSZXNpbGllbnQnIHwgJ21ham9yUmVzaWxpZW50JyB8ICcnO1xuZXhwb3J0IHR5cGUgU3RyaWtpbmdSdW5lVHlwZSA9ICdzdHJpa2luZycgfCAnZ3JlYXRlclN0cmlraW5nJyB8ICdtYWpvclN0cmlraW5nJyB8ICcnO1xuZXhwb3J0IHR5cGUgQXJtb3JUeXBlID0gJ3NoaWVsZCcgfCAndW5hcm1vcmVkJyB8ICdsaWdodCcgfCAnbWVkaXVtJyB8ICdoZWF2eSc7XG5leHBvcnQgdHlwZSBXZWFwb25UeXBlID0gJ3VuYXJtZWQnIHwgJ3NpbXBsZScgfCAnYWR2YW5jZWQnIHwgJ21hcnRpYWwnO1xuXG5leHBvcnQgdHlwZSBXZWFwb25Qcm9wZXJ0eVJ1bmVUeXBlID1cbiAgICB8ICcnXG4gICAgfCAna2luV2FyZGluZydcbiAgICB8ICdyZXR1cm5pbmcnXG4gICAgfCAnZ2hvc3RUb3VjaCdcbiAgICB8ICdkaXNydXB0aW5nJ1xuICAgIHwgJ3BhY2lmeWluZydcbiAgICB8ICdmZWFyc29tZSdcbiAgICB8ICdzaGlmdGluZydcbiAgICB8ICdjb25kdWN0aW5nJ1xuICAgIHwgJ3dvdW5kaW5nJ1xuICAgIHwgJ2Jsb29kYmFuZSdcbiAgICB8ICdjb3Jyb3NpdmUnXG4gICAgfCAnY3VubmluZydcbiAgICB8ICdmbGFtaW5nJ1xuICAgIHwgJ2Zyb3N0J1xuICAgIHwgJ3Nob2NrJ1xuICAgIHwgJ3RodW5kZXJpbmcnXG4gICAgfCAnZ3JpZXZvdXMnXG4gICAgfCAnc2VycmF0aW5nJ1xuICAgIHwgJ2FuYXJjaGljJ1xuICAgIHwgJ2F4aW9tYXRpYydcbiAgICB8ICdob2x5J1xuICAgIHwgJ3VuaG9seSdcbiAgICB8ICdncmVhdGVyRmVhcnNvbWUnXG4gICAgfCAnZGFuY2luZydcbiAgICB8ICdzcGVsbFN0b3JpbmcnXG4gICAgfCAnZ3JlYXRlckJsb29kYmFuZSdcbiAgICB8ICdrZWVuJ1xuICAgIHwgJ2dyZWF0ZXJEaXNydXB0aW5nJ1xuICAgIHwgJ2dyZWF0ZXJDb3Jyb3NpdmUnXG4gICAgfCAnZ3JlYXRlckZsYW1pbmcnXG4gICAgfCAnZ3JlYXRlckZyb3N0J1xuICAgIHwgJ2dyZWF0ZXJTaG9jaydcbiAgICB8ICdncmVhdGVyVGh1bmRlcmluZydcbiAgICB8ICdhbmNlc3RyYWxFY2hvaW5nJ1xuICAgIHwgJ3NwZWVkJ1xuICAgIHwgJ3ZvcnBhbCc7XG5cbmV4cG9ydCB0eXBlIEFybW9yUHJvcGVydHlSdW5lVHlwZSA9XG4gICAgfCAnJ1xuICAgIHwgJ3JlYWR5J1xuICAgIHwgJ3NsaWNrJ1xuICAgIHwgJ3NoYWRvdydcbiAgICB8ICdnbGFtZXJlZCdcbiAgICB8ICdhY2lkUmVzaXN0YW50J1xuICAgIHwgJ2NvbGRSZXNpc3RhbnQnXG4gICAgfCAnZWxlY3RyaWNpdHlSZXNpc3RhbnQnXG4gICAgfCAnZmlyZVJlc2lzdGFudCdcbiAgICB8ICdncmVhdGVyU2xpY2snXG4gICAgfCAnaW52aXNpYmlsaXR5J1xuICAgIHwgJ3NpbmlzdGVyS25pZ2h0J1xuICAgIHwgJ2dyZWF0ZXJSZWFkeSdcbiAgICB8ICdncmVhdGVyU2hhZG93J1xuICAgIHwgJ2dyZWF0ZXJJbnZpc2liaWxpdHknXG4gICAgfCAnZ3JlYXRlckFjaWRSZXNpc3RhbnQnXG4gICAgfCAnZ3JlYXRlckNvbGRSZXNpc3RhbnQnXG4gICAgfCAnZ3JlYXRlckVsZWN0cmljaXR5UmVzaXN0YW50J1xuICAgIHwgJ2dyZWF0ZXJGaXJlUmVzaXN0YW50J1xuICAgIHwgJ2ZvcnRpZmljYXRpb24nXG4gICAgfCAnd2luZ2VkJ1xuICAgIHwgJ3JvY2tCcmFjZWQnXG4gICAgfCAnc29hcmluZydcbiAgICB8ICdhbnRpbWFnaWMnXG4gICAgfCAnbWFqb3JTbGljaydcbiAgICB8ICdldGhlcmVhbCdcbiAgICB8ICdtYWpvclNoYWRvdydcbiAgICB8ICdncmVhdGVyRm9ydGlmaWNhdGlvbidcbiAgICB8ICdncmVhdGVyV2luZ2VkJztcblxuZXhwb3J0IHR5cGUgUHJvcGVydHlSdW5lVHlwZSA9IFdlYXBvblByb3BlcnR5UnVuZVR5cGUgfCBBcm1vclByb3BlcnR5UnVuZVR5cGU7XG5cbmV4cG9ydCB0eXBlIFNwZWxsVHlwZSA9ICdhdHRhY2snIHwgJ3NhdmUnIHwgJ3V0aWxpdHknIHwgJ2hlYWwnO1xuXG5leHBvcnQgdHlwZSBDb25zdW1hYmxlVHlwZSA9ICdhbW1vJyB8ICdwb3Rpb24nIHwgJ29pbCcgfCAnc2Nyb2xsJyB8ICd0YWxpc21hbicgfCAnc25hcmUnIHwgJ2RydWcnIHwgJ2VsaXhpcicgfCAnbXV0YWdlbicgfCAnb3RoZXInIHwgJ3BvaXNvbicgfCAndG9vbCcgfCAnd2FuZCc7XG5cbmV4cG9ydCB0eXBlIFplcm9Ub0ZvdXIgPSAwIHwgMSB8IDIgfCAzIHwgNDtcblxuZXhwb3J0IHR5cGUgQ3VycmVuY3lUeXBlID0gJ2NwJyB8ICdzcCcgfCAnZ3AnIHwgJ3BwJztcbmV4cG9ydCB0eXBlIFByaWNlU3RyaW5nID0gYCR7bnVtYmVyfSAke0N1cnJlbmN5VHlwZX1gIHwgYCR7bnVtYmVyfSR7Q3VycmVuY3lUeXBlfWA7XG5cbmV4cG9ydCB0eXBlIFdlaWdodFR5cGUgPSAnTCc7XG5leHBvcnQgdHlwZSBXZWlnaHRTdHJpbmcgPSBgJHtudW1iZXJ9JHtXZWlnaHRUeXBlIHwgJyd9YCB8IFdlaWdodFR5cGU7XG5cbmV4cG9ydCB0eXBlIFByZWNpb3VzTWF0ZXJpYWxUeXBlID1cbiAgICB8ICdhZGFtYW50aW5lJ1xuICAgIHwgJ2NvbGRJcm9uJ1xuICAgIHwgJ2Rhcmt3b29kJ1xuICAgIHwgJ2RyYWdvbmhpZGUnXG4gICAgfCAnbWl0aHJhbCdcbiAgICB8ICdvcmljaGFsY3VtJ1xuICAgIHwgJ3NpbHZlcidcbiAgICB8ICdzb3ZlcmVpZ25TdGVlbCdcbiAgICB8ICd3YXJwZ2xhc3MnXG4gICAgfCAnJztcblxuZXhwb3J0IHR5cGUgQXJtb3JHcm91cFR5cGUgPSAnY29tcG9zaXRlJyB8ICdjaGFpbicgfCAnY2xvdGgnIHwgJ2xlYXRoZXInIHwgJ3BsYXRlJztcbmV4cG9ydCB0eXBlIFdlYXBvbkdyb3VwVHlwZSA9XG4gICAgfCAnY2x1YidcbiAgICB8ICdrbmlmZSdcbiAgICB8ICdicmF3bGluZydcbiAgICB8ICdzcGVhcidcbiAgICB8ICdzd29yZCdcbiAgICB8ICdheGUnXG4gICAgfCAnZmxhaWwnXG4gICAgfCAncG9sZWFybSdcbiAgICB8ICdwaWNrJ1xuICAgIHwgJ2hhbW1lcidcbiAgICB8ICdzaGllbGQnXG4gICAgfCAnZGFydCdcbiAgICB8ICdib3cnXG4gICAgfCAnc2xpbmcnXG4gICAgfCAnYm9tYic7XG5cbmV4cG9ydCBlbnVtIFByZWNpb3VzTWF0ZXJpYWxHcmFkZSB7XG4gICAgTm9uZSA9ICcnLFxuICAgIExvdyA9ICdsb3cnLFxuICAgIFN0YW5kYXJkID0gJ3N0YW5kYXJkJyxcbiAgICBIaWdoID0gJ2hpZ2gnLFxufVxuXG5leHBvcnQgdHlwZSBJZGVudGlmaWNhdGlvblN0YXR1cyA9ICdpZGVudGlmaWVkJyB8ICd1bmlkZW50aWZpZWQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElWYWx1ZTxUPiB7XG4gICAgdmFsdWU6IFQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSWRlbnRpZmljYXRpb24ge1xuICAgIGlkZW50aWZpZWQ6IElkZW50aWZpY2F0aW9uRGF0YTtcbiAgICB1bmlkZW50aWZpZWQ6IElkZW50aWZpY2F0aW9uRGF0YTtcbiAgICBzdGF0dXM6IElkZW50aWZpY2F0aW9uU3RhdHVzO1xufVxuZXhwb3J0IGludGVyZmFjZSBJZGVudGlmaWNhdGlvbkRhdGEge1xuICAgIGRhdGE6IHtcbiAgICAgICAgZGVzY3JpcHRpb246IElWYWx1ZTxzdHJpbmc+O1xuICAgIH07XG4gICAgaW1nOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBGMkVJdGVtIHtcbiAgICBfaWQ6IHN0cmluZztcbiAgICBuYW1lPzogc3RyaW5nO1xuICAgIHR5cGU6IEl0ZW1UeXBlO1xuICAgIGRhdGE6IFBGMkVJdGVtRGF0YTtcbiAgICBpbWc6IHN0cmluZztcbiAgICBmbGFnczogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gICAgZm9sZGVyPzogc3RyaW5nO1xufVxuZXhwb3J0IGludGVyZmFjZSBQRjJFSXRlbURhdGEge1xuICAgIHNsdWc6IHN0cmluZztcbiAgICBsZXZlbDogSVZhbHVlPG51bWJlcj47XG4gICAgZGVzY3JpcHRpb246IElWYWx1ZTxzdHJpbmc+O1xuICAgIHNvdXJjZTogSVZhbHVlPHN0cmluZz47XG4gICAgdHJhaXRzOiBJVmFsdWU8QXJyYXk8c3RyaW5nPj4gJiB7XG4gICAgICAgIHJhcml0eTogSVZhbHVlPFJhcml0eT47XG4gICAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTcGVsbEl0ZW0gZXh0ZW5kcyBQRjJFSXRlbSB7XG4gICAgdHlwZTogJ3NwZWxsJztcbiAgICBkYXRhOiBTcGVsbERhdGE7XG59XG5leHBvcnQgaW50ZXJmYWNlIFNwZWxsRGF0YSBleHRlbmRzIFBGMkVJdGVtRGF0YSB7XG4gICAgc3BlbGxUeXBlOiBJVmFsdWU8U3BlbGxUeXBlPjtcbiAgICBzY2hvb2w6IElWYWx1ZTxTcGVsbFNjaG9vbD47XG4gICAgdHJhZGl0aW9uczogSVZhbHVlPEFycmF5PFNwZWxsVHJhZGl0aW9uPj47XG59XG5leHBvcnQgZnVuY3Rpb24gaXNTcGVsbChpdGVtOiBQRjJFSXRlbSB8IHVuZGVmaW5lZCk6IGl0ZW0gaXMgU3BlbGxJdGVtIHtcbiAgICBpZiAoaXRlbSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIGl0ZW0uZGF0YS5oYXNPd25Qcm9wZXJ0eSgnc3BlbGxUeXBlJyk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGh5c2ljYWxJdGVtIGV4dGVuZHMgUEYyRUl0ZW0ge1xuICAgIHR5cGU6IFBoeXNpY2FsSXRlbVR5cGU7XG4gICAgZGF0YTogUGh5c2ljYWxJdGVtRGF0YTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgUGh5c2ljYWxJdGVtRGF0YSBleHRlbmRzIFBGMkVJdGVtRGF0YSB7XG4gICAgaHA6IElWYWx1ZTxudW1iZXI+O1xuICAgIG1heEhwOiBJVmFsdWU8bnVtYmVyPjtcbiAgICBoYXJkbmVzczogSVZhbHVlPG51bWJlcj47XG4gICAgYnJva2VuVGhyZXNob2xkOiBJVmFsdWU8bnVtYmVyPjtcblxuICAgIHByaWNlOiBJVmFsdWU8UHJpY2VTdHJpbmc+O1xuICAgIHdlaWdodDogSVZhbHVlPFdlaWdodFN0cmluZz47XG5cbiAgICBxdWFudGl0eTogSVZhbHVlPG51bWJlcj47XG4gICAgc3RhY2tHcm91cDogSVZhbHVlPHN0cmluZz47XG4gICAgZXF1aXBwZWQ6IElWYWx1ZTxib29sZWFuPjtcbiAgICBpbnZlc3RlZDogSVZhbHVlPGJvb2xlYW4+O1xuXG4gICAgaWRlbnRpZmljYXRpb246IElkZW50aWZpY2F0aW9uO1xuXG4gICAgcHJlY2lvdXNNYXRlcmlhbDogSVZhbHVlPFByZWNpb3VzTWF0ZXJpYWxUeXBlPjtcbiAgICBwcmVjaW91c01hdGVyaWFsR3JhZGU6IElWYWx1ZTxQcmVjaW91c01hdGVyaWFsR3JhZGU+O1xufVxuY29uc3QgcGh5c2ljYWxDaGVja1Byb3BlcnRpZXMgPSBbJ2hwJywgJ21heEhwJywgJ3ByaWNlJywgJ3dlaWdodCddO1xuZXhwb3J0IGZ1bmN0aW9uIGlzUGh5c2ljYWxJdGVtKGl0ZW06IFBGMkVJdGVtIHwgdW5kZWZpbmVkKTogaXRlbSBpcyBQaHlzaWNhbEl0ZW0ge1xuICAgIGlmIChpdGVtID09PSB1bmRlZmluZWQpIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBoeXNpY2FsQ2hlY2tQcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghaXRlbS5kYXRhLmhhc093blByb3BlcnR5KHBoeXNpY2FsQ2hlY2tQcm9wZXJ0aWVzW2ldKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRyZWFzdXJlSXRlbSBleHRlbmRzIFBoeXNpY2FsSXRlbSB7XG4gICAgdHlwZTogJ3RyZWFzdXJlJztcbiAgICBkYXRhOiBUcmVhc3VyZUl0ZW1EYXRhO1xufVxuZXhwb3J0IGludGVyZmFjZSBUcmVhc3VyZUl0ZW1EYXRhIGV4dGVuZHMgUGh5c2ljYWxJdGVtRGF0YSB7XG4gICAgdmFsdWU6IElWYWx1ZTxudW1iZXI+O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzVHJlYXN1cmUoaXRlbTogUEYyRUl0ZW0gfCB1bmRlZmluZWQpOiBpdGVtIGlzIFRyZWFzdXJlSXRlbSB7XG4gICAgaWYgKGl0ZW0gPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBpc1BoeXNpY2FsSXRlbShpdGVtKSAmJiBpdGVtLmRhdGEuaGFzT3duUHJvcGVydHkoJ3ZhbHVlJyk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29uc3VtYWJsZUl0ZW0gZXh0ZW5kcyBQaHlzaWNhbEl0ZW0ge1xuICAgIHR5cGU6ICdjb25zdW1hYmxlJztcbiAgICBkYXRhOiBDb25zdW1hYmxlSXRlbURhdGE7XG59XG5pbnRlcmZhY2UgQ29uc3VtYWJsZVNwZWxsRGF0YSB7XG4gICAgZGF0YTogU3BlbGxJdGVtO1xuICAgIGhlaWdodGVuZWRMZXZlbDogbnVtYmVyO1xufVxuaW50ZXJmYWNlIE5vQ29uc3VtYWJsZVNwZWxsRGF0YSB7XG4gICAgZGF0YTogbnVsbDtcbiAgICBoZWlnaHRlbmVkTGV2ZWw6IG51bGw7XG59XG5leHBvcnQgaW50ZXJmYWNlIENvbnN1bWFibGVJdGVtRGF0YSBleHRlbmRzIFBoeXNpY2FsSXRlbURhdGEge1xuICAgIGNvbnN1bWFibGVUeXBlOiBJVmFsdWU8Q29uc3VtYWJsZVR5cGU+O1xuICAgIHNwZWxsOiBDb25zdW1hYmxlU3BlbGxEYXRhIHwgTm9Db25zdW1hYmxlU3BlbGxEYXRhO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVxdWlwbWVudEl0ZW0gZXh0ZW5kcyBQaHlzaWNhbEl0ZW0ge1xuICAgIHR5cGU6IEVxdWlwbWVudEl0ZW1UeXBlO1xuICAgIGRhdGE6IEVxdWlwbWVudEl0ZW1EYXRhO1xufVxuZXhwb3J0IGludGVyZmFjZSBFcXVpcG1lbnRJdGVtRGF0YSBleHRlbmRzIFBoeXNpY2FsSXRlbURhdGEge1xuICAgIGdyb3VwOiBJVmFsdWU8V2VhcG9uR3JvdXBUeXBlPiB8IElWYWx1ZTxBcm1vckdyb3VwVHlwZT47XG4gICAgc3BlY2lmaWM6IElWYWx1ZTxib29sZWFuPjtcbiAgICBlcXVpcHBlZEJ1bGs6IElWYWx1ZTxXZWlnaHRTdHJpbmcgfCAnJz47XG4gICAgcHJvcGVydHlSdW5lMTogSVZhbHVlPFdlYXBvblByb3BlcnR5UnVuZVR5cGUgfCBBcm1vclByb3BlcnR5UnVuZVR5cGU+O1xuICAgIHByb3BlcnR5UnVuZTI6IElWYWx1ZTxXZWFwb25Qcm9wZXJ0eVJ1bmVUeXBlIHwgQXJtb3JQcm9wZXJ0eVJ1bmVUeXBlPjtcbiAgICBwcm9wZXJ0eVJ1bmUzOiBJVmFsdWU8V2VhcG9uUHJvcGVydHlSdW5lVHlwZSB8IEFybW9yUHJvcGVydHlSdW5lVHlwZT47XG4gICAgcHJvcGVydHlSdW5lNDogSVZhbHVlPFdlYXBvblByb3BlcnR5UnVuZVR5cGUgfCBBcm1vclByb3BlcnR5UnVuZVR5cGU+O1xufVxuY29uc3QgZXF1aXBtZW50Q2hlY2tQcm9wZXJ0aWVzID0gWydlcXVpcHBlZEJ1bGsnLCAncHJvcGVydHlSdW5lMScsICdwcm9wZXJ0eVJ1bmUyJ107XG5leHBvcnQgZnVuY3Rpb24gaXNFcXVpcG1lbnQoaXRlbTogUEYyRUl0ZW0gfCB1bmRlZmluZWQpOiBpdGVtIGlzIEVxdWlwbWVudEl0ZW0ge1xuICAgIGlmIChpdGVtID09PSB1bmRlZmluZWQpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIWlzUGh5c2ljYWxJdGVtKGl0ZW0pKSByZXR1cm4gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlcXVpcG1lbnRDaGVja1Byb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFpdGVtLmRhdGEuaGFzT3duUHJvcGVydHkoZXF1aXBtZW50Q2hlY2tQcm9wZXJ0aWVzW2ldKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFdlYXBvbiBleHRlbmRzIEVxdWlwbWVudEl0ZW0ge1xuICAgIHR5cGU6ICd3ZWFwb24nO1xuICAgIGRhdGE6IFdlYXBvbkRhdGE7XG59XG5leHBvcnQgaW50ZXJmYWNlIFdlYXBvbkRhdGEgZXh0ZW5kcyBFcXVpcG1lbnRJdGVtRGF0YSB7XG4gICAgZ3JvdXA6IElWYWx1ZTxXZWFwb25Hcm91cFR5cGU+O1xuICAgIHdlYXBvbkRhdGE6IElWYWx1ZTxXZWFwb25UeXBlPjtcbiAgICBwb3RlbmN5UnVuZTogSVZhbHVlPFBvdGVuY3lSdW5lVHlwZT47XG4gICAgc3RyaWtpbmdSdW5lOiBJVmFsdWU8U3RyaWtpbmdSdW5lVHlwZT47XG5cbiAgICBwcm9wZXJ0eVJ1bmUxOiBJVmFsdWU8V2VhcG9uUHJvcGVydHlSdW5lVHlwZT47XG4gICAgcHJvcGVydHlSdW5lMjogSVZhbHVlPFdlYXBvblByb3BlcnR5UnVuZVR5cGU+O1xuICAgIHByb3BlcnR5UnVuZTM6IElWYWx1ZTxXZWFwb25Qcm9wZXJ0eVJ1bmVUeXBlPjtcbiAgICBwcm9wZXJ0eVJ1bmU0OiBJVmFsdWU8V2VhcG9uUHJvcGVydHlSdW5lVHlwZT47XG59XG5leHBvcnQgZnVuY3Rpb24gaXNXZWFwb24oaXRlbTogUEYyRUl0ZW0gfCB1bmRlZmluZWQpOiBpdGVtIGlzIFdlYXBvbiB7XG4gICAgaWYgKGl0ZW0gPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBpdGVtLnR5cGUgPT09ICd3ZWFwb24nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJhc2VBcm1vciBleHRlbmRzIEVxdWlwbWVudEl0ZW0ge1xuICAgIHR5cGU6ICdhcm1vcic7XG4gICAgZGF0YTogQXJtb3JEYXRhIHwgU2hpZWxkRGF0YTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQmFzZUFybW9yRGF0YSBleHRlbmRzIEVxdWlwbWVudEl0ZW1EYXRhIHtcbiAgICBncm91cDogSVZhbHVlPEFybW9yR3JvdXBUeXBlPjtcbiAgICBhcm1vclR5cGU6IElWYWx1ZTxBcm1vclR5cGU+O1xuICAgIGFybW9yOiBJVmFsdWU8bnVtYmVyPjtcbiAgICBzdHJlbmd0aDogSVZhbHVlPG51bWJlcj47XG4gICAgZGV4OiBJVmFsdWU8bnVtYmVyPjtcblxuICAgIHByb3BlcnR5UnVuZTE6IElWYWx1ZTxBcm1vclByb3BlcnR5UnVuZVR5cGU+O1xuICAgIHByb3BlcnR5UnVuZTI6IElWYWx1ZTxBcm1vclByb3BlcnR5UnVuZVR5cGU+O1xuICAgIHByb3BlcnR5UnVuZTM6IElWYWx1ZTxBcm1vclByb3BlcnR5UnVuZVR5cGU+O1xuICAgIHByb3BlcnR5UnVuZTQ6IElWYWx1ZTxBcm1vclByb3BlcnR5UnVuZVR5cGU+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFybW9yIGV4dGVuZHMgQmFzZUFybW9yIHtcbiAgICBkYXRhOiBBcm1vckRhdGE7XG59XG5leHBvcnQgaW50ZXJmYWNlIEFybW9yRGF0YSBleHRlbmRzIEJhc2VBcm1vckRhdGEge1xuICAgIHBvdGVuY3lSdW5lOiBJVmFsdWU8UG90ZW5jeVJ1bmVUeXBlPjtcbiAgICByZXNpbGllbmN5UnVuZTogSVZhbHVlPFJlc2lsaWVuY3lSdW5lVHlwZT47XG59XG5leHBvcnQgZnVuY3Rpb24gaXNBcm1vcihpdGVtOiBQRjJFSXRlbSB8IHVuZGVmaW5lZCk6IGl0ZW0gaXMgQXJtb3Ige1xuICAgIGlmIChpdGVtID09PSB1bmRlZmluZWQpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gaXRlbS50eXBlID09PSAnYXJtb3InO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNoaWVsZCBleHRlbmRzIEJhc2VBcm1vciB7XG4gICAgZGF0YTogU2hpZWxkRGF0YTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgU2hpZWxkRGF0YSBleHRlbmRzIEJhc2VBcm1vckRhdGEge31cbmV4cG9ydCBmdW5jdGlvbiBpc1NoaWVsZChpdGVtOiBQRjJFSXRlbSB8IHVuZGVmaW5lZCk6IGl0ZW0gaXMgU2hpZWxkIHtcbiAgICBpZiAoaXRlbSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIGlzQXJtb3IoaXRlbSkgJiYgaXRlbS5kYXRhLmFybW9yVHlwZS52YWx1ZSA9PT0gJ3NoaWVsZCc7XG59XG4iXX0="}