const _0x1953=['ixSubclass','toggleVe','_compsClassStartingProficiencies','getCasterProgressionMeta','item','filter','pGetDereferencedClassData','tabClass','_pLoad_pDoHandleExistingClassItems','_class_renderClass','_existingClassMetas','_class_pRenderFeatureComps','<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Proficiencies</div>','mode','class_ixMax','1459374KLfRKS','ExistingFeatureChecker','_class_renderClass_stgStartingProficiencies','_renderFeatureOptionsSelects','_tabClass','_actor','constructor','<div\x20class=\x22bold\x22>Select\x20a\x20Class</div>','showVe','traits','[+]','43PHVgSg','class_totalLevels','2pTLNTN','_addHookBase','isHpAvailable','_class_pRenderFeatureOptionsSelects','filterBox','\x22\x20in\x20loaded\x20data.\x20','_compsClassHpIncreaseMode','_class_isSubclassSelectionDisabled','Make\x20this\x20your\x20primary\x20class,\x20i.e.\x20the\x20one\x20you\x20chose\x20at\x20level\x201\x20for\x20the\x20purposes\x20of\x20proficiencies/etc.','ActorCharactermancer.classes','<button\x20class=\x22btn\x20btn-5et\x20btn-xs\x20mr-2\x22></button>','text','html','\x22\x20(\x22','toLowerCase','state','title','getClass_','spellLevelHigh','.class_','MODE_PRIMARY','click','EVNT_VALCHANGE','Primary\x20Class','410639cHZtBq','_class_isClassSelectionDisabled','bl-0','pPreloadHidden','setFeatures','compsClassHpIncreaseMode','notifications','addClass','detach','_data','_pHkChangeClass','_class_getFilteredFeatures','section','then','armorProf','append','Select\x20a\x20Class','6hIjZmX','215755heDWov','_class_getExistingClassMeta','getValues','modalTitle','actor','push','_class_unregisterFeatureSourceTrackingFeatureComps','Could\x20not\x20find\x20class\x20\x22','import','Could\x20not\x20find\x20subclass\x20\x22','_compsClassLevelSelect','name','_pLock','<div\x20class=\x22py-1\x20pl-2\x20clickable\x20ve-muted\x22>[‒]</div>','_state','getExistingClassTotalLevels_','<hr\x20class=\x22hr-1\x22>','pIsForceDisplay','_compsClassFeatureOptionsSelect','_class_renderClass_stgHpInfo','doApplyFilterToFeatureEntries','<div\x20class=\x22mb-2\x20bold\x20w-100\x22>','_class_renderClass_pStgLevelSelect','hideVe','\x22)\x20in\x20loaded\x20data.\x20','subclass','196382xJcuSt','compsClassFeatureOptionsSelect','subclassFeatures','empty','_class_renderClass_stgSkills','_class_renderClass_stgSelectSubclass','ability\x20score\x20improvement','render','getSubclass_','data','<div\x20class=\x22flex-col\x20w-100\x22></div>','proficienciesGained','exec','_metaHksClassStgStartingProficiencies','getFilteredEntries','_class_renderClass_pClassTable','stringify','<button\x20class=\x22btn\x20btn-5et\x20btn-sm\x22>Add\x20Another\x20Class</button>','subclasses','level','unregisterFeatureSourceTracking','getRenderedClassTableFromDereferenced','featureSourceTracker_','class_getTotalLevels','_class_renderClass_stgHpMode','pLoad','$iptDisplay','mergeMap','unregister','_pHkChangeSubclass','_$wrpsClassTable','$iptSearch','entries','flat','_class_renderClass_pDispSubclass','getAllFeatures','_getDefaultState','</div>','_compsClassHpInfo','map','prop','_proxyAssignSimple','levels','getImportableFeatures','hover','onchange','1033vVeSvq','_class_pRenderFeatureOptionsSelects_','$wrp','_classLevels','Could\x20not\x20find\x20selected\x20subclass:\x20','off','isPrimaryClass','length','isPrimary','<div\x20class=\x22py-1\x20clickable\x20ve-muted\x22>[‒]</div>','_compsClassSkillProficiencies','pIsNoChoice','class_ixPrimaryClass','_metaHksClassStgSkills','At\x20least\x20one\x20argument\x20must\x20be\x20provided!','ExistingClassMeta','<hr\x20class=\x22hr-3\x20hr--heavy\x22>','ixClass','startsWith','_pLoad_getExistingClassIndex','1GUhiBa','645dMZqzn','getFeaturesGroupedByOptionsSet','get','_metaHksClassStgSubclass','7621ncJgGi','warn','_class_getLocks','Select\x20a\x20Subclass','startingProficiencies','some','_parent','unhook','<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Skill\x20Proficiencies</div>','_class_renderEntriesSection','class_','items','class_getProps','pGetDereferencedSubclassData','disabled','min','proficiency','pageFilter','forEach','getTargetLevel','isStrictMatching','sourceJsonToAbv','multiclassing','$getSelSearchable','STR_WARN_SOURCE_SELECTION','729637ymVmcp','casterProgression','keys','[‒]','spellLevelLow','compsClassSkillProficiencies','source','Strict\x20source\x20matching\x20is:\x20','skills','trim','getItemSource','getFilteredFeatures','findIndex','getSubclassStub','toDisplay','appendTo','max','parent','modalFilterClasses','class_pulseChange','_class_pGetMinMaxLevel','_removeHookBase','class','getClassStub','_class_renderClass_pDispClass','classFeatures','compsClassStartingProficiencies','_modalFilterClasses','$wrpTab','_unlock','type','copy'];const _0x3ef2=function(_0x2e8abf,_0x2ab468){_0x2e8abf=_0x2e8abf-0x184;let _0x1953b3=_0x1953[_0x2e8abf];return _0x1953b3;};const _0xbf73e0=_0x3ef2;(function(_0x2c0972,_0x44aade){const _0x1b7167=_0x3ef2;while(!![]){try{const _0x39e7ef=parseInt(_0x1b7167(0x25c))*parseInt(_0x1b7167(0x209))+-parseInt(_0x1b7167(0x196))*parseInt(_0x1b7167(0x25e))+parseInt(_0x1b7167(0x251))+parseInt(_0x1b7167(0x1a8))*-parseInt(_0x1b7167(0x1a7))+-parseInt(_0x1b7167(0x205))*-parseInt(_0x1b7167(0x1f0))+-parseInt(_0x1b7167(0x1c2))+parseInt(_0x1b7167(0x204))*parseInt(_0x1b7167(0x222));if(_0x39e7ef===_0x44aade)break;else _0x2c0972['push'](_0x2c0972['shift']());}catch(_0x29165b){_0x2c0972['push'](_0x2c0972['shift']());}}}(_0x1953,0xd4999));import{ActorCharactermancerBaseComponent}from'./ActorCharactermancerUtil.js';import{Charactermancer_Class_FeatureOptionsSelect,Charactermancer_Class_HpIncreaseModeSelect,Charactermancer_Class_HpInfo,Charactermancer_Class_LevelSelect,Charactermancer_Class_ProficiencyImportModeSelect,Charactermancer_Class_StartingProficiencies,Charactermancer_Class_Util}from'./UtilCharactermancerClass.js';import{Charactermancer_SkillSelect,Charactermancer_Util}from'./UtilCharactermancer.js';import{DataConverterClass}from'./DataConverterClass.js';import{ModalFilterClassesFvtt}from'./UtilModalFilter.js';import{Config}from'./Config.js';import{DataConverter}from'./DataConverter.js';import{SharedConsts}from'../shared/SharedConsts.js';import{LGT}from'./Util.js';class ActorCharactermancerClass extends ActorCharactermancerBaseComponent{constructor(_0x254d57){const _0x45a751=_0x3ef2;_0x254d57=_0x254d57||{},super(),this[_0x45a751(0x256)]=_0x254d57[_0x45a751(0x1ac)],this['_data']=_0x254d57[_0x45a751(0x1cb)],this[_0x45a751(0x20f)]=_0x254d57[_0x45a751(0x233)],this[_0x45a751(0x255)]=_0x254d57[_0x45a751(0x249)],this[_0x45a751(0x23d)]=new ModalFilterClassesFvtt({'namespace':_0x45a751(0x187)}),this[_0x45a751(0x208)]=[],this['_compsClassStartingProficiencies']=[],this[_0x45a751(0x184)]=[],this[_0x45a751(0x1e8)]=[],this[_0x45a751(0x1b2)]=[],this[_0x45a751(0x1ba)]=[],this[_0x45a751(0x1fa)]=[],this[_0x45a751(0x1fd)]=[],this[_0x45a751(0x1cf)]=[],this['_$wrpsClassTable']=[],this['_existingClassMetas']=[];}get[_0xbf73e0(0x234)](){const _0x46ae7f=_0xbf73e0;return this[_0x46ae7f(0x23d)];}get[_0xbf73e0(0x23c)](){const _0x11d4ca=_0xbf73e0;return this[_0x11d4ca(0x244)];}get[_0xbf73e0(0x19b)](){const _0x2bcd51=_0xbf73e0;return this[_0x2bcd51(0x184)];}get['compsClassLevelSelect'](){const _0x12d280=_0xbf73e0;return this[_0x12d280(0x1b2)];}get[_0xbf73e0(0x1c3)](){return this['_compsClassFeatureOptionsSelect'];}get[_0xbf73e0(0x227)](){const _0x42131c=_0xbf73e0;return this[_0x42131c(0x1fa)];}get['existingClassMetas'](){const _0x1f3110=_0xbf73e0;return this[_0x1f3110(0x24c)];}async[_0xbf73e0(0x1db)](){const _0x2f83df=_0xbf73e0;await this[_0x2f83df(0x23d)][_0x2f83df(0x199)](),await this['_pLoad_pDoHandleExistingClassItems']();}async[_0xbf73e0(0x24a)](){const _0x36eb1d=_0xbf73e0,_0x54d25d=(MiscUtil[_0x36eb1d(0x207)](this[_0x36eb1d(0x256)],_0x36eb1d(0x1cb),_0x36eb1d(0x214))||[])[_0x36eb1d(0x247)](_0x3bcc5d=>_0x3bcc5d[_0x36eb1d(0x240)]===_0x36eb1d(0x238));this[_0x36eb1d(0x24c)]=_0x54d25d[_0x36eb1d(0x1e9)](_0x3e836e=>{const _0x478e7a=_0x36eb1d,_0x29371d=this[_0x478e7a(0x203)](_0x3e836e),_0x49c99b=_0x3e836e[_0x478e7a(0x1cb)]?.[_0x478e7a(0x1c1)]||'';let _0x4e2e2d=-0x1;if(~_0x29371d){if(!_0x49c99b)_0x4e2e2d=null;else{const _0x27878d=this[_0x478e7a(0x19f)][_0x478e7a(0x238)][_0x29371d];_0x4e2e2d=_0x27878d[_0x478e7a(0x1d4)][_0x478e7a(0x22e)](_0xc6adbe=>_0x49c99b[_0x478e7a(0x18c)]()[_0x478e7a(0x22b)]()===_0xc6adbe[_0x478e7a(0x1b3)][_0x478e7a(0x18c)]()[_0x478e7a(0x22b)]());}}const _0x420721=!!_0x3e836e['flags']?.[SharedConsts['MODULE_NAME_FAKE']]?.[_0x478e7a(0x1f6)],_0x1aef17=~_0x29371d?null:_0x478e7a(0x1af)+_0x3e836e[_0x478e7a(0x1b3)]+_0x478e7a(0x18b)+_0x3e836e[_0x478e7a(0x1cb)]?.['source']+_0x478e7a(0x1c0)+Charactermancer_Util[_0x478e7a(0x221)];_0x1aef17&&(ui[_0x478e7a(0x19c)][_0x478e7a(0x20a)](_0x1aef17),console['warn'](...LGT,_0x1aef17,'Strict\x20source\x20matching\x20is:\x20'+Config[_0x478e7a(0x207)](_0x478e7a(0x1b0),_0x478e7a(0x21d))+'.'));const _0x26a932=_0x4e2e2d==null||~_0x4e2e2d?null:_0x478e7a(0x1b1)+_0x49c99b+_0x478e7a(0x263)+Charactermancer_Util[_0x478e7a(0x221)];return _0x26a932&&(ui[_0x478e7a(0x19c)]['warn'](_0x26a932),console[_0x478e7a(0x20a)](...LGT,_0x26a932,_0x478e7a(0x229)+Config[_0x478e7a(0x207)](_0x478e7a(0x1b0),'isStrictMatching')+'.')),new ActorCharactermancerClass[(_0x478e7a(0x1ff))]({'item':_0x3e836e,'ixClass':_0x29371d,'isUnknownClass':!~_0x29371d,'ixSubclass':_0x4e2e2d,'isUnknownSubclass':_0x4e2e2d==null&&!~_0x4e2e2d,'level':Number(_0x3e836e?.[_0x478e7a(0x1cb)]?.[_0x478e7a(0x1ec)]||0x0),'isPrimary':_0x420721});});if(!this[_0x36eb1d(0x24c)][_0x36eb1d(0x1f7)])return;this[_0x36eb1d(0x1b6)][_0x36eb1d(0x250)]=this[_0x36eb1d(0x24c)][_0x36eb1d(0x1f7)]-0x1;for(let _0x493dc7=0x0;_0x493dc7<this[_0x36eb1d(0x24c)][_0x36eb1d(0x1f7)];++_0x493dc7){const _0x2e7bdd=this[_0x36eb1d(0x24c)][_0x493dc7],{propIxClass:_0x35f7e2,propIxSubclass:_0x4f168c}=ActorCharactermancerBaseComponent[_0x36eb1d(0x215)](_0x493dc7);await this['_pDoProxySetBase'](_0x35f7e2,_0x2e7bdd[_0x36eb1d(0x201)]),await this['_pDoProxySetBase'](_0x4f168c,_0x2e7bdd[_0x36eb1d(0x242)]);if(_0x2e7bdd[_0x36eb1d(0x1f8)])this[_0x36eb1d(0x1b6)][_0x36eb1d(0x1fc)]=_0x493dc7;}if(!this[_0x36eb1d(0x24c)][_0x36eb1d(0x20e)](_0x4564ef=>_0x4564ef['isPrimary']))this['_state']['class_ixPrimaryClass']=0x0;}[_0xbf73e0(0x203)](_0x39dbac){const _0x3f182a=_0xbf73e0,_0x5204dd=(_0x39dbac[_0x3f182a(0x1b3)]||'')['toLowerCase']()[_0x3f182a(0x22b)]();let _0x596e6f=this[_0x3f182a(0x19f)][_0x3f182a(0x238)][_0x3f182a(0x22e)](_0x2bae45=>{const _0x50e77e=_0x3f182a;return _0x5204dd===_0x2bae45['name'][_0x50e77e(0x18c)]()[_0x50e77e(0x22b)]()&&(!Config[_0x50e77e(0x207)](_0x50e77e(0x1b0),_0x50e77e(0x21d))||(DataConverter[_0x50e77e(0x22c)](_0x39dbac)||'')['toLowerCase']()===Parser[_0x50e77e(0x21e)](_0x2bae45['source'])[_0x50e77e(0x18c)]());});if(~_0x596e6f)return _0x596e6f;const _0x431ed6=/^(.*?)\(.*\)$/[_0x3f182a(0x1ce)](_0x5204dd);if(!_0x431ed6)return _0x596e6f;return this['_data'][_0x3f182a(0x238)][_0x3f182a(0x22e)](_0x939722=>{const _0x11e70c=_0x3f182a;return _0x431ed6[0x1][_0x11e70c(0x22b)]()===_0x939722[_0x11e70c(0x1b3)][_0x11e70c(0x18c)]()[_0x11e70c(0x22b)]()&&(!Config[_0x11e70c(0x207)](_0x11e70c(0x1b0),_0x11e70c(0x21d))||(DataConverter['getItemSource'](_0x39dbac)||'')['toLowerCase']()===Parser['sourceJsonToAbv'](_0x939722[_0x11e70c(0x228)])[_0x11e70c(0x18c)]());});}[_0xbf73e0(0x1b7)](){const _0x1904f2=_0xbf73e0;return this[_0x1904f2(0x24c)][_0x1904f2(0x247)](Boolean)[_0x1904f2(0x1e9)](_0x15e743=>_0x15e743[_0x1904f2(0x1d5)])['sum']();}['_getExistingClassCount'](){const _0xb27f93=_0xbf73e0;return this['_existingClassMetas'][_0xb27f93(0x247)](Boolean)[_0xb27f93(0x1f7)];}['getClass_']({ix:_0x437bae,propIxClass:_0x66e57e}){const _0x5d95a8=_0xbf73e0;if(_0x437bae==null&&_0x66e57e==null)throw new Error(_0x5d95a8(0x1fe));if(_0x66e57e!=null){if(this[_0x5d95a8(0x1b6)][_0x66e57e]==null)return null;if(!~this[_0x5d95a8(0x1b6)][_0x66e57e])return DataConverterClass['getClassStub']();return this[_0x5d95a8(0x19f)]['class'][this[_0x5d95a8(0x1b6)][_0x66e57e]];}if(_0x437bae!=null&&~_0x437bae)return this['_data'][_0x5d95a8(0x238)][_0x437bae];return DataConverterClass[_0x5d95a8(0x239)]();}[_0xbf73e0(0x1ca)]({cls:_0x1fa1f2,propIxSubclass:_0x5a962d,ix:_0x58ab8b}){const _0x5a021c=_0xbf73e0;if(_0x58ab8b==null&&_0x5a962d==null)throw new Error('At\x20least\x20one\x20argument\x20must\x20be\x20provided!');if(!_0x1fa1f2)return null;if(_0x5a962d!=null){if(this[_0x5a021c(0x1b6)][_0x5a962d]==null)return null;if(!~this[_0x5a021c(0x1b6)][_0x5a962d])return DataConverterClass['getSubclassStub']({'cls':_0x1fa1f2});if(!_0x1fa1f2['subclasses']?.[_0x5a021c(0x1f7)])return DataConverterClass[_0x5a021c(0x22f)]({'cls':_0x1fa1f2});return _0x1fa1f2['subclasses'][this[_0x5a021c(0x1b6)][_0x5a962d]];}if(_0x58ab8b!=null&&~_0x58ab8b)return _0x1fa1f2[_0x5a021c(0x1d4)][_0x58ab8b];return DataConverterClass['getSubclassStub']({'cls':_0x1fa1f2});}[_0xbf73e0(0x197)]({ix:_0x53900b}){return!!this['_existingClassMetas'][_0x53900b];}[_0xbf73e0(0x185)]({ix:_0x57f2d2}){const _0x4f1b26=_0xbf73e0;return this[_0x4f1b26(0x24c)][_0x57f2d2]&&(this[_0x4f1b26(0x24c)][_0x57f2d2]['ixSubclass']!=null||this['_existingClassMetas'][_0x57f2d2]['isUnknownClass']);}[_0xbf73e0(0x1c9)](){const _0x5087fb=_0xbf73e0,_0x594e65=this['_tabClass']?.[_0x5087fb(0x23e)];if(!_0x594e65)return;const _0xdd1172=$$`<div class="flex-col w-100 h-100 px-1 pt-1 overflow-y-auto ve-grow veapp__bg-foundry"></div>`,_0x4d494e=$$`<div class="flex-col w-100 h-100 px-1 overflow-y-auto ve-grow veapp__bg-foundry"></div>`;for(let _0x66b451=0x0;_0x66b451<this[_0x5087fb(0x1b6)][_0x5087fb(0x250)]+0x1;++_0x66b451)this[_0x5087fb(0x24b)](_0xdd1172,_0x4d494e,_0x66b451);this[_0x5087fb(0x25f)]('class_ixPrimaryClass',()=>this[_0x5087fb(0x1b6)][_0x5087fb(0x235)]=!this[_0x5087fb(0x1b6)][_0x5087fb(0x235)]);const _0x4795da=$(_0x5087fb(0x1d3))[_0x5087fb(0x193)](()=>{const _0x5f4f2b=_0x5087fb;this[_0x5f4f2b(0x24b)](_0xdd1172,_0x4d494e,++this[_0x5f4f2b(0x1b6)]['class_ixMax']);});$$`<div class="flex w-100 h-100">
			<div class="flex-col w-100">
				${_0xdd1172}
				<div class="mt-2">${_0x4795da}</div>
			</div>
			<div class="vr-1"></div>
			${_0x4d494e}
		</div>`[_0x5087fb(0x231)](_0x594e65);}static[_0xbf73e0(0x20b)](_0x5a73cd){const _0x4c547c=_0xbf73e0;return{'lockChangeClass':_0x4c547c(0x213)+_0x5a73cd+_0x4c547c(0x1a0),'lockChangeSubclass':'class_'+_0x5a73cd+_0x4c547c(0x1df),'lockRenderFeatureOptionsSelects':_0x4c547c(0x213)+_0x5a73cd+_0x4c547c(0x254)};}[_0xbf73e0(0x24b)](_0x558e77,_0x15fd4d,_0x2d93ca){const _0x309c60=_0xbf73e0,{propPrefixClass:_0x446b04,propIxClass:_0x10b784,propPrefixSubclass:_0x1f6397,propIxSubclass:_0x1444cd,propCntAsi:_0x34cefa,propCurLevel:_0x1c306d,propTargetLevel:_0x2fc0ec}=ActorCharactermancerBaseComponent[_0x309c60(0x215)](_0x2d93ca),_0x381ce8=FilterBox[_0x309c60(0x194)]+_0x309c60(0x191)+_0x2d93ca+_0x309c60(0x1f3),_0x45e098=FilterBox[_0x309c60(0x194)]+_0x309c60(0x191)+_0x2d93ca+'_subclass',{lockChangeClass:_0x1d59b4,lockChangeSubclass:_0x1c39d5,lockRenderFeatureOptionsSelects:_0xb7126c}=this[_0x309c60(0x257)][_0x309c60(0x20b)](_0x2d93ca);this[_0x309c60(0x25f)](_0x10b784,()=>this[_0x309c60(0x1b6)][_0x309c60(0x235)]=!this[_0x309c60(0x1b6)][_0x309c60(0x235)]);const {$wrp:_0x1e10a1,$iptDisplay:_0x2eebbe,$iptSearch:_0x855c,fnUpdateHidden:_0x52ba0b}=ComponentUiUtil[_0x309c60(0x220)](this,_0x10b784,{'values':this[_0x309c60(0x19f)][_0x309c60(0x238)][_0x309c60(0x1e9)]((_0xe2bd46,_0x6f1098)=>_0x6f1098),'isAllowNull':!![],'fnDisplay':_0x3e5f66=>{const _0x4a6e97=_0x309c60,_0x10fab9=this[_0x4a6e97(0x18f)]({'ix':_0x3e5f66});return _0x10fab9[_0x4a6e97(0x1b3)]+'\x20'+(_0x10fab9[_0x4a6e97(0x228)]!==SRC_PHB?'['+Parser['sourceJsonToAbv'](_0x10fab9[_0x4a6e97(0x228)])+']':'');},'asMeta':!![],'isDisabled':this[_0x309c60(0x197)]({'ix':_0x2d93ca})});_0x2eebbe[_0x309c60(0x19d)](_0x309c60(0x198)),_0x855c[_0x309c60(0x19d)](_0x309c60(0x198));const _0x2b254d=()=>{const _0x1978f2=_0x309c60,_0x79f8ff=this[_0x1978f2(0x23d)]['pageFilter'][_0x1978f2(0x262)]['getValues'](),_0x367fbe=this[_0x1978f2(0x19f)][_0x1978f2(0x238)][_0x1978f2(0x1e9)](_0x4976d7=>!this['_modalFilterClasses'][_0x1978f2(0x21a)]['toDisplay'](_0x79f8ff,_0x4976d7));_0x52ba0b(_0x367fbe,![]);},_0xedd750=()=>{const _0xb83c38=_0x309c60,_0x38b880=this['getClass_']({'propIxClass':_0x10b784});if(!_0x38b880||!this['_metaHksClassStgSubclass'][_0x2d93ca])return;const _0x4a2d69=this[_0xb83c38(0x23d)]['pageFilter'][_0xb83c38(0x262)]['getValues'](),_0x42ccad=_0x38b880[_0xb83c38(0x1d4)][_0xb83c38(0x1e9)](_0x24c428=>!this[_0xb83c38(0x23d)]['pageFilter'][_0xb83c38(0x230)](_0x4a2d69,_0x24c428));this['_metaHksClassStgSubclass'][_0x2d93ca]['fnUpdateHidden'](_0x42ccad,![]);};this[_0x309c60(0x23d)][_0x309c60(0x21a)][_0x309c60(0x262)]['on'](FilterBox[_0x309c60(0x194)],()=>_0x2b254d()),_0x2b254d();const _0x2b646f=$('<button\x20class=\x22btn\x20btn-xs\x20btn-5et\x20h-100\x20btr-0\x20bbr-0\x20pr-2\x22\x20title=\x22Filter\x20for\x20Class\x20and\x20Subclass\x22><span\x20class=\x22glyphicon\x20glyphicon-filter\x22></span>\x20Filter</button>')['click'](async()=>{const _0xa8f47c=_0x309c60,_0x44ff4d=this[_0xa8f47c(0x18f)]({'propIxClass':_0x10b784}),_0x2e6fab=this['getSubclass_']({'cls':_0x44ff4d,'propIxSubclass':_0x1444cd}),_0x1c62fe=this['_class_isClassSelectionDisabled']({'ix':_0x2d93ca}),_0x349fa2=this['_class_isSubclassSelectionDisabled']({'ix':_0x2d93ca}),_0xbfd3f9=await this[_0xa8f47c(0x23d)]['pGetUserSelection']({'selectedClass':_0x44ff4d,'selectedSubclass':_0x2e6fab,'isClassDisabled':_0x1c62fe,'isSubclassDisabled':_0x349fa2});if(_0x1c62fe&&_0x349fa2)return;if(_0xbfd3f9==null||!_0xbfd3f9[_0xa8f47c(0x238)])return;const _0x2f538f=this['_data']['class'][_0xa8f47c(0x22e)](_0x32f87b=>_0x32f87b[_0xa8f47c(0x1b3)]===_0xbfd3f9['class'][_0xa8f47c(0x1b3)]&&_0x32f87b[_0xa8f47c(0x228)]===_0xbfd3f9[_0xa8f47c(0x238)]['source']);if(!~_0x2f538f)throw new Error('Could\x20not\x20find\x20selected\x20class:\x20'+JSON[_0xa8f47c(0x1d2)](_0xbfd3f9[_0xa8f47c(0x238)]));this[_0xa8f47c(0x1b6)][_0x10b784]=_0x2f538f,await this['_pGate'](_0x1d59b4);if(_0xbfd3f9[_0xa8f47c(0x1c1)]!=null){const _0x1afa73=this[_0xa8f47c(0x18f)]({'propIxClass':_0x10b784}),_0x402eaa=_0x1afa73[_0xa8f47c(0x1d4)][_0xa8f47c(0x22e)](_0x7256d6=>_0x7256d6[_0xa8f47c(0x1b3)]===_0xbfd3f9[_0xa8f47c(0x1c1)][_0xa8f47c(0x1b3)]&&_0x7256d6[_0xa8f47c(0x228)]===_0xbfd3f9[_0xa8f47c(0x1c1)]['source']);if(!~_0x402eaa)throw new Error(_0xa8f47c(0x1f4)+JSON[_0xa8f47c(0x1d2)](_0xbfd3f9[_0xa8f47c(0x1c1)]));this[_0xa8f47c(0x1b6)][_0x1444cd]=_0x402eaa;}else this[_0xa8f47c(0x1b6)][_0x1444cd]=null;}),_0x428686=async _0x24ebb0=>{const _0x278cc6=_0x309c60;this[_0x278cc6(0x23d)][_0x278cc6(0x21a)][_0x278cc6(0x262)][_0x278cc6(0x1f5)](_0x45e098);if(_0x24ebb0){const _0x587b4d=Object['keys'](this['__state'])[_0x278cc6(0x247)](_0x2ca1cd=>_0x2ca1cd[_0x278cc6(0x202)](_0x446b04)&&_0x2ca1cd!==_0x10b784)[_0x278cc6(0x1dd)](_0x3506ae=>({[_0x3506ae]:null}));this[_0x278cc6(0x1eb)](_0x278cc6(0x18d),_0x587b4d);}const _0x5edfd9=this['getClass_']({'propIxClass':_0x10b784}),_0x5e2e4f=this['getSubclass_']({'cls':_0x5edfd9,'propIxSubclass':_0x1444cd});this[_0x278cc6(0x1c7)]({'$stgSelectSubclass':_0x242d1f,'cls':_0x5edfd9,'ix':_0x2d93ca,'propIxSubclass':_0x1444cd,'idFilterBoxChangeSubclass':_0x45e098,'doApplyFilterToSelSubclass':_0xedd750}),this[_0x278cc6(0x1da)]({'$stgHpMode':_0x2faf23,'ix':_0x2d93ca,'cls':_0x5edfd9}),this['_class_renderClass_stgHpInfo']({'$stgHpInfo':_0x5de111,'ix':_0x2d93ca,'cls':_0x5edfd9}),this[_0x278cc6(0x253)]({'$stgStartingProficiencies':_0x4af18c,'ix':_0x2d93ca,'cls':_0x5edfd9}),await this[_0x278cc6(0x1be)]({'$stgLevelSelect':_0xab83e,'$stgFeatureOptions':_0x5eb84d,'ix':_0x2d93ca,'cls':_0x5edfd9,'sc':_0x5e2e4f,'propIxSubclass':_0x1444cd,'propCurLevel':_0x1c306d,'propTargetLevel':_0x2fc0ec,'propCntAsi':_0x34cefa,'lockRenderFeatureOptionsSelects':_0xb7126c,'idFilterBoxChangeClassLevels':_0x381ce8}),this[_0x278cc6(0x1b6)]['class_totalLevels']=this['class_getTotalLevels'](),this[_0x278cc6(0x1c6)]({'$stgSkills':_0x1a94db,'ix':_0x2d93ca,'propIxClass':_0x10b784}),await this['_class_renderClass_pDispClass']({'ix':_0x2d93ca,'$dispClass':_0x3b0499,'cls':_0x5edfd9,'sc':_0x5e2e4f}),_0x2099e7[_0x278cc6(0x1c5)]();},_0x139f52=async _0x5b8605=>{const _0x117dfd=_0x309c60;try{await this[_0x117dfd(0x1b4)](_0x1d59b4),await _0x428686(_0x5b8605);}finally{this[_0x117dfd(0x23f)](_0x1d59b4);}};this[_0x309c60(0x25f)](_0x10b784,_0x139f52);const _0x3ee810=async()=>{const _0xaa4cce=_0x309c60;this[_0xaa4cce(0x23d)][_0xaa4cce(0x21a)]['filterBox'][_0xaa4cce(0x1f5)](_0x45e098);const _0x3c3867=Object[_0xaa4cce(0x224)](this['__state'])[_0xaa4cce(0x247)](_0x53c4f9=>_0x53c4f9[_0xaa4cce(0x202)](_0x1f6397)&&_0x53c4f9!==_0x1444cd)[_0xaa4cce(0x1dd)](_0x168bcd=>({[_0x168bcd]:null}));this['_proxyAssignSimple'](_0xaa4cce(0x18d),_0x3c3867);const _0x406ff8=this[_0xaa4cce(0x18f)]({'propIxClass':_0x10b784}),_0x457aa1=this[_0xaa4cce(0x1ca)]({'cls':_0x406ff8,'propIxSubclass':_0x1444cd}),_0x4b1444=this[_0xaa4cce(0x1a1)](_0x406ff8,_0x457aa1);if(this[_0xaa4cce(0x1b2)][_0x2d93ca])this['_compsClassLevelSelect'][_0x2d93ca]['setFeatures'](_0x4b1444);await this[_0xaa4cce(0x261)]({'ix':_0x2d93ca,'propCntAsi':_0x34cefa,'filteredFeatures':_0x4b1444,'$stgFeatureOptions':_0x5eb84d,'lockRenderFeatureOptionsSelects':_0xb7126c}),this['_modalFilterClasses'][_0xaa4cce(0x21a)]['filterBox']['on'](_0x45e098,()=>_0xedd750()),_0xedd750(),await this[_0xaa4cce(0x1e4)]({'ix':_0x2d93ca,'$dispSubclass':_0x2099e7,'cls':_0x406ff8,'sc':_0x457aa1});},_0x58738a=async()=>{const _0x3ecea9=_0x309c60;try{await this['_pLock'](_0x1c39d5),await _0x3ee810();}finally{this[_0x3ecea9(0x23f)](_0x1c39d5);}};this[_0x309c60(0x25f)](_0x1444cd,_0x58738a);const _0xb5b7a9=$(_0x309c60(0x258)),_0x242d1f=$$`<div class="flex-col w-100"></div>`[_0x309c60(0x1bf)](),_0x2faf23=$$`<div class="flex-col"></div>`['hideVe'](),_0x5de111=$$`<div class="flex-col"></div>`[_0x309c60(0x1bf)](),_0x4af18c=$$`<div class="flex-col"></div>`[_0x309c60(0x1bf)](),_0xab83e=$$`<div class="flex-col"></div>`[_0x309c60(0x1bf)](),_0x5eb84d=$$`<div class="flex-col"></div>`['hideVe'](),_0x1a94db=$$`<div class="flex-col"></div>`['hideVe']();let _0x1bfcd3=null;if(!this['_existingClassMetas']['length']){_0x1bfcd3=$(_0x309c60(0x188))[_0x309c60(0x193)](()=>this[_0x309c60(0x1b6)]['class_ixPrimaryClass']=_0x2d93ca);const _0x5f5090=()=>{const _0x202834=_0x309c60;_0x1bfcd3[_0x202834(0x189)](this[_0x202834(0x1b6)][_0x202834(0x1fc)]===_0x2d93ca?_0x202834(0x195):'Make\x20Primary')[_0x202834(0x18e)](this[_0x202834(0x1b6)]['class_ixPrimaryClass']===_0x2d93ca?'This\x20is\x20your\x20primary\x20class,\x20i.e.\x20the\x20one\x20you\x20chose\x20at\x20level\x201\x20for\x20the\x20purposes\x20of\x20proficiencies/etc.':_0x202834(0x186))[_0x202834(0x1ea)](_0x202834(0x217),this[_0x202834(0x1b6)][_0x202834(0x1fc)]===_0x2d93ca);};this[_0x309c60(0x25f)](_0x309c60(0x1fc),_0x5f5090),_0x5f5090();}const _0x547b43=$(_0x309c60(0x1f9))[_0x309c60(0x193)](()=>{const _0x31267a=_0x309c60,_0x20fee1=_0x547b43[_0x31267a(0x189)]()==='[+]';_0x547b43[_0x31267a(0x189)](_0x20fee1?_0x31267a(0x225):_0x31267a(0x25b));if(_0x20fee1)_0xb5b7a9[_0x31267a(0x189)](_0x31267a(0x1a6));else{const _0x1a6bb4=this[_0x31267a(0x18f)]({'propIxClass':_0x10b784}),_0x4d89da=this['getSubclass_']({'cls':_0x1a6bb4,'propIxSubclass':_0x1444cd});if(_0x1a6bb4)_0xb5b7a9[_0x31267a(0x189)](''+_0x1a6bb4[_0x31267a(0x1b3)]+(_0x4d89da?'\x20('+_0x4d89da[_0x31267a(0x1b3)]+')':''));else _0xb5b7a9[_0x31267a(0x189)](_0x31267a(0x1a6));}_0x4c6067[_0x31267a(0x243)]();}),_0x3b0499=$$`<div class="flex-col w-100"></div>`,_0x2099e7=$$`<div class="flex-col w-100"></div>`,_0x4c6067=$$`<div class="flex-col w-100 mt-2">
			<div class="flex btn-group w-100">
				<div class="flex no-shrink">
					${_0x2b646f}
				</div>
				<div class="flex-col w-100">
					${_0x1e10a1}
					${_0x242d1f}
				</div>
			</div>
			${_0x2faf23}
			${_0x5de111}
			${_0x4af18c}
			${_0x1a94db}
			${_0xab83e}
			${_0x5eb84d}
		</div>`,_0x5c9c3b=$$`<div class="flex-col">
			${_0x2d93ca>0x0?_0x309c60(0x200):''}

			<div class="split-v-center">
				${_0xb5b7a9}
				<div class="flex-v-center">
					${_0x1bfcd3}
					${_0x547b43}
				</div>
			</div>

			${_0x4c6067}
		</div>`[_0x309c60(0x231)](_0x558e77),_0x36547a=$$`<div>
			${_0x2d93ca>0x0?'<hr\x20class=\x22hr-2\x20hr--heavy\x22>':''}

			${_0x3b0499}
			${_0x2099e7}
		</div>`[_0x309c60(0x231)](_0x15fd4d);_0x139f52()[_0x309c60(0x1a3)](()=>_0x58738a());}[_0xbf73e0(0x1c7)]({$stgSelectSubclass:_0x2d33,cls:_0x39a1e1,ix:_0x5945e2,propIxSubclass:_0xd5ece,idFilterBoxChangeSubclass:_0x241cd9,doApplyFilterToSelSubclass:_0x919e2c}){const _0x3c5542=_0xbf73e0;_0x2d33[_0x3c5542(0x1c5)]();if(this['_metaHksClassStgSubclass'][_0x5945e2])this[_0x3c5542(0x208)][_0x5945e2][_0x3c5542(0x210)]();if(_0x39a1e1&&_0x39a1e1['subclasses']&&_0x39a1e1[_0x3c5542(0x1d4)][_0x3c5542(0x1f7)]){const _0x25b834=ComponentUiUtil['$getSelSearchable'](this,_0xd5ece,{'values':_0x39a1e1[_0x3c5542(0x1d4)][_0x3c5542(0x1e9)]((_0x1defe0,_0x4bfaf9)=>_0x4bfaf9),'isAllowNull':!![],'fnDisplay':_0x1c2530=>{const _0x2f8d9c=_0x3c5542,_0x512b85=this[_0x2f8d9c(0x1ca)]({'cls':_0x39a1e1,'ix':_0x1c2530});return _0x512b85[_0x2f8d9c(0x1b3)]+'\x20'+(_0x512b85[_0x2f8d9c(0x228)]!==SRC_PHB?'['+Parser[_0x2f8d9c(0x21e)](_0x512b85[_0x2f8d9c(0x228)])+']':'');},'asMeta':!![],'isDisabled':this['_class_isSubclassSelectionDisabled']({'ix':_0x5945e2}),'displayNullAs':_0x3c5542(0x20c)});_0x25b834[_0x3c5542(0x1dc)]['addClass']('bl-0'),_0x25b834[_0x3c5542(0x1e1)][_0x3c5542(0x19d)]('bl-0'),this[_0x3c5542(0x208)][_0x5945e2]=_0x25b834,this[_0x3c5542(0x23d)][_0x3c5542(0x21a)][_0x3c5542(0x262)]['on'](_0x241cd9,()=>_0x919e2c()),_0x919e2c();const _0x34d424=$$`<div class="flex-col w-100 mt-1">
				${_0x25b834[_0x3c5542(0x1f2)]}
			</div>`;_0x2d33[_0x3c5542(0x259)]()[_0x3c5542(0x1a5)](_0x34d424);}else _0x2d33[_0x3c5542(0x1bf)](),this[_0x3c5542(0x208)][_0x5945e2]=null;}[_0xbf73e0(0x1da)]({$stgHpMode:_0x3c50cf,ix:_0x38a98d,cls:_0x14a4ab}){const _0x1b2388=_0xbf73e0;_0x3c50cf[_0x1b2388(0x1c5)](),_0x14a4ab&&Charactermancer_Class_HpIncreaseModeSelect[_0x1b2388(0x260)](_0x14a4ab)?(_0x3c50cf[_0x1b2388(0x259)]()[_0x1b2388(0x1a5)]('<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Hit\x20Points\x20Increase\x20Mode</div>'),this[_0x1b2388(0x184)][_0x38a98d]=new Charactermancer_Class_HpIncreaseModeSelect(),this['_compsClassHpIncreaseMode'][_0x38a98d]['render'](_0x3c50cf)):(_0x3c50cf['hideVe'](),this[_0x1b2388(0x184)][_0x38a98d]=null);}[_0xbf73e0(0x1bb)]({$stgHpInfo:_0x12b955,ix:_0x508fcd,cls:_0x2fe549}){const _0x2e558b=_0xbf73e0;_0x12b955['empty'](),_0x2fe549&&Charactermancer_Class_HpIncreaseModeSelect[_0x2e558b(0x260)](_0x2fe549)?(_0x12b955[_0x2e558b(0x259)]()[_0x2e558b(0x1a5)]('<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Hit\x20Points</div>'),this[_0x2e558b(0x1e8)][_0x508fcd]=new Charactermancer_Class_HpInfo({'className':_0x2fe549[_0x2e558b(0x1b3)],'hitDice':_0x2fe549['hd']}),this[_0x2e558b(0x1e8)][_0x508fcd]['render'](_0x12b955)):(_0x12b955['hideVe'](),this[_0x2e558b(0x1e8)][_0x508fcd]=null);}[_0xbf73e0(0x253)]({$stgStartingProficiencies:_0x47bae5,ix:_0x5ace1c,cls:_0x4071bd}){const _0x6f4b3b=_0xbf73e0,_0xa1187f=this[_0x6f4b3b(0x1a9)](_0x5ace1c);if(_0xa1187f)return;if(this[_0x6f4b3b(0x1cf)][_0x5ace1c])this[_0x6f4b3b(0x1cf)][_0x5ace1c][_0x6f4b3b(0x210)]();_0x47bae5[_0x6f4b3b(0x1c5)](),this[_0x6f4b3b(0x20f)][_0x6f4b3b(0x1d8)][_0x6f4b3b(0x1de)](this[_0x6f4b3b(0x244)][_0x5ace1c]);_0x4071bd&&(_0x4071bd[_0x6f4b3b(0x20d)]||_0x4071bd[_0x6f4b3b(0x21f)]?.[_0x6f4b3b(0x1cd)])?(_0x47bae5['showVe']()[_0x6f4b3b(0x1a5)](_0x6f4b3b(0x24e)),this[_0x6f4b3b(0x244)][_0x5ace1c]=Charactermancer_Class_StartingProficiencies[_0x6f4b3b(0x207)]({'featureSourceTracker':this[_0x6f4b3b(0x20f)]['featureSourceTracker_'],'primaryProficiencies':_0x4071bd['startingProficiencies'],'multiclassProficiencies':_0x4071bd['multiclassing']?.[_0x6f4b3b(0x1cd)],'savingThrowsProficiencies':_0x4071bd[_0x6f4b3b(0x219)],'existingProficienciesFvttArmor':MiscUtil[_0x6f4b3b(0x207)](this['_actor'],_0x6f4b3b(0x1cb),_0x6f4b3b(0x1cb),'traits',_0x6f4b3b(0x1a4)),'existingProficienciesFvttWeapons':MiscUtil[_0x6f4b3b(0x207)](this['_actor'],_0x6f4b3b(0x1cb),_0x6f4b3b(0x1cb),_0x6f4b3b(0x25a),'weaponProf'),'existingProficienciesFvttTools':MiscUtil[_0x6f4b3b(0x207)](this[_0x6f4b3b(0x256)],_0x6f4b3b(0x1cb),_0x6f4b3b(0x1cb),_0x6f4b3b(0x25a),'toolProf'),'existingProficienciesFvttSavingThrows':Charactermancer_Class_StartingProficiencies['getExistingProficienciesFvttSavingThrows'](this[_0x6f4b3b(0x256)])}),this[_0x6f4b3b(0x244)][_0x5ace1c][_0x6f4b3b(0x1c9)](_0x47bae5)):(_0x47bae5['hideVe'](),this[_0x6f4b3b(0x244)][_0x5ace1c]=null);const _0xe1de86=()=>{const _0x108492=_0x6f4b3b;if(this['_compsClassStartingProficiencies'][_0x5ace1c])this[_0x108492(0x244)][_0x5ace1c][_0x108492(0x24f)]=this[_0x108492(0x1b6)][_0x108492(0x1fc)]===_0x5ace1c?Charactermancer_Class_ProficiencyImportModeSelect[_0x108492(0x192)]:Charactermancer_Class_ProficiencyImportModeSelect['MODE_MULTICLASS'];};this['_addHookBase']('class_ixPrimaryClass',_0xe1de86),this[_0x6f4b3b(0x1cf)][_0x5ace1c]={'unhook':()=>this[_0x6f4b3b(0x237)]('class_ixPrimaryClass',_0xe1de86)},_0xe1de86();}[_0xbf73e0(0x1a9)](_0x515d92){const _0x5321e2=_0xbf73e0;if(this['_existingClassMetas'][_0x515d92])return this[_0x5321e2(0x24c)][_0x515d92];const {propIxClass:_0x4891d8}=ActorCharactermancerBaseComponent[_0x5321e2(0x215)](_0x515d92),_0x53eed2=this['getClass_']({'propIxClass':_0x4891d8}),_0x3120a3=Charactermancer_Class_Util['getExistingClassItems'](this[_0x5321e2(0x256)],_0x53eed2),_0x58afe9=_0x3120a3['length']?_0x3120a3[0x0]:null;if(!_0x58afe9)return null;return{'item':_0x58afe9,'level':Number(_0x58afe9?.['data']?.[_0x5321e2(0x1ec)]||0x0)};}async[_0xbf73e0(0x1be)]({$stgLevelSelect:_0x7c101e,$stgFeatureOptions:_0x44af33,ix:_0x561410,cls:_0x58c6ee,sc:_0x29c871,propIxSubclass:_0x3753b0,propCurLevel:_0x351495,propTargetLevel:_0x2d1d4c,propCntAsi:_0x2043e8,lockRenderFeatureOptionsSelects:_0x134529,idFilterBoxChangeClassLevels:_0x38b454}){const _0x3f51e0=_0xbf73e0;_0x7c101e['empty']();if(_0x58c6ee){_0x7c101e[_0x3f51e0(0x259)]()['append']('<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Select\x20Levels</div>');const _0x14bfe6=this['_class_getFilteredFeatures'](_0x58c6ee,_0x29c871),_0x24b531=this[_0x3f51e0(0x1a9)](_0x561410);this[_0x3f51e0(0x1b2)][_0x561410]=new Charactermancer_Class_LevelSelect({'features':_0x14bfe6,'isRadio':!![],'isForceSelect':this['getExistingClassTotalLevels_']()===0x0||!_0x24b531,'maxPreviousLevel':_0x24b531?.[_0x3f51e0(0x1d5)],'isSubclass':!![]}),this[_0x3f51e0(0x1b2)][_0x561410][_0x3f51e0(0x1c9)](_0x7c101e);const _0x531518=async()=>{const _0x2b3289=_0x3f51e0,_0x37e62b=this[_0x2b3289(0x1ca)]({'cls':_0x58c6ee,'propIxSubclass':_0x3753b0}),_0x261b2b=this[_0x2b3289(0x1a1)](_0x58c6ee,_0x37e62b);await this[_0x2b3289(0x261)]({'ix':_0x561410,'propCntAsi':_0x2043e8,'filteredFeatures':_0x261b2b,'$stgFeatureOptions':_0x44af33,'lockRenderFeatureOptionsSelects':_0x134529}),this[_0x2b3289(0x1b6)][_0x351495]=this[_0x2b3289(0x1b2)][_0x561410]['getCurLevel'](),this[_0x2b3289(0x1b6)][_0x2d1d4c]=this['_compsClassLevelSelect'][_0x561410][_0x2b3289(0x21c)](),this['_state'][_0x2b3289(0x25d)]=this[_0x2b3289(0x1d9)]();};this['_compsClassLevelSelect'][_0x561410][_0x3f51e0(0x1ef)](_0x531518),await _0x531518(),this[_0x3f51e0(0x23d)][_0x3f51e0(0x21a)][_0x3f51e0(0x262)]['on'](_0x38b454,()=>{const _0x1980a3=_0x3f51e0;if(!this[_0x1980a3(0x1b2)][_0x561410])return;const _0xb1bf53=this[_0x1980a3(0x1ca)]({'cls':_0x58c6ee,'propIxSubclass':_0x3753b0}),_0x2def70=this[_0x1980a3(0x1a1)](_0x58c6ee,_0xb1bf53);if(this[_0x1980a3(0x1b2)][_0x561410])this[_0x1980a3(0x1b2)][_0x561410][_0x1980a3(0x19a)](_0x2def70);this[_0x1980a3(0x261)]({'ix':_0x561410,'propCntAsi':_0x2043e8,'filteredFeatures':_0x2def70,'$stgFeatureOptions':_0x44af33,'lockRenderFeatureOptionsSelects':_0x134529});});}else _0x7c101e['hideVe'](),this[_0x3f51e0(0x1b2)][_0x561410]=null,_0x44af33[_0x3f51e0(0x1c5)]()[_0x3f51e0(0x1bf)](),this[_0x3f51e0(0x1ae)](_0x561410),this['_state'][_0x2043e8]=null,this['_modalFilterClasses'][_0x3f51e0(0x21a)][_0x3f51e0(0x262)]['off'](_0x38b454);}[_0xbf73e0(0x1c6)]({$stgSkills:_0x57de7b,ix:_0x2d7875,propIxClass:_0xe316a1}){const _0x4d89ad=_0xbf73e0,_0x261bbc=this['_class_getExistingClassMeta'](_0x2d7875);if(_0x261bbc)return;if(this['_metaHksClassStgSkills'][_0x2d7875])this[_0x4d89ad(0x1fd)][_0x2d7875][_0x4d89ad(0x210)]();const _0x46262c=()=>{const _0x45f123=_0x4d89ad;_0x57de7b[_0x45f123(0x1c5)]();const _0x3d6a06=this['getClass_']({'propIxClass':_0xe316a1}),_0x492ba8=this[_0x45f123(0x1b6)][_0x45f123(0x1fc)]===_0x2d7875;this[_0x45f123(0x20f)]['featureSourceTracker_'][_0x45f123(0x1de)](this[_0x45f123(0x1fa)][_0x2d7875]);if(_0x3d6a06&&(_0x492ba8&&_0x3d6a06[_0x45f123(0x20d)]?.['skills']||!_0x492ba8&&_0x3d6a06[_0x45f123(0x21f)]?.[_0x45f123(0x1cd)]?.[_0x45f123(0x22a)])){_0x57de7b['showVe']()[_0x45f123(0x1a5)](_0x45f123(0x211));const _0x211ed5=_0x492ba8?_0x3d6a06[_0x45f123(0x20d)]['skills']:_0x3d6a06[_0x45f123(0x21f)][_0x45f123(0x1cd)]['skills'];this[_0x45f123(0x1fa)][_0x2d7875]=new Charactermancer_SkillSelect({'featureSourceTracker':this[_0x45f123(0x20f)][_0x45f123(0x1d8)],'existingProficiencies':Charactermancer_SkillSelect['getExistingProficiencies']({'skillProficiencies':MiscUtil[_0x45f123(0x207)](this['_actor'],_0x45f123(0x1cb),_0x45f123(0x1cb),_0x45f123(0x22a))}),'availableProficiencies':_0x211ed5}),this[_0x45f123(0x1fa)][_0x2d7875][_0x45f123(0x1c9)](_0x57de7b);}else _0x57de7b[_0x45f123(0x1bf)](),this['_compsClassSkillProficiencies'][_0x2d7875]=null;};this[_0x4d89ad(0x25f)](_0x4d89ad(0x1fc),_0x46262c),this[_0x4d89ad(0x1fd)][_0x2d7875]={'unhook':()=>this[_0x4d89ad(0x237)](_0x4d89ad(0x1fc),_0x46262c)},_0x46262c();}async[_0xbf73e0(0x23a)]({ix:_0x1d3638,$dispClass:_0x50bdc2,cls:_0x4ff1b2,sc:_0x394def}){const _0x84564f=_0xbf73e0;if(this[_0x84564f(0x1e0)][_0x1d3638])this[_0x84564f(0x1e0)][_0x1d3638][_0x84564f(0x19e)]();else this[_0x84564f(0x1e0)][_0x1d3638]=$(_0x84564f(0x1cc));_0x50bdc2[_0x84564f(0x1c5)]();if(_0x4ff1b2){const _0x3d6cbc=await DataUtil[_0x84564f(0x238)][_0x84564f(0x248)](_0x4ff1b2);let _0x481893=MiscUtil[_0x84564f(0x241)](_0x3d6cbc[_0x84564f(0x23b)]||[])[_0x84564f(0x1e3)]();_0x481893=Charactermancer_Class_Util['getFilteredEntries'](_0x481893,this['_modalFilterClasses'][_0x84564f(0x21a)],this[_0x84564f(0x23d)][_0x84564f(0x21a)]['filterBox'][_0x84564f(0x1aa)]());const _0x525266={'type':_0x84564f(0x1a2),'entries':_0x481893};this[_0x84564f(0x212)](_0x50bdc2,_0x4ff1b2['name'],_0x525266,{'$wrpTable':this[_0x84564f(0x1e0)][_0x1d3638]}),await this['_class_renderClass_pClassTable']({'ix':_0x1d3638,'cls':_0x4ff1b2,'sc':_0x394def});}}async['_class_renderClass_pDispSubclass']({ix:_0x50d612,$dispSubclass:_0x3a13e9,cls:_0x1b36bb,sc:_0x22ce34}){const _0x2db0d0=_0xbf73e0;_0x3a13e9[_0x2db0d0(0x1c5)]();if(_0x22ce34){_0x3a13e9[_0x2db0d0(0x1a5)](_0x2db0d0(0x1b8));const _0x14cbd3=await DataUtil[_0x2db0d0(0x238)][_0x2db0d0(0x216)](_0x22ce34);let _0x45dd35=MiscUtil[_0x2db0d0(0x241)](_0x14cbd3[_0x2db0d0(0x1c4)])[_0x2db0d0(0x1e3)]();_0x45dd35=Charactermancer_Class_Util[_0x2db0d0(0x1d0)](_0x45dd35,this[_0x2db0d0(0x23d)][_0x2db0d0(0x21a)],this['_modalFilterClasses']['pageFilter']['filterBox']['getValues']());const _0x2519cc={'type':_0x2db0d0(0x1a2),'entries':_0x45dd35};if(_0x2519cc[_0x2db0d0(0x1e2)][0x0]&&_0x2519cc['entries'][0x0][_0x2db0d0(0x1b3)])delete _0x2519cc[_0x2db0d0(0x1e2)][0x0]['name'];this[_0x2db0d0(0x212)](_0x3a13e9,_0x22ce34[_0x2db0d0(0x1b3)],_0x2519cc);}await this[_0x2db0d0(0x1d1)]({'ix':_0x50d612,'cls':_0x1b36bb,'sc':_0x22ce34});}async[_0xbf73e0(0x1d1)]({ix:_0x104492,cls:_0x28f7cf,sc:_0x5094e5}){const _0x20da88=_0xbf73e0,_0x19299c=_0x28f7cf?await DataUtil['class'][_0x20da88(0x248)](_0x28f7cf):null,_0xc81fcc=_0x5094e5?await DataUtil[_0x20da88(0x238)]['pGetDereferencedSubclassData'](_0x5094e5):null,_0x16703a=_0x19299c?.['classFeatures']||_0xc81fcc?.['subclassFeatures']?this['_modalFilterClasses'][_0x20da88(0x21a)][_0x20da88(0x262)][_0x20da88(0x1aa)]():null;_0x19299c?.[_0x20da88(0x23b)]&&(_0x19299c[_0x20da88(0x23b)]=_0x19299c[_0x20da88(0x23b)][_0x20da88(0x1e9)](_0xc604c4=>{const _0x549484=_0x20da88;return _0xc604c4=MiscUtil[_0x549484(0x241)](_0xc604c4),_0xc604c4=Charactermancer_Class_Util[_0x549484(0x1d0)](_0xc604c4,this[_0x549484(0x23d)][_0x549484(0x21a)],_0x16703a),_0xc604c4;}));_0xc81fcc?.['subclassFeatures']&&(_0xc81fcc['subclassFeatures']=_0xc81fcc[_0x20da88(0x1c4)][_0x20da88(0x1e9)](_0x1b9e72=>{const _0x23489c=_0x20da88;return _0x1b9e72=MiscUtil[_0x23489c(0x241)](_0x1b9e72),_0x1b9e72=Charactermancer_Class_Util['getFilteredEntries'](_0x1b9e72,this['_modalFilterClasses'][_0x23489c(0x21a)],_0x16703a),_0x1b9e72;}));const _0x30f435=DataConverterClass[_0x20da88(0x1d7)](_0x19299c,_0xc81fcc);this[_0x20da88(0x1e0)][_0x104492][_0x20da88(0x18a)]('')['fastSetHtml'](_0x30f435);}[_0xbf73e0(0x1a1)](_0x4e4dc0,_0x416446){const _0x1776b4=_0xbf73e0;if(!_0x4e4dc0)return[];return _0x4e4dc0=MiscUtil['copy'](_0x4e4dc0),_0x4e4dc0[_0x1776b4(0x1d4)]=[_0x416446][_0x1776b4(0x247)](Boolean),Charactermancer_Class_Util[_0x1776b4(0x22d)](Charactermancer_Class_Util[_0x1776b4(0x1e5)](_0x4e4dc0),this[_0x1776b4(0x23d)]['pageFilter'],this[_0x1776b4(0x23d)]['pageFilter'][_0x1776b4(0x262)][_0x1776b4(0x1aa)]());}async[_0xbf73e0(0x261)](_0x54bf88){const _0x2213fe=_0xbf73e0,{lockRenderFeatureOptionsSelects:_0x197e9f}=_0x54bf88;try{return await this[_0x2213fe(0x1b4)](_0x197e9f),this[_0x2213fe(0x1f1)](_0x54bf88);}finally{this['_unlock'](_0x197e9f);}}async['_class_pRenderFeatureOptionsSelects_']({ix:_0x59fd74,propCntAsi:_0x3c9f39,filteredFeatures:_0x33eab1,$stgFeatureOptions:_0x3d1471}){const _0x44d5ac=_0xbf73e0,_0x20f006=this[_0x44d5ac(0x1ba)][_0x59fd74]||[];_0x3d1471[_0x44d5ac(0x1c5)]();const _0x5c0d9f=this[_0x44d5ac(0x24c)][_0x59fd74]?new Charactermancer_Class_Util[(_0x44d5ac(0x252))](this[_0x44d5ac(0x256)]):null,_0xd11686=Charactermancer_Class_Util[_0x44d5ac(0x1ed)](_0x33eab1),_0x488801=MiscUtil[_0x44d5ac(0x241)](_0xd11686);Charactermancer_Class_Util[_0x44d5ac(0x1bc)](_0x488801,this[_0x44d5ac(0x23d)]['pageFilter'],this[_0x44d5ac(0x23d)][_0x44d5ac(0x21a)][_0x44d5ac(0x262)][_0x44d5ac(0x1aa)]());const _0x28ef11=Charactermancer_Class_Util[_0x44d5ac(0x206)](_0x488801),{lvlMin:_0x398e54,lvlMax:_0x1907aa}=await this[_0x44d5ac(0x236)](_0x59fd74);this[_0x44d5ac(0x1ae)](_0x59fd74);let _0xcb9c2f=0x0;for(const _0x2b21c3 of _0x28ef11){const {topLevelFeature:_0x1b0466,optionsSets:_0x594281}=_0x2b21c3;if(_0x1b0466['level']<_0x398e54||_0x1b0466[_0x44d5ac(0x1d5)]>_0x1907aa)continue;const _0x4ff924=_0x1b0466[_0x44d5ac(0x1b3)][_0x44d5ac(0x18c)]();if(_0x4ff924===_0x44d5ac(0x1c8)){_0xcb9c2f++;continue;}for(const _0x41b1fd of _0x594281){const _0x4f567b=new Charactermancer_Class_FeatureOptionsSelect({'featureSourceTracker':this[_0x44d5ac(0x20f)][_0x44d5ac(0x1d8)],'existingFeatureChecker':_0x5c0d9f,'actor':this[_0x44d5ac(0x256)],'optionsSet':_0x41b1fd,'level':_0x1b0466[_0x44d5ac(0x1d5)]});this[_0x44d5ac(0x1ba)][_0x59fd74][_0x44d5ac(0x1ad)](_0x4f567b),_0x4f567b['findAndCopyStateFrom'](_0x20f006);}}this[_0x44d5ac(0x1b6)][_0x3c9f39]=_0xcb9c2f,await this[_0x44d5ac(0x24d)](_0x59fd74,{'$stgFeatureOptions':_0x3d1471});}[_0xbf73e0(0x1ae)](_0x520ff3){const _0x19ea85=_0xbf73e0;(this['_compsClassFeatureOptionsSelect'][_0x520ff3]||[])[_0x19ea85(0x21b)](_0x381c46=>_0x381c46[_0x19ea85(0x1d6)]()),this['_compsClassFeatureOptionsSelect'][_0x520ff3]=[];}async[_0xbf73e0(0x236)](_0x3a7d7b){const _0x4686d4=_0xbf73e0;let _0x1d7b8c=0x0,_0x49c11c=0x0;if(this[_0x4686d4(0x1b2)][_0x3a7d7b]){const _0xe69ce6=await this[_0x4686d4(0x1b2)][_0x3a7d7b]['pGetFormData']()[_0x4686d4(0x1cb)];_0x1d7b8c=Math[_0x4686d4(0x218)](..._0xe69ce6)+0x1,_0x49c11c=Math[_0x4686d4(0x232)](..._0xe69ce6)+0x1;}return{'lvlMin':_0x1d7b8c,'lvlMax':_0x49c11c};}async[_0xbf73e0(0x24d)](_0x55bff1,{$stgFeatureOptions:_0x5042f6}){const _0x1b93d8=_0xbf73e0;for(const _0x19b67f of this[_0x1b93d8(0x1ba)][_0x55bff1]){if(await _0x19b67f[_0x1b93d8(0x1fb)]()&&!await _0x19b67f[_0x1b93d8(0x1b9)]())continue;_0x5042f6[_0x1b93d8(0x259)]()[_0x1b93d8(0x1a5)](''+(_0x19b67f[_0x1b93d8(0x1ab)]?_0x1b93d8(0x1bd)+_0x19b67f[_0x1b93d8(0x1ab)]+_0x1b93d8(0x1e7):'')),_0x19b67f['render'](_0x5042f6);}}[_0xbf73e0(0x212)](_0x47deca,_0x9c6cb0,_0x30c981,{$wrpTable:$wrpTable=null}={}){const _0x4bdbe0=_0xbf73e0,_0x36d786=$(_0x4bdbe0(0x1b5))[_0x4bdbe0(0x193)](()=>{const _0x24d2ed=_0x4bdbe0;_0x36d786[_0x24d2ed(0x189)](_0x36d786[_0x24d2ed(0x189)]()==='[+]'?_0x24d2ed(0x225):_0x24d2ed(0x25b));if($wrpTable)$wrpTable[_0x24d2ed(0x243)]();_0x2446df[_0x24d2ed(0x243)]();}),_0x2446df=Renderer[_0x4bdbe0(0x1ee)]['$getHoverContent_generic'](_0x30c981);$$`<div class="flex-col">
			<div class="split-v-center">
				<div class="rd__h rd__h--0"><div class="entry-title-inner">${(_0x9c6cb0||'')['qq']()}</div></div>
				${_0x36d786}
			</div>
			${$wrpTable}
			${_0x2446df}
		</div>`[_0x4bdbe0(0x231)](_0x47deca);}['class_getPrimaryClass'](){const _0xbeee0f=_0xbf73e0;if(this[_0xbeee0f(0x1b6)]['class_ixPrimaryClass'])return null;const {propIxClass:_0x2c55eb}=ActorCharactermancerBaseComponent[_0xbeee0f(0x215)](this[_0xbeee0f(0x1b6)]['class_ixPrimaryClass']);return this[_0xbeee0f(0x19f)]['class'][this[_0xbeee0f(0x1b6)][_0x2c55eb]];}[_0xbf73e0(0x1d9)](){const _0x2750b7=_0xbf73e0;return this[_0x2750b7(0x1b2)]['filter'](Boolean)['map'](_0x122b29=>_0x122b29[_0x2750b7(0x21c)]())['reduce']((_0x1078b5,_0x10533b)=>_0x1078b5+_0x10533b,0x0);}['class_getMinMaxSpellLevel'](){const _0x1cdbc4=_0xbf73e0,_0x281a5d=[],_0x3e07f2=[];for(let _0x3ea02b=0x0;_0x3ea02b<this['_state'][_0x1cdbc4(0x250)]+0x1;++_0x3ea02b){const {propIxClass:_0x253e7d,propIxSubclass:_0x546969,propCurLevel:_0x569626,propTargetLevel:_0xdde31b}=ActorCharactermancerBaseComponent[_0x1cdbc4(0x215)](_0x3ea02b),_0x4711ce=this['getClass_']({'propIxClass':_0x253e7d});if(!_0x4711ce)continue;const _0x1ca946=this[_0x1cdbc4(0x1ca)]({'cls':_0x4711ce,'propIxSubclass':_0x546969}),_0xf5fdd9=this['_state'][_0x569626],_0x519176=this['_state'][_0xdde31b],_0x33f980=DataConverterClass['getMaxCasterProgression'](_0x4711ce[_0x1cdbc4(0x223)],_0x1ca946?.[_0x1cdbc4(0x223)]),_0x231ab8=Charactermancer_Util[_0x1cdbc4(0x245)]({'casterProgression':_0x33f980,'curLevel':_0xf5fdd9,'targetLevel':_0x519176,'isBreakpointsOnly':!![]})?.[_0x1cdbc4(0x226)];if(_0x231ab8!=null)_0x281a5d[_0x1cdbc4(0x1ad)](_0x231ab8);const _0x2e6ea1=Charactermancer_Util['getCasterProgressionMeta']({'casterProgression':_0x33f980,'curLevel':_0xf5fdd9,'targetLevel':_0x519176,'isBreakpointsOnly':!![]})?.[_0x1cdbc4(0x190)];if(_0x2e6ea1!=null)_0x3e07f2['push'](_0x2e6ea1);}return{'min':_0x281a5d[_0x1cdbc4(0x1f7)]?Math[_0x1cdbc4(0x218)](..._0x281a5d):null,'max':_0x3e07f2[_0x1cdbc4(0x1f7)]?Math[_0x1cdbc4(0x232)](..._0x3e07f2):null};}[_0xbf73e0(0x1e6)](){return{'class_ixPrimaryClass':0x0,'class_ixMax':0x0,'class_totalLevels':0x0,'class_pulseChange':![]};}}ActorCharactermancerClass[_0xbf73e0(0x1ff)]=class{constructor({item:_0x4a8c7a,ixClass:_0x1ea81b,ixSubclass:_0x4ab5c8,level:_0x14b082}){const _0xe0f4b4=_0xbf73e0;this[_0xe0f4b4(0x246)]=_0x4a8c7a,this['ixClass']=_0x1ea81b,this[_0xe0f4b4(0x242)]=_0x4ab5c8,this[_0xe0f4b4(0x1d5)]=_0x14b082;if(isNaN(this['level']))this[_0xe0f4b4(0x1d5)]=0x0;}};export{ActorCharactermancerClass};