const _0x4a7a=['state','addClass','level','MODULE_NAME_FAKE','_compsClassStartingProficiencies','getCurLevel','pLoad','4cvuOEX','<hr\x20class=\x22hr-2\x22><div\x20class=\x22mb-2\x20bold\x20w-100\x22>','\x22\x20in\x20loaded\x20data.\x20','bl-0','2491OuqTeD','showVe','fastSetHtml','fnUpdateHidden','_class_getFilteredFeatures','subclass','import','689ylHguu','off','_class_unregisterFeatureSourceTrackingFeatureComps','_metaHksClassStgSkills','traits','spellLevelHigh','prop','_pLoad_pDoHandleExistingClassItems','_class_isSubclassSelectionDisabled','class_pulseChange','_$wrpsClassTable','_existingClassMetas','tabClass','MODE_MULTICLASS','_class_renderClass_pClassTable','keys','pIsForceDisplay','_class_renderClass_stgSkills','trim','notifications','_class_renderClass','name','text','getMaxCasterProgression','getSubclass_','pGetDereferencedClassData','_class_renderClass_pDispSubclass','armorProf','getImportableFeatures','<hr\x20class=\x22hr-2\x20hr--heavy\x22>','class_totalLevels','filterBox','isPrimary','_compsClassFeatureOptionsSelect','startingProficiencies','_class_isClassSelectionDisabled','render','[‒]','_subclass','At\x20least\x20one\x20argument\x20must\x20be\x20provided!','compsClassHpIncreaseMode','items','modalTitle','unregisterFeatureSourceTracking','<hr\x20class=\x22hr-3\x20hr--heavy\x22>','constructor','ixClass','<button\x20class=\x22btn\x20btn-5et\x20btn-sm\x22>Add\x20Another\x20Class</button>','<button\x20class=\x22btn\x20btn-xs\x20btn-5et\x20h-100\x20btr-0\x20bbr-0\x20pr-2\x22\x20title=\x22Filter\x20for\x20Class\x20and\x20Subclass\x22><span\x20class=\x22glyphicon\x20glyphicon-filter\x22></span>\x20Filter</button>','getFilteredFeatures','unregister','202ZNvnlJ','stringify','1852fASRox','_modalFilterClasses','_metaHksClassStgSubclass','_class_getExistingClassMeta','disabled','<button\x20class=\x22btn\x20btn-5et\x20btn-xs\x20mr-2\x22></button>','subclasses','Primary\x20Class','_removeHookBase','skills','Strict\x20source\x20matching\x20is:\x20','_actor','_pLock','map','_compsClassHpInfo','isStrictMatching','__state','unhook','_class_pRenderFeatureOptionsSelects_','class','mergeMap','$iptDisplay','hideVe','Make\x20Primary','ExistingClassMeta','forEach','filter','push','_compsClassSkillProficiencies','_class_renderClass_stgSelectSubclass','modalFilterClasses','STR_WARN_SOURCE_SELECTION','toLowerCase','626227oSqqWl','$wrp','_classLevels','_state','_class_renderClass_stgHpInfo','actor','_class_renderClass_stgHpMode','class_getTotalLevels','_class_pRenderFeatureOptionsSelects','[+]','500731PQbnZW','getValues','click','class_getProps','exec','ixSubclass','pageFilter','featureSourceTracker_','class_ixMax','<div\x20class=\x22bold\x22>Select\x20a\x20Class</div>','getExistingProficienciesFvttSavingThrows','sourceJsonToAbv','getExistingProficiencies','Select\x20a\x20Subclass','getClass_','getFilteredEntries','Could\x20not\x20find\x20class\x20\x22','min','flat','_parent','class_','_class_renderClass_stgStartingProficiencies','empty','setFeatures','EVNT_VALCHANGE','flags','getSubclassStub','This\x20is\x20your\x20primary\x20class,\x20i.e.\x20the\x20one\x20you\x20chose\x20at\x20level\x201\x20for\x20the\x20purposes\x20of\x20proficiencies/etc.','_tabClass','source','_class_renderEntriesSection','getTargetLevel','\x22)\x20in\x20loaded\x20data.\x20','getItemSource','<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Select\x20Levels</div>','toggleVe','casterProgression','classFeatures','get','pPreloadHidden','copy','_class_pGetMinMaxLevel','class_ixPrimaryClass','<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Proficiencies</div>','pGetDereferencedSubclassData','Make\x20this\x20your\x20primary\x20class,\x20i.e.\x20the\x20one\x20you\x20chose\x20at\x20level\x201\x20for\x20the\x20purposes\x20of\x20proficiencies/etc.','pIsNoChoice','compsClassLevelSelect','<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Hit\x20Points</div>','weaponProf','multiclassing','_unlock','<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Skill\x20Proficiencies</div>','.class_','405803xQRteZ','section','_proxyAssignSimple','_metaHksClassStgStartingProficiencies','toolProf','_data','startsWith','588285uvIDRp','hover','isHpAvailable','type','length','24962PEGCml','getCasterProgressionMeta','_class_renderClass_pStgLevelSelect','then','_pLoad_getExistingClassIndex','<div\x20class=\x22py-1\x20clickable\x20ve-muted\x22>[‒]</div>','data','_renderFeatureOptionsSelects','max','_compsClassLevelSelect','$wrpTab','getExistingClassItems','findIndex','spellLevelLow','Select\x20a\x20Class','_addHookBase','subclassFeatures','<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Hit\x20Points\x20Increase\x20Mode</div>','Could\x20not\x20find\x20selected\x20subclass:\x20','warn','pGetUserSelection','compsClassSkillProficiencies','isPrimaryClass','_class_pRenderFeatureComps','_pHkChangeClass','toDisplay','<div\x20class=\x22flex-col\x20w-100\x22></div>','proficienciesGained','doApplyFilterToFeatureEntries','_pDoProxySetBase','MODE_PRIMARY','pGetFormData','_compsClassHpIncreaseMode','appendTo','append','levels','_class_getLocks','Could\x20not\x20find\x20subclass\x20\x22','$getSelSearchable'];const _0x2bca=function(_0x33c8a2,_0x35c047){_0x33c8a2=_0x33c8a2-0x132;let _0x4a7a46=_0x4a7a[_0x33c8a2];return _0x4a7a46;};const _0x1d6699=_0x2bca;(function(_0x1de823,_0x24fc36){const _0x1c75f9=_0x2bca;while(!![]){try{const _0x3f6219=-parseInt(_0x1c75f9(0x1da))+-parseInt(_0x1c75f9(0x1e1))+parseInt(_0x1c75f9(0x139))*parseInt(_0x1c75f9(0x1e6))+-parseInt(_0x1c75f9(0x177))*parseInt(_0x1c75f9(0x179))+parseInt(_0x1c75f9(0x1a4))+-parseInt(_0x1c75f9(0x19a))+-parseInt(_0x1c75f9(0x144))*-parseInt(_0x1c75f9(0x13d));if(_0x3f6219===_0x24fc36)break;else _0x1de823['push'](_0x1de823['shift']());}catch(_0x2c56cc){_0x1de823['push'](_0x1de823['shift']());}}}(_0x4a7a,0x4eb9b));import{ActorCharactermancerBaseComponent}from'./ActorCharactermancerUtil.js';import{Charactermancer_Class_FeatureOptionsSelect,Charactermancer_Class_HpIncreaseModeSelect,Charactermancer_Class_HpInfo,Charactermancer_Class_LevelSelect,Charactermancer_Class_ProficiencyImportModeSelect,Charactermancer_Class_StartingProficiencies,Charactermancer_Class_Util}from'./UtilCharactermancerClass.js';import{Charactermancer_SkillProficiencySelect,Charactermancer_Util}from'./UtilCharactermancer.js';import{DataConverterClass}from'./DataConverterClass.js';import{ModalFilterClassesFvtt}from'./UtilModalFilter.js';import{Config}from'./Config.js';import{DataConverter}from'./DataConverter.js';import{SharedConsts}from'../shared/SharedConsts.js';import{LGT}from'./Util.js';class ActorCharactermancerClass extends ActorCharactermancerBaseComponent{constructor(_0x5b8242){const _0x19d108=_0x2bca;_0x5b8242=_0x5b8242||{},super(),this[_0x19d108(0x184)]=_0x5b8242[_0x19d108(0x19f)],this[_0x19d108(0x1df)]=_0x5b8242[_0x19d108(0x1ec)],this[_0x19d108(0x1b7)]=_0x5b8242['parent'],this[_0x19d108(0x1c0)]=_0x5b8242[_0x19d108(0x150)],this[_0x19d108(0x17a)]=new ModalFilterClassesFvtt({'namespace':'ActorCharactermancer.classes'}),this[_0x19d108(0x17b)]=[],this[_0x19d108(0x136)]=[],this[_0x19d108(0x206)]=[],this[_0x19d108(0x187)]=[],this[_0x19d108(0x1ef)]=[],this[_0x19d108(0x165)]=[],this[_0x19d108(0x195)]=[],this['_metaHksClassStgSkills']=[],this['_metaHksClassStgStartingProficiencies']=[],this[_0x19d108(0x14e)]=[],this['_existingClassMetas']=[];}get[_0x1d6699(0x197)](){return this['_modalFilterClasses'];}get['compsClassStartingProficiencies'](){const _0x4b364c=_0x1d6699;return this[_0x4b364c(0x136)];}get[_0x1d6699(0x16c)](){return this['_compsClassHpIncreaseMode'];}get[_0x1d6699(0x1d3)](){const _0x377fef=_0x1d6699;return this[_0x377fef(0x1ef)];}get['compsClassFeatureOptionsSelect'](){const _0x592e76=_0x1d6699;return this[_0x592e76(0x165)];}get[_0x1d6699(0x1fb)](){const _0x4cd2ee=_0x1d6699;return this[_0x4cd2ee(0x195)];}get['existingClassMetas'](){return this['_existingClassMetas'];}async[_0x1d6699(0x138)](){const _0x44936f=_0x1d6699;await this['_modalFilterClasses'][_0x44936f(0x1cb)](),await this[_0x44936f(0x14b)]();}async[_0x1d6699(0x14b)](){const _0x28823a=_0x1d6699,_0x5c16a1=(MiscUtil[_0x28823a(0x1ca)](this['_actor'],_0x28823a(0x1ec),_0x28823a(0x16d))||[])['filter'](_0x492abb=>_0x492abb[_0x28823a(0x1e4)]===_0x28823a(0x18c));this['_existingClassMetas']=_0x5c16a1[_0x28823a(0x186)](_0x3064f8=>{const _0x269b7e=_0x28823a,_0x5acb7c=this[_0x269b7e(0x1ea)](_0x3064f8),_0x49e432=_0x3064f8['data']?.[_0x269b7e(0x142)]||'';let _0x523178=-0x1;if(~_0x5acb7c){if(!_0x49e432)_0x523178=null;else{const _0x11247c=this['_data'][_0x269b7e(0x18c)][_0x5acb7c];_0x523178=_0x11247c[_0x269b7e(0x17f)]['findIndex'](_0x2bd860=>_0x49e432[_0x269b7e(0x199)]()['trim']()===_0x2bd860[_0x269b7e(0x159)]['toLowerCase']()[_0x269b7e(0x156)]());}}const _0x2e8c80=!!_0x3064f8[_0x269b7e(0x1bd)]?.[SharedConsts[_0x269b7e(0x135)]]?.[_0x269b7e(0x1fc)],_0x197cba=~_0x5acb7c?null:_0x269b7e(0x1b4)+_0x3064f8['name']+'\x22\x20(\x22'+_0x3064f8[_0x269b7e(0x1ec)]?.[_0x269b7e(0x1c1)]+_0x269b7e(0x1c4)+Charactermancer_Util[_0x269b7e(0x198)];_0x197cba&&(ui['notifications'][_0x269b7e(0x1f9)](_0x197cba),console[_0x269b7e(0x1f9)](...LGT,_0x197cba,_0x269b7e(0x183)+Config[_0x269b7e(0x1ca)](_0x269b7e(0x143),_0x269b7e(0x188))+'.'));const _0x504620=_0x523178==null||~_0x523178?null:_0x269b7e(0x20b)+_0x49e432+_0x269b7e(0x13b)+Charactermancer_Util[_0x269b7e(0x198)];return _0x504620&&(ui[_0x269b7e(0x157)][_0x269b7e(0x1f9)](_0x504620),console[_0x269b7e(0x1f9)](...LGT,_0x504620,_0x269b7e(0x183)+Config[_0x269b7e(0x1ca)](_0x269b7e(0x143),'isStrictMatching')+'.')),new ActorCharactermancerClass[(_0x269b7e(0x191))]({'item':_0x3064f8,'ixClass':_0x5acb7c,'isUnknownClass':!~_0x5acb7c,'ixSubclass':_0x523178,'isUnknownSubclass':_0x523178==null&&!~_0x523178,'level':Number(_0x3064f8?.['data']?.['levels']||0x0),'isPrimary':_0x2e8c80});});if(!this['_existingClassMetas'][_0x28823a(0x1e5)])return;this[_0x28823a(0x19d)]['class_ixMax']=this['_existingClassMetas']['length']-0x1;for(let _0x52a3a2=0x0;_0x52a3a2<this[_0x28823a(0x14f)][_0x28823a(0x1e5)];++_0x52a3a2){const _0x350877=this[_0x28823a(0x14f)][_0x52a3a2],{propIxClass:_0x2fae80,propIxSubclass:_0x4d2917}=ActorCharactermancerBaseComponent[_0x28823a(0x1a7)](_0x52a3a2);await this[_0x28823a(0x203)](_0x2fae80,_0x350877[_0x28823a(0x172)]),await this[_0x28823a(0x203)](_0x4d2917,_0x350877[_0x28823a(0x1a9)]);if(_0x350877[_0x28823a(0x164)])this[_0x28823a(0x19d)][_0x28823a(0x1ce)]=_0x52a3a2;}if(!this[_0x28823a(0x14f)]['some'](_0x24ba65=>_0x24ba65[_0x28823a(0x164)]))this['_state']['class_ixPrimaryClass']=0x0;}['_pLoad_getExistingClassIndex'](_0x21fb4c){const _0x95487f=_0x1d6699,_0x2b15b4=(_0x21fb4c[_0x95487f(0x159)]||'')['toLowerCase']()[_0x95487f(0x156)]();let _0x2581aa=this[_0x95487f(0x1df)][_0x95487f(0x18c)][_0x95487f(0x1f2)](_0x5e7462=>{const _0x147a73=_0x95487f;return _0x2b15b4===_0x5e7462[_0x147a73(0x159)][_0x147a73(0x199)]()[_0x147a73(0x156)]()&&(!Config['get'](_0x147a73(0x143),_0x147a73(0x188))||(DataConverter[_0x147a73(0x1c5)](_0x21fb4c)||'')[_0x147a73(0x199)]()===Parser['sourceJsonToAbv'](_0x5e7462[_0x147a73(0x1c1)])[_0x147a73(0x199)]());});if(~_0x2581aa)return _0x2581aa;const _0x52b912=/^(.*?)\(.*\)$/[_0x95487f(0x1a8)](_0x2b15b4);if(!_0x52b912)return _0x2581aa;return this[_0x95487f(0x1df)][_0x95487f(0x18c)][_0x95487f(0x1f2)](_0x43c620=>{const _0x249ca9=_0x95487f;return _0x52b912[0x1][_0x249ca9(0x156)]()===_0x43c620[_0x249ca9(0x159)][_0x249ca9(0x199)]()[_0x249ca9(0x156)]()&&(!Config['get'](_0x249ca9(0x143),_0x249ca9(0x188))||(DataConverter[_0x249ca9(0x1c5)](_0x21fb4c)||'')[_0x249ca9(0x199)]()===Parser[_0x249ca9(0x1af)](_0x43c620['source'])[_0x249ca9(0x199)]());});}['getExistingClassTotalLevels_'](){const _0x149278=_0x1d6699;return this[_0x149278(0x14f)][_0x149278(0x193)](Boolean)[_0x149278(0x186)](_0x42abac=>_0x42abac[_0x149278(0x134)])['sum']();}['_getExistingClassCount'](){const _0x2f8884=_0x1d6699;return this['_existingClassMetas'][_0x2f8884(0x193)](Boolean)[_0x2f8884(0x1e5)];}[_0x1d6699(0x1b2)]({ix:_0x2d7e2a,propIxClass:_0x3d1646}){const _0x5a3e04=_0x1d6699;if(_0x2d7e2a==null&&_0x3d1646==null)throw new Error('At\x20least\x20one\x20argument\x20must\x20be\x20provided!');if(_0x3d1646!=null){if(this['_state'][_0x3d1646]==null)return null;if(!~this[_0x5a3e04(0x19d)][_0x3d1646])return DataConverterClass['getClassStub']();return this[_0x5a3e04(0x1df)][_0x5a3e04(0x18c)][this[_0x5a3e04(0x19d)][_0x3d1646]];}if(_0x2d7e2a!=null&&~_0x2d7e2a)return this[_0x5a3e04(0x1df)][_0x5a3e04(0x18c)][_0x2d7e2a];return DataConverterClass['getClassStub']();}[_0x1d6699(0x15c)]({cls:_0x4361e4,propIxSubclass:_0x51045b,ix:_0x2664d7}){const _0x18e841=_0x1d6699;if(_0x2664d7==null&&_0x51045b==null)throw new Error(_0x18e841(0x16b));if(!_0x4361e4)return null;if(_0x51045b!=null){if(this['_state'][_0x51045b]==null)return null;if(!~this[_0x18e841(0x19d)][_0x51045b])return DataConverterClass[_0x18e841(0x1be)]({'cls':_0x4361e4});if(!_0x4361e4[_0x18e841(0x17f)]?.['length'])return DataConverterClass[_0x18e841(0x1be)]({'cls':_0x4361e4});return _0x4361e4[_0x18e841(0x17f)][this[_0x18e841(0x19d)][_0x51045b]];}if(_0x2664d7!=null&&~_0x2664d7)return _0x4361e4[_0x18e841(0x17f)][_0x2664d7];return DataConverterClass[_0x18e841(0x1be)]({'cls':_0x4361e4});}[_0x1d6699(0x167)]({ix:_0x36e8be}){const _0x268079=_0x1d6699;return!!this[_0x268079(0x14f)][_0x36e8be];}[_0x1d6699(0x14c)]({ix:_0x5ed776}){const _0x416a01=_0x1d6699;return this[_0x416a01(0x14f)][_0x5ed776]&&(this[_0x416a01(0x14f)][_0x5ed776]['ixSubclass']!=null||this[_0x416a01(0x14f)][_0x5ed776]['isUnknownClass']);}[_0x1d6699(0x168)](){const _0x2c7f7b=_0x1d6699,_0x59f71a=this[_0x2c7f7b(0x1c0)]?.[_0x2c7f7b(0x1f0)];if(!_0x59f71a)return;const _0x1e930c=$$`<div class="flex-col w-100 h-100 px-1 pt-1 overflow-y-auto ve-grow veapp__bg-foundry"></div>`,_0x535a77=$$`<div class="flex-col w-100 h-100 px-1 overflow-y-auto ve-grow veapp__bg-foundry"></div>`;for(let _0x4cff4a=0x0;_0x4cff4a<this['_state'][_0x2c7f7b(0x1ac)]+0x1;++_0x4cff4a)this[_0x2c7f7b(0x158)](_0x1e930c,_0x535a77,_0x4cff4a);this[_0x2c7f7b(0x1f5)](_0x2c7f7b(0x1ce),()=>this[_0x2c7f7b(0x19d)][_0x2c7f7b(0x14d)]=!this[_0x2c7f7b(0x19d)][_0x2c7f7b(0x14d)]);const _0x1bb254=$(_0x2c7f7b(0x173))['click'](()=>{const _0x2ca9e3=_0x2c7f7b;this[_0x2ca9e3(0x158)](_0x1e930c,_0x535a77,++this['_state'][_0x2ca9e3(0x1ac)]);});$$`<div class="flex w-100 h-100">
			<div class="flex-col w-100">
				${_0x1e930c}
				<div class="mt-2">${_0x1bb254}</div>
			</div>
			<div class="vr-1"></div>
			${_0x535a77}
		</div>`[_0x2c7f7b(0x207)](_0x59f71a);}static[_0x1d6699(0x20a)](_0xeb212f){const _0x377f6a=_0x1d6699;return{'lockChangeClass':_0x377f6a(0x1b8)+_0xeb212f+_0x377f6a(0x1fe),'lockChangeSubclass':_0x377f6a(0x1b8)+_0xeb212f+'_pHkChangeSubclass','lockRenderFeatureOptionsSelects':_0x377f6a(0x1b8)+_0xeb212f+_0x377f6a(0x1ed)};}[_0x1d6699(0x158)](_0x86a57e,_0x43442d,_0x1a1891){const _0x59e043=_0x1d6699,{propPrefixClass:_0x42f2b4,propIxClass:_0x58546d,propPrefixSubclass:_0x3ebdd4,propIxSubclass:_0x10cd8b,propCntAsi:_0x2841c3,propCurLevel:_0x2ba7f6,propTargetLevel:_0x4a1b9c}=ActorCharactermancerBaseComponent[_0x59e043(0x1a7)](_0x1a1891),_0x51b009=FilterBox[_0x59e043(0x1bc)]+_0x59e043(0x1d9)+_0x1a1891+_0x59e043(0x19c),_0x1b1481=FilterBox[_0x59e043(0x1bc)]+_0x59e043(0x1d9)+_0x1a1891+_0x59e043(0x16a),{lockChangeClass:_0x5750a3,lockChangeSubclass:_0x369032,lockRenderFeatureOptionsSelects:_0x1eb6a7}=this[_0x59e043(0x171)][_0x59e043(0x20a)](_0x1a1891);this[_0x59e043(0x1f5)](_0x58546d,()=>this[_0x59e043(0x19d)]['class_pulseChange']=!this[_0x59e043(0x19d)][_0x59e043(0x14d)]);const {$wrp:_0x31a0e9,$iptDisplay:_0x428d4b,$iptSearch:_0x3e79e0,fnUpdateHidden:_0x2aa29f}=ComponentUiUtil[_0x59e043(0x20c)](this,_0x58546d,{'values':this[_0x59e043(0x1df)]['class'][_0x59e043(0x186)]((_0x4f2fe2,_0xf396c8)=>_0xf396c8),'isAllowNull':!![],'fnDisplay':_0x4bc45a=>{const _0x1a5429=_0x59e043,_0x203239=this['getClass_']({'ix':_0x4bc45a});return _0x203239[_0x1a5429(0x159)]+'\x20'+(_0x203239[_0x1a5429(0x1c1)]!==SRC_PHB?'['+Parser[_0x1a5429(0x1af)](_0x203239[_0x1a5429(0x1c1)])+']':'');},'asMeta':!![],'isDisabled':this[_0x59e043(0x167)]({'ix':_0x1a1891})});_0x428d4b[_0x59e043(0x133)](_0x59e043(0x13c)),_0x3e79e0[_0x59e043(0x133)](_0x59e043(0x13c));const _0x484d46=()=>{const _0x44667d=_0x59e043,_0x3fe718=this[_0x44667d(0x17a)][_0x44667d(0x1aa)]['filterBox'][_0x44667d(0x1a5)](),_0x49a179=this['_data'][_0x44667d(0x18c)][_0x44667d(0x186)](_0x38a3eb=>!this[_0x44667d(0x17a)][_0x44667d(0x1aa)][_0x44667d(0x1ff)](_0x3fe718,_0x38a3eb));_0x2aa29f(_0x49a179,![]);},_0x3db651=()=>{const _0x3b4788=_0x59e043,_0xae125c=this[_0x3b4788(0x1b2)]({'propIxClass':_0x58546d});if(!_0xae125c||!this['_metaHksClassStgSubclass'][_0x1a1891])return;const _0x267bd5=this['_modalFilterClasses'][_0x3b4788(0x1aa)][_0x3b4788(0x163)][_0x3b4788(0x1a5)](),_0x5de46e=_0xae125c[_0x3b4788(0x17f)][_0x3b4788(0x186)](_0x51588c=>!this[_0x3b4788(0x17a)][_0x3b4788(0x1aa)]['toDisplay'](_0x267bd5,_0x51588c));this[_0x3b4788(0x17b)][_0x1a1891][_0x3b4788(0x140)](_0x5de46e,![]);};this[_0x59e043(0x17a)]['pageFilter']['filterBox']['on'](FilterBox[_0x59e043(0x1bc)],()=>_0x484d46()),_0x484d46();const _0x31d9ee=$(_0x59e043(0x174))[_0x59e043(0x1a6)](async()=>{const _0x5e02ed=_0x59e043,_0x31517a=this[_0x5e02ed(0x1b2)]({'propIxClass':_0x58546d}),_0x519e0c=this['getSubclass_']({'cls':_0x31517a,'propIxSubclass':_0x10cd8b}),_0x34c3a3=this['_class_isClassSelectionDisabled']({'ix':_0x1a1891}),_0x481989=this[_0x5e02ed(0x14c)]({'ix':_0x1a1891}),_0x6f1978=await this['_modalFilterClasses'][_0x5e02ed(0x1fa)]({'selectedClass':_0x31517a,'selectedSubclass':_0x519e0c,'isClassDisabled':_0x34c3a3,'isSubclassDisabled':_0x481989});if(_0x34c3a3&&_0x481989)return;if(_0x6f1978==null||!_0x6f1978[_0x5e02ed(0x18c)])return;const _0x160531=this[_0x5e02ed(0x1df)][_0x5e02ed(0x18c)][_0x5e02ed(0x1f2)](_0x2acc2f=>_0x2acc2f['name']===_0x6f1978[_0x5e02ed(0x18c)][_0x5e02ed(0x159)]&&_0x2acc2f[_0x5e02ed(0x1c1)]===_0x6f1978[_0x5e02ed(0x18c)][_0x5e02ed(0x1c1)]);if(!~_0x160531)throw new Error('Could\x20not\x20find\x20selected\x20class:\x20'+JSON[_0x5e02ed(0x178)](_0x6f1978['class']));this[_0x5e02ed(0x19d)][_0x58546d]=_0x160531,await this['_pGate'](_0x5750a3);if(_0x6f1978['subclass']!=null){const _0x3243ca=this[_0x5e02ed(0x1b2)]({'propIxClass':_0x58546d}),_0x176ee8=_0x3243ca[_0x5e02ed(0x17f)][_0x5e02ed(0x1f2)](_0x1f45cc=>_0x1f45cc['name']===_0x6f1978[_0x5e02ed(0x142)][_0x5e02ed(0x159)]&&_0x1f45cc[_0x5e02ed(0x1c1)]===_0x6f1978[_0x5e02ed(0x142)]['source']);if(!~_0x176ee8)throw new Error(_0x5e02ed(0x1f8)+JSON[_0x5e02ed(0x178)](_0x6f1978[_0x5e02ed(0x142)]));this[_0x5e02ed(0x19d)][_0x10cd8b]=_0x176ee8;}else this[_0x5e02ed(0x19d)][_0x10cd8b]=null;}),_0x437254=async _0x449827=>{const _0x5b9361=_0x59e043;this[_0x5b9361(0x17a)][_0x5b9361(0x1aa)][_0x5b9361(0x163)][_0x5b9361(0x145)](_0x1b1481);if(_0x449827){const _0x5089a8=Object['keys'](this['__state'])['filter'](_0x19ea7c=>_0x19ea7c[_0x5b9361(0x1e0)](_0x42f2b4)&&_0x19ea7c!==_0x58546d)[_0x5b9361(0x18d)](_0x5eed91=>({[_0x5eed91]:null}));this[_0x5b9361(0x1dc)]('state',_0x5089a8);}const _0xfb948a=this['getClass_']({'propIxClass':_0x58546d}),_0x584cf5=this['getSubclass_']({'cls':_0xfb948a,'propIxSubclass':_0x10cd8b});this['_class_renderClass_stgSelectSubclass']({'$stgSelectSubclass':_0x27cd7e,'cls':_0xfb948a,'ix':_0x1a1891,'propIxSubclass':_0x10cd8b,'idFilterBoxChangeSubclass':_0x1b1481,'doApplyFilterToSelSubclass':_0x3db651}),this[_0x5b9361(0x1a0)]({'$stgHpMode':_0x1325b9,'ix':_0x1a1891,'cls':_0xfb948a}),this[_0x5b9361(0x19e)]({'$stgHpInfo':_0x24a199,'ix':_0x1a1891,'cls':_0xfb948a}),this[_0x5b9361(0x1b9)]({'$stgStartingProficiencies':_0x5bfb0b,'ix':_0x1a1891,'cls':_0xfb948a}),await this[_0x5b9361(0x1e8)]({'$stgLevelSelect':_0xa9456,'$stgFeatureOptions':_0x57185b,'ix':_0x1a1891,'cls':_0xfb948a,'sc':_0x584cf5,'propIxSubclass':_0x10cd8b,'propCurLevel':_0x2ba7f6,'propTargetLevel':_0x4a1b9c,'propCntAsi':_0x2841c3,'lockRenderFeatureOptionsSelects':_0x1eb6a7,'idFilterBoxChangeClassLevels':_0x51b009}),this[_0x5b9361(0x19d)][_0x5b9361(0x162)]=this['class_getTotalLevels'](),this[_0x5b9361(0x155)]({'$stgSkills':_0x5ea04f,'ix':_0x1a1891,'propIxClass':_0x58546d}),await this['_class_renderClass_pDispClass']({'ix':_0x1a1891,'$dispClass':_0x3028f7,'cls':_0xfb948a,'sc':_0x584cf5}),_0x2c96d1[_0x5b9361(0x1ba)]();},_0x482993=async _0x39cb05=>{const _0x692ed9=_0x59e043;try{await this[_0x692ed9(0x185)](_0x5750a3),await _0x437254(_0x39cb05);}finally{this[_0x692ed9(0x1d7)](_0x5750a3);}};this[_0x59e043(0x1f5)](_0x58546d,_0x482993);const _0x158e94=async()=>{const _0x4c5de5=_0x59e043;this[_0x4c5de5(0x17a)]['pageFilter'][_0x4c5de5(0x163)][_0x4c5de5(0x145)](_0x1b1481);const _0xb06878=Object[_0x4c5de5(0x153)](this[_0x4c5de5(0x189)])['filter'](_0x5b6645=>_0x5b6645[_0x4c5de5(0x1e0)](_0x3ebdd4)&&_0x5b6645!==_0x10cd8b)['mergeMap'](_0x1a8fc8=>({[_0x1a8fc8]:null}));this['_proxyAssignSimple'](_0x4c5de5(0x132),_0xb06878);const _0xc3ea76=this[_0x4c5de5(0x1b2)]({'propIxClass':_0x58546d}),_0x3c408a=this['getSubclass_']({'cls':_0xc3ea76,'propIxSubclass':_0x10cd8b}),_0x561ab9=this[_0x4c5de5(0x141)](_0xc3ea76,_0x3c408a);if(this[_0x4c5de5(0x1ef)][_0x1a1891])this[_0x4c5de5(0x1ef)][_0x1a1891][_0x4c5de5(0x1bb)](_0x561ab9);await this[_0x4c5de5(0x1a2)]({'ix':_0x1a1891,'propCntAsi':_0x2841c3,'filteredFeatures':_0x561ab9,'$stgFeatureOptions':_0x57185b,'lockRenderFeatureOptionsSelects':_0x1eb6a7}),this['_modalFilterClasses']['pageFilter'][_0x4c5de5(0x163)]['on'](_0x1b1481,()=>_0x3db651()),_0x3db651(),await this[_0x4c5de5(0x15e)]({'ix':_0x1a1891,'$dispSubclass':_0x2c96d1,'cls':_0xc3ea76,'sc':_0x3c408a});},_0x4e49b5=async()=>{const _0x148fbf=_0x59e043;try{await this['_pLock'](_0x369032),await _0x158e94();}finally{this[_0x148fbf(0x1d7)](_0x369032);}};this[_0x59e043(0x1f5)](_0x10cd8b,_0x4e49b5);const _0xae8419=$(_0x59e043(0x1ad)),_0x27cd7e=$$`<div class="flex-col w-100"></div>`[_0x59e043(0x18f)](),_0x1325b9=$$`<div class="flex-col"></div>`['hideVe'](),_0x24a199=$$`<div class="flex-col"></div>`[_0x59e043(0x18f)](),_0x5bfb0b=$$`<div class="flex-col"></div>`[_0x59e043(0x18f)](),_0xa9456=$$`<div class="flex-col"></div>`[_0x59e043(0x18f)](),_0x57185b=$$`<div class="flex-col"></div>`[_0x59e043(0x18f)](),_0x5ea04f=$$`<div class="flex-col"></div>`[_0x59e043(0x18f)]();let _0x5260f2=null;if(!this[_0x59e043(0x14f)][_0x59e043(0x1e5)]){_0x5260f2=$(_0x59e043(0x17e))[_0x59e043(0x1a6)](()=>this['_state'][_0x59e043(0x1ce)]=_0x1a1891);const _0xbc6ab9=()=>{const _0xac1bf1=_0x59e043;_0x5260f2[_0xac1bf1(0x15a)](this['_state'][_0xac1bf1(0x1ce)]===_0x1a1891?_0xac1bf1(0x180):_0xac1bf1(0x190))['title'](this[_0xac1bf1(0x19d)][_0xac1bf1(0x1ce)]===_0x1a1891?_0xac1bf1(0x1bf):_0xac1bf1(0x1d1))[_0xac1bf1(0x14a)](_0xac1bf1(0x17d),this['_state']['class_ixPrimaryClass']===_0x1a1891);};this['_addHookBase'](_0x59e043(0x1ce),_0xbc6ab9),_0xbc6ab9();}const _0x1dab01=$(_0x59e043(0x1eb))[_0x59e043(0x1a6)](()=>{const _0x11ee18=_0x59e043,_0x4aaf12=_0x1dab01[_0x11ee18(0x15a)]()===_0x11ee18(0x1a3);_0x1dab01[_0x11ee18(0x15a)](_0x4aaf12?_0x11ee18(0x169):'[+]');if(_0x4aaf12)_0xae8419[_0x11ee18(0x15a)](_0x11ee18(0x1f4));else{const _0x1ef0f7=this['getClass_']({'propIxClass':_0x58546d}),_0x4032b6=this[_0x11ee18(0x15c)]({'cls':_0x1ef0f7,'propIxSubclass':_0x10cd8b});if(_0x1ef0f7)_0xae8419[_0x11ee18(0x15a)](''+_0x1ef0f7[_0x11ee18(0x159)]+(_0x4032b6?'\x20('+_0x4032b6[_0x11ee18(0x159)]+')':''));else _0xae8419['text'](_0x11ee18(0x1f4));}_0x2bdc2a[_0x11ee18(0x1c7)]();}),_0x3028f7=$$`<div class="flex-col w-100"></div>`,_0x2c96d1=$$`<div class="flex-col w-100"></div>`,_0x2bdc2a=$$`<div class="flex-col w-100 mt-2">
			<div class="flex btn-group w-100">
				<div class="flex no-shrink">
					${_0x31d9ee}
				</div>
				<div class="flex-col w-100">
					${_0x31a0e9}
					${_0x27cd7e}
				</div>
			</div>
			${_0x1325b9}
			${_0x24a199}
			${_0x5bfb0b}
			${_0x5ea04f}
			${_0xa9456}
			${_0x57185b}
		</div>`,_0x347aac=$$`<div class="flex-col">
			${_0x1a1891>0x0?_0x59e043(0x170):''}

			<div class="split-v-center">
				${_0xae8419}
				<div class="flex-v-center">
					${_0x5260f2}
					${_0x1dab01}
				</div>
			</div>

			${_0x2bdc2a}
		</div>`[_0x59e043(0x207)](_0x86a57e),_0x1f331e=$$`<div>
			${_0x1a1891>0x0?_0x59e043(0x161):''}

			${_0x3028f7}
			${_0x2c96d1}
		</div>`[_0x59e043(0x207)](_0x43442d);_0x482993()[_0x59e043(0x1e9)](()=>_0x4e49b5());}[_0x1d6699(0x196)]({$stgSelectSubclass:_0x47fcfb,cls:_0xb4df7e,ix:_0x577764,propIxSubclass:_0x55a916,idFilterBoxChangeSubclass:_0x39e9e4,doApplyFilterToSelSubclass:_0x4d70da}){const _0x17ad9c=_0x1d6699;_0x47fcfb[_0x17ad9c(0x1ba)]();if(this[_0x17ad9c(0x17b)][_0x577764])this[_0x17ad9c(0x17b)][_0x577764][_0x17ad9c(0x18a)]();if(_0xb4df7e&&_0xb4df7e[_0x17ad9c(0x17f)]&&_0xb4df7e[_0x17ad9c(0x17f)][_0x17ad9c(0x1e5)]){const _0x4bda1c=ComponentUiUtil[_0x17ad9c(0x20c)](this,_0x55a916,{'values':_0xb4df7e[_0x17ad9c(0x17f)]['map']((_0x1829cb,_0x7e17c)=>_0x7e17c),'isAllowNull':!![],'fnDisplay':_0x507867=>{const _0x125429=_0x17ad9c,_0x42411c=this[_0x125429(0x15c)]({'cls':_0xb4df7e,'ix':_0x507867});return _0x42411c[_0x125429(0x159)]+'\x20'+(_0x42411c[_0x125429(0x1c1)]!==SRC_PHB?'['+Parser[_0x125429(0x1af)](_0x42411c['source'])+']':'');},'asMeta':!![],'isDisabled':this['_class_isSubclassSelectionDisabled']({'ix':_0x577764}),'displayNullAs':_0x17ad9c(0x1b1)});_0x4bda1c[_0x17ad9c(0x18e)][_0x17ad9c(0x133)]('bl-0'),_0x4bda1c['$iptSearch'][_0x17ad9c(0x133)]('bl-0'),this['_metaHksClassStgSubclass'][_0x577764]=_0x4bda1c,this['_modalFilterClasses'][_0x17ad9c(0x1aa)][_0x17ad9c(0x163)]['on'](_0x39e9e4,()=>_0x4d70da()),_0x4d70da();const _0x3ea76e=$$`<div class="flex-col w-100 mt-1">
				${_0x4bda1c[_0x17ad9c(0x19b)]}
			</div>`;_0x47fcfb[_0x17ad9c(0x13e)]()[_0x17ad9c(0x208)](_0x3ea76e);}else _0x47fcfb['hideVe'](),this['_metaHksClassStgSubclass'][_0x577764]=null;}[_0x1d6699(0x1a0)]({$stgHpMode:_0x363f6e,ix:_0x2ace55,cls:_0x5b281a}){const _0x505b2a=_0x1d6699;_0x363f6e[_0x505b2a(0x1ba)](),_0x5b281a&&Charactermancer_Class_HpIncreaseModeSelect[_0x505b2a(0x1e3)](_0x5b281a)?(_0x363f6e['showVe']()[_0x505b2a(0x208)](_0x505b2a(0x1f7)),this[_0x505b2a(0x206)][_0x2ace55]=new Charactermancer_Class_HpIncreaseModeSelect(),this[_0x505b2a(0x206)][_0x2ace55][_0x505b2a(0x168)](_0x363f6e)):(_0x363f6e['hideVe'](),this[_0x505b2a(0x206)][_0x2ace55]=null);}['_class_renderClass_stgHpInfo']({$stgHpInfo:_0x30e786,ix:_0x3f35ee,cls:_0x1a5b37}){const _0x2ecb53=_0x1d6699;_0x30e786[_0x2ecb53(0x1ba)](),_0x1a5b37&&Charactermancer_Class_HpIncreaseModeSelect['isHpAvailable'](_0x1a5b37)?(_0x30e786[_0x2ecb53(0x13e)]()[_0x2ecb53(0x208)](_0x2ecb53(0x1d4)),this[_0x2ecb53(0x187)][_0x3f35ee]=new Charactermancer_Class_HpInfo({'className':_0x1a5b37[_0x2ecb53(0x159)],'hitDice':_0x1a5b37['hd']}),this['_compsClassHpInfo'][_0x3f35ee]['render'](_0x30e786)):(_0x30e786['hideVe'](),this[_0x2ecb53(0x187)][_0x3f35ee]=null);}[_0x1d6699(0x1b9)]({$stgStartingProficiencies:_0x3503a2,ix:_0xdc929a,cls:_0x4b9925}){const _0x15a93d=_0x1d6699,_0x47cd27=this[_0x15a93d(0x17c)](_0xdc929a);if(_0x47cd27)return;if(this['_metaHksClassStgStartingProficiencies'][_0xdc929a])this[_0x15a93d(0x1dd)][_0xdc929a][_0x15a93d(0x18a)]();_0x3503a2['empty'](),this['_parent'][_0x15a93d(0x1ab)][_0x15a93d(0x176)](this[_0x15a93d(0x136)][_0xdc929a]);_0x4b9925&&(_0x4b9925[_0x15a93d(0x166)]||_0x4b9925[_0x15a93d(0x1d6)]?.[_0x15a93d(0x201)])?(_0x3503a2[_0x15a93d(0x13e)]()[_0x15a93d(0x208)](_0x15a93d(0x1cf)),this['_compsClassStartingProficiencies'][_0xdc929a]=Charactermancer_Class_StartingProficiencies['get']({'featureSourceTracker':this[_0x15a93d(0x1b7)]['featureSourceTracker_'],'primaryProficiencies':_0x4b9925[_0x15a93d(0x166)],'multiclassProficiencies':_0x4b9925[_0x15a93d(0x1d6)]?.[_0x15a93d(0x201)],'savingThrowsProficiencies':_0x4b9925['proficiency'],'existingProficienciesFvttArmor':MiscUtil[_0x15a93d(0x1ca)](this[_0x15a93d(0x184)],_0x15a93d(0x1ec),_0x15a93d(0x1ec),_0x15a93d(0x148),_0x15a93d(0x15f)),'existingProficienciesFvttWeapons':MiscUtil[_0x15a93d(0x1ca)](this[_0x15a93d(0x184)],_0x15a93d(0x1ec),_0x15a93d(0x1ec),_0x15a93d(0x148),_0x15a93d(0x1d5)),'existingProficienciesFvttTools':MiscUtil[_0x15a93d(0x1ca)](this[_0x15a93d(0x184)],'data',_0x15a93d(0x1ec),'traits',_0x15a93d(0x1de)),'existingProficienciesFvttSavingThrows':Charactermancer_Class_StartingProficiencies[_0x15a93d(0x1ae)](this['_actor'])}),this['_compsClassStartingProficiencies'][_0xdc929a][_0x15a93d(0x168)](_0x3503a2)):(_0x3503a2[_0x15a93d(0x18f)](),this[_0x15a93d(0x136)][_0xdc929a]=null);const _0x23b8f4=()=>{const _0x290c8e=_0x15a93d;if(this['_compsClassStartingProficiencies'][_0xdc929a])this[_0x290c8e(0x136)][_0xdc929a]['mode']=this[_0x290c8e(0x19d)][_0x290c8e(0x1ce)]===_0xdc929a?Charactermancer_Class_ProficiencyImportModeSelect[_0x290c8e(0x204)]:Charactermancer_Class_ProficiencyImportModeSelect[_0x290c8e(0x151)];};this[_0x15a93d(0x1f5)](_0x15a93d(0x1ce),_0x23b8f4),this[_0x15a93d(0x1dd)][_0xdc929a]={'unhook':()=>this[_0x15a93d(0x181)](_0x15a93d(0x1ce),_0x23b8f4)},_0x23b8f4();}[_0x1d6699(0x17c)](_0x2e41c2){const _0x5d88b0=_0x1d6699;if(this[_0x5d88b0(0x14f)][_0x2e41c2])return this[_0x5d88b0(0x14f)][_0x2e41c2];const {propIxClass:_0x40e796}=ActorCharactermancerBaseComponent[_0x5d88b0(0x1a7)](_0x2e41c2),_0x2c68a1=this['getClass_']({'propIxClass':_0x40e796}),_0x57a796=Charactermancer_Class_Util[_0x5d88b0(0x1f1)](this[_0x5d88b0(0x184)],_0x2c68a1),_0xd23896=_0x57a796[_0x5d88b0(0x1e5)]?_0x57a796[0x0]:null;if(!_0xd23896)return null;return{'item':_0xd23896,'level':Number(_0xd23896?.['data']?.[_0x5d88b0(0x209)]||0x0)};}async[_0x1d6699(0x1e8)]({$stgLevelSelect:_0x25f50e,$stgFeatureOptions:_0x367b7e,ix:_0x364c54,cls:_0x2c6cd5,sc:_0x48ab50,propIxSubclass:_0x5cc85f,propCurLevel:_0x3701fb,propTargetLevel:_0x3663cf,propCntAsi:_0x29d061,lockRenderFeatureOptionsSelects:_0x3dbc69,idFilterBoxChangeClassLevels:_0x5d5c8d}){const _0x2ed80c=_0x1d6699;_0x25f50e[_0x2ed80c(0x1ba)]();if(_0x2c6cd5){_0x25f50e[_0x2ed80c(0x13e)]()[_0x2ed80c(0x208)](_0x2ed80c(0x1c6));const _0x971629=this[_0x2ed80c(0x141)](_0x2c6cd5,_0x48ab50),_0x1e15d1=this[_0x2ed80c(0x17c)](_0x364c54);this['_compsClassLevelSelect'][_0x364c54]=new Charactermancer_Class_LevelSelect({'features':_0x971629,'isRadio':!![],'isForceSelect':this['getExistingClassTotalLevels_']()===0x0||!_0x1e15d1,'maxPreviousLevel':_0x1e15d1?.['level'],'isSubclass':!![]}),this[_0x2ed80c(0x1ef)][_0x364c54]['render'](_0x25f50e);const _0x3c52e7=async()=>{const _0x2afa23=_0x2ed80c,_0x95754e=this[_0x2afa23(0x15c)]({'cls':_0x2c6cd5,'propIxSubclass':_0x5cc85f}),_0x5d7809=this['_class_getFilteredFeatures'](_0x2c6cd5,_0x95754e);await this[_0x2afa23(0x1a2)]({'ix':_0x364c54,'propCntAsi':_0x29d061,'filteredFeatures':_0x5d7809,'$stgFeatureOptions':_0x367b7e,'lockRenderFeatureOptionsSelects':_0x3dbc69}),this[_0x2afa23(0x19d)][_0x3701fb]=this[_0x2afa23(0x1ef)][_0x364c54][_0x2afa23(0x137)](),this[_0x2afa23(0x19d)][_0x3663cf]=this[_0x2afa23(0x1ef)][_0x364c54][_0x2afa23(0x1c3)](),this[_0x2afa23(0x19d)][_0x2afa23(0x162)]=this[_0x2afa23(0x1a1)]();};this['_compsClassLevelSelect'][_0x364c54]['onchange'](_0x3c52e7),await _0x3c52e7(),this[_0x2ed80c(0x17a)][_0x2ed80c(0x1aa)][_0x2ed80c(0x163)]['on'](_0x5d5c8d,()=>{const _0x13705d=_0x2ed80c;if(!this[_0x13705d(0x1ef)][_0x364c54])return;const _0x2ad5a9=this[_0x13705d(0x15c)]({'cls':_0x2c6cd5,'propIxSubclass':_0x5cc85f}),_0x59468f=this[_0x13705d(0x141)](_0x2c6cd5,_0x2ad5a9);if(this[_0x13705d(0x1ef)][_0x364c54])this[_0x13705d(0x1ef)][_0x364c54][_0x13705d(0x1bb)](_0x59468f);this[_0x13705d(0x1a2)]({'ix':_0x364c54,'propCntAsi':_0x29d061,'filteredFeatures':_0x59468f,'$stgFeatureOptions':_0x367b7e,'lockRenderFeatureOptionsSelects':_0x3dbc69});});}else _0x25f50e['hideVe'](),this[_0x2ed80c(0x1ef)][_0x364c54]=null,_0x367b7e['empty']()[_0x2ed80c(0x18f)](),this[_0x2ed80c(0x146)](_0x364c54),this[_0x2ed80c(0x19d)][_0x29d061]=null,this[_0x2ed80c(0x17a)][_0x2ed80c(0x1aa)][_0x2ed80c(0x163)][_0x2ed80c(0x145)](_0x5d5c8d);}[_0x1d6699(0x155)]({$stgSkills:_0x487679,ix:_0x4bda83,propIxClass:_0x235368}){const _0x425d40=_0x1d6699,_0x38d7ce=this[_0x425d40(0x17c)](_0x4bda83);if(_0x38d7ce)return;if(this['_metaHksClassStgSkills'][_0x4bda83])this[_0x425d40(0x147)][_0x4bda83]['unhook']();const _0x2da08f=()=>{const _0x453aed=_0x425d40;_0x487679[_0x453aed(0x1ba)]();const _0x49ea7a=this[_0x453aed(0x1b2)]({'propIxClass':_0x235368}),_0x165b3a=this[_0x453aed(0x19d)][_0x453aed(0x1ce)]===_0x4bda83;this['_parent']['featureSourceTracker_']['unregister'](this['_compsClassSkillProficiencies'][_0x4bda83]);if(_0x49ea7a&&(_0x165b3a&&_0x49ea7a[_0x453aed(0x166)]?.['skills']||!_0x165b3a&&_0x49ea7a[_0x453aed(0x1d6)]?.['proficienciesGained']?.[_0x453aed(0x182)])){_0x487679[_0x453aed(0x13e)]()[_0x453aed(0x208)](_0x453aed(0x1d8));const _0x10f83c=_0x165b3a?_0x49ea7a[_0x453aed(0x166)][_0x453aed(0x182)]:_0x49ea7a[_0x453aed(0x1d6)][_0x453aed(0x201)][_0x453aed(0x182)];this[_0x453aed(0x195)][_0x4bda83]=new Charactermancer_SkillProficiencySelect({'featureSourceTracker':this[_0x453aed(0x1b7)]['featureSourceTracker_'],'existingProficiencies':Charactermancer_SkillProficiencySelect[_0x453aed(0x1b0)]({'skillProficiencies':MiscUtil[_0x453aed(0x1ca)](this[_0x453aed(0x184)],'data',_0x453aed(0x1ec),_0x453aed(0x182))}),'availableProficiencies':_0x10f83c}),this[_0x453aed(0x195)][_0x4bda83][_0x453aed(0x168)](_0x487679);}else _0x487679[_0x453aed(0x18f)](),this[_0x453aed(0x195)][_0x4bda83]=null;};this[_0x425d40(0x1f5)](_0x425d40(0x1ce),_0x2da08f),this[_0x425d40(0x147)][_0x4bda83]={'unhook':()=>this[_0x425d40(0x181)]('class_ixPrimaryClass',_0x2da08f)},_0x2da08f();}async['_class_renderClass_pDispClass']({ix:_0x18f716,$dispClass:_0x104832,cls:_0x2aeb63,sc:_0x17cf13}){const _0xd0b71b=_0x1d6699;if(this[_0xd0b71b(0x14e)][_0x18f716])this['_$wrpsClassTable'][_0x18f716]['detach']();else this[_0xd0b71b(0x14e)][_0x18f716]=$(_0xd0b71b(0x200));_0x104832[_0xd0b71b(0x1ba)]();if(_0x2aeb63){const _0x4addec=await DataUtil[_0xd0b71b(0x18c)][_0xd0b71b(0x15d)](_0x2aeb63);let _0xa8a188=MiscUtil[_0xd0b71b(0x1cc)](_0x4addec['classFeatures']||[])[_0xd0b71b(0x1b6)]();_0xa8a188=Charactermancer_Class_Util[_0xd0b71b(0x1b3)](_0xa8a188,this[_0xd0b71b(0x17a)]['pageFilter'],this[_0xd0b71b(0x17a)][_0xd0b71b(0x1aa)][_0xd0b71b(0x163)][_0xd0b71b(0x1a5)]());const _0x2c9a0d={'type':_0xd0b71b(0x1db),'entries':_0xa8a188};this['_class_renderEntriesSection'](_0x104832,_0x2aeb63[_0xd0b71b(0x159)],_0x2c9a0d,{'$wrpTable':this[_0xd0b71b(0x14e)][_0x18f716]}),await this[_0xd0b71b(0x152)]({'ix':_0x18f716,'cls':_0x2aeb63,'sc':_0x17cf13});}}async['_class_renderClass_pDispSubclass']({ix:_0x326b19,$dispSubclass:_0x343c3d,cls:_0xfff0,sc:_0x225ae3}){const _0x3cdedf=_0x1d6699;_0x343c3d[_0x3cdedf(0x1ba)]();if(_0x225ae3){_0x343c3d[_0x3cdedf(0x208)]('<hr\x20class=\x22hr-1\x22>');const _0x135df6=await DataUtil['class']['pGetDereferencedSubclassData'](_0x225ae3);let _0x31d115=MiscUtil[_0x3cdedf(0x1cc)](_0x135df6[_0x3cdedf(0x1f6)])['flat']();_0x31d115=Charactermancer_Class_Util[_0x3cdedf(0x1b3)](_0x31d115,this['_modalFilterClasses']['pageFilter'],this[_0x3cdedf(0x17a)][_0x3cdedf(0x1aa)][_0x3cdedf(0x163)][_0x3cdedf(0x1a5)]());const _0x369e49={'type':_0x3cdedf(0x1db),'entries':_0x31d115};if(_0x369e49['entries'][0x0]&&_0x369e49['entries'][0x0][_0x3cdedf(0x159)])delete _0x369e49['entries'][0x0][_0x3cdedf(0x159)];this[_0x3cdedf(0x1c2)](_0x343c3d,_0x225ae3[_0x3cdedf(0x159)],_0x369e49);}await this[_0x3cdedf(0x152)]({'ix':_0x326b19,'cls':_0xfff0,'sc':_0x225ae3});}async[_0x1d6699(0x152)]({ix:_0x1d765f,cls:_0x591320,sc:_0x17c288}){const _0x514757=_0x1d6699,_0xd8f763=_0x591320?await DataUtil[_0x514757(0x18c)]['pGetDereferencedClassData'](_0x591320):null,_0x574191=_0x17c288?await DataUtil[_0x514757(0x18c)][_0x514757(0x1d0)](_0x17c288):null,_0x4da348=_0xd8f763?.['classFeatures']||_0x574191?.[_0x514757(0x1f6)]?this['_modalFilterClasses'][_0x514757(0x1aa)][_0x514757(0x163)][_0x514757(0x1a5)]():null;_0xd8f763?.[_0x514757(0x1c9)]&&(_0xd8f763[_0x514757(0x1c9)]=_0xd8f763['classFeatures'][_0x514757(0x186)](_0x5e2099=>{const _0x12e445=_0x514757;return _0x5e2099=MiscUtil[_0x12e445(0x1cc)](_0x5e2099),_0x5e2099=Charactermancer_Class_Util[_0x12e445(0x1b3)](_0x5e2099,this['_modalFilterClasses']['pageFilter'],_0x4da348),_0x5e2099;}));_0x574191?.['subclassFeatures']&&(_0x574191[_0x514757(0x1f6)]=_0x574191['subclassFeatures'][_0x514757(0x186)](_0x2445a8=>{const _0x153ae9=_0x514757;return _0x2445a8=MiscUtil['copy'](_0x2445a8),_0x2445a8=Charactermancer_Class_Util[_0x153ae9(0x1b3)](_0x2445a8,this[_0x153ae9(0x17a)][_0x153ae9(0x1aa)],_0x4da348),_0x2445a8;}));const _0x3c8aab=DataConverterClass['getRenderedClassTableFromDereferenced'](_0xd8f763,_0x574191);this[_0x514757(0x14e)][_0x1d765f]['html']('')[_0x514757(0x13f)](_0x3c8aab);}['_class_getFilteredFeatures'](_0x477bf3,_0x42a0ab){const _0x444aa6=_0x1d6699;if(!_0x477bf3)return[];return _0x477bf3=MiscUtil['copy'](_0x477bf3),_0x477bf3[_0x444aa6(0x17f)]=[_0x42a0ab][_0x444aa6(0x193)](Boolean),Charactermancer_Class_Util[_0x444aa6(0x175)](Charactermancer_Class_Util['getAllFeatures'](_0x477bf3),this[_0x444aa6(0x17a)][_0x444aa6(0x1aa)],this[_0x444aa6(0x17a)][_0x444aa6(0x1aa)][_0x444aa6(0x163)]['getValues']());}async[_0x1d6699(0x1a2)](_0x3380fb){const _0x3f0db5=_0x1d6699,{lockRenderFeatureOptionsSelects:_0x24390f}=_0x3380fb;try{return await this[_0x3f0db5(0x185)](_0x24390f),this[_0x3f0db5(0x18b)](_0x3380fb);}finally{this[_0x3f0db5(0x1d7)](_0x24390f);}}async['_class_pRenderFeatureOptionsSelects_']({ix:_0x20f344,propCntAsi:_0x2973aa,filteredFeatures:_0x5d7baf,$stgFeatureOptions:_0x4a6f4f}){const _0x178188=_0x1d6699,_0x4dbe84=this[_0x178188(0x165)][_0x20f344]||[];_0x4a6f4f[_0x178188(0x1ba)]();const _0x27fb50=this[_0x178188(0x14f)][_0x20f344]?new Charactermancer_Class_Util['ExistingFeatureChecker'](this[_0x178188(0x184)]):null,_0x247294=Charactermancer_Class_Util[_0x178188(0x160)](_0x5d7baf),_0x4fa044=MiscUtil['copy'](_0x247294);Charactermancer_Class_Util[_0x178188(0x202)](_0x4fa044,this[_0x178188(0x17a)]['pageFilter'],this[_0x178188(0x17a)][_0x178188(0x1aa)][_0x178188(0x163)][_0x178188(0x1a5)]());const _0xe2cb84=Charactermancer_Class_Util['getFeaturesGroupedByOptionsSet'](_0x4fa044),{lvlMin:_0x5b9770,lvlMax:_0x53771f}=await this[_0x178188(0x1cd)](_0x20f344);this[_0x178188(0x146)](_0x20f344);let _0x4e3968=0x0;for(const _0x2b9940 of _0xe2cb84){const {topLevelFeature:_0x3946c5,optionsSets:_0x5737e0}=_0x2b9940;if(_0x3946c5[_0x178188(0x134)]<_0x5b9770||_0x3946c5[_0x178188(0x134)]>_0x53771f)continue;const _0x334aa1=_0x3946c5[_0x178188(0x159)][_0x178188(0x199)]();if(_0x334aa1==='ability\x20score\x20improvement'){_0x4e3968++;continue;}for(const _0x3d2663 of _0x5737e0){const _0x2710ec=new Charactermancer_Class_FeatureOptionsSelect({'featureSourceTracker':this[_0x178188(0x1b7)][_0x178188(0x1ab)],'existingFeatureChecker':_0x27fb50,'actor':this['_actor'],'optionsSet':_0x3d2663,'level':_0x3946c5[_0x178188(0x134)]});this[_0x178188(0x165)][_0x20f344][_0x178188(0x194)](_0x2710ec),_0x2710ec['findAndCopyStateFrom'](_0x4dbe84);}}this[_0x178188(0x19d)][_0x2973aa]=_0x4e3968,await this[_0x178188(0x1fd)](_0x20f344,{'$stgFeatureOptions':_0x4a6f4f});}[_0x1d6699(0x146)](_0x1eb978){const _0x30823f=_0x1d6699;(this[_0x30823f(0x165)][_0x1eb978]||[])[_0x30823f(0x192)](_0x15e5ac=>_0x15e5ac[_0x30823f(0x16f)]()),this[_0x30823f(0x165)][_0x1eb978]=[];}async[_0x1d6699(0x1cd)](_0x16b919){const _0xae0312=_0x1d6699;let _0x28dc6a=0x0,_0x2ec124=0x0;if(this['_compsClassLevelSelect'][_0x16b919]){const _0x377524=await this['_compsClassLevelSelect'][_0x16b919][_0xae0312(0x205)]()[_0xae0312(0x1ec)];_0x28dc6a=Math[_0xae0312(0x1b5)](..._0x377524)+0x1,_0x2ec124=Math[_0xae0312(0x1ee)](..._0x377524)+0x1;}return{'lvlMin':_0x28dc6a,'lvlMax':_0x2ec124};}async[_0x1d6699(0x1fd)](_0x55bd32,{$stgFeatureOptions:_0x168af8}){const _0x33ab4b=_0x1d6699;for(const _0x5632b0 of this['_compsClassFeatureOptionsSelect'][_0x55bd32]){if(await _0x5632b0[_0x33ab4b(0x1d2)]()&&!await _0x5632b0[_0x33ab4b(0x154)]())continue;_0x168af8[_0x33ab4b(0x13e)]()[_0x33ab4b(0x208)](''+(_0x5632b0[_0x33ab4b(0x16e)]?_0x33ab4b(0x13a)+_0x5632b0[_0x33ab4b(0x16e)]+'</div>':'')),_0x5632b0[_0x33ab4b(0x168)](_0x168af8);}}['_class_renderEntriesSection'](_0x1b02e2,_0x32add5,_0xdf0333,{$wrpTable:$wrpTable=null}={}){const _0x880439=_0x1d6699,_0x403bcc=$('<div\x20class=\x22py-1\x20pl-2\x20clickable\x20ve-muted\x22>[‒]</div>')[_0x880439(0x1a6)](()=>{const _0x473135=_0x880439;_0x403bcc['text'](_0x403bcc[_0x473135(0x15a)]()==='[+]'?_0x473135(0x169):'[+]');if($wrpTable)$wrpTable[_0x473135(0x1c7)]();_0x1f1234['toggleVe']();}),_0x1f1234=Renderer[_0x880439(0x1e2)]['$getHoverContent_generic'](_0xdf0333);$$`<div class="flex-col">
			<div class="split-v-center">
				<div class="rd__h rd__h--0"><div class="entry-title-inner">${(_0x32add5||'')['qq']()}</div></div>
				${_0x403bcc}
			</div>
			${$wrpTable}
			${_0x1f1234}
		</div>`[_0x880439(0x207)](_0x1b02e2);}['class_getPrimaryClass'](){const _0x24face=_0x1d6699;if(this[_0x24face(0x19d)][_0x24face(0x1ce)])return null;const {propIxClass:_0x51b058}=ActorCharactermancerBaseComponent[_0x24face(0x1a7)](this[_0x24face(0x19d)][_0x24face(0x1ce)]);return this[_0x24face(0x1df)][_0x24face(0x18c)][this[_0x24face(0x19d)][_0x51b058]];}['class_getTotalLevels'](){const _0x4a1a78=_0x1d6699;return this[_0x4a1a78(0x1ef)][_0x4a1a78(0x193)](Boolean)[_0x4a1a78(0x186)](_0x533edc=>_0x533edc[_0x4a1a78(0x1c3)]())['reduce']((_0x3549d7,_0x4d4362)=>_0x3549d7+_0x4d4362,0x0);}['class_getMinMaxSpellLevel'](){const _0x513b29=_0x1d6699,_0x5ed72e=[],_0xd4f41b=[];for(let _0x159c9b=0x0;_0x159c9b<this['_state']['class_ixMax']+0x1;++_0x159c9b){const {propIxClass:_0x36d06e,propIxSubclass:_0x11783b,propCurLevel:_0x59fb8e,propTargetLevel:_0x31d29a}=ActorCharactermancerBaseComponent[_0x513b29(0x1a7)](_0x159c9b),_0x647fac=this[_0x513b29(0x1b2)]({'propIxClass':_0x36d06e});if(!_0x647fac)continue;const _0x3b31b0=this[_0x513b29(0x15c)]({'cls':_0x647fac,'propIxSubclass':_0x11783b}),_0x3a0cb2=this['_state'][_0x59fb8e],_0x2f27ae=this[_0x513b29(0x19d)][_0x31d29a],_0x26c62c=DataConverterClass[_0x513b29(0x15b)](_0x647fac[_0x513b29(0x1c8)],_0x3b31b0?.['casterProgression']),_0x257e3f=Charactermancer_Util['getCasterProgressionMeta']({'casterProgression':_0x26c62c,'curLevel':_0x3a0cb2,'targetLevel':_0x2f27ae,'isBreakpointsOnly':!![]})?.[_0x513b29(0x1f3)];if(_0x257e3f!=null)_0x5ed72e['push'](_0x257e3f);const _0x37f6e0=Charactermancer_Util[_0x513b29(0x1e7)]({'casterProgression':_0x26c62c,'curLevel':_0x3a0cb2,'targetLevel':_0x2f27ae,'isBreakpointsOnly':!![]})?.[_0x513b29(0x149)];if(_0x37f6e0!=null)_0xd4f41b[_0x513b29(0x194)](_0x37f6e0);}return{'min':_0x5ed72e[_0x513b29(0x1e5)]?Math[_0x513b29(0x1b5)](..._0x5ed72e):null,'max':_0xd4f41b[_0x513b29(0x1e5)]?Math['max'](..._0xd4f41b):null};}['_getDefaultState'](){return{'class_ixPrimaryClass':0x0,'class_ixMax':0x0,'class_totalLevels':0x0,'class_pulseChange':![]};}}ActorCharactermancerClass[_0x1d6699(0x191)]=class{constructor({item:_0x51d622,ixClass:_0xf9840f,ixSubclass:_0x49cf87,level:_0x5d475d}){const _0x526581=_0x1d6699;this['item']=_0x51d622,this[_0x526581(0x172)]=_0xf9840f,this[_0x526581(0x1a9)]=_0x49cf87,this['level']=_0x5d475d;if(isNaN(this[_0x526581(0x134)]))this['level']=0x0;}};export{ActorCharactermancerClass};