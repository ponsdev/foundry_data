const _0x4b78=['<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Skill\x20Proficiencies</div>','_feat_renderFeat','featureSourceTracker_','tabFeats','_feat_renderFeat_stgOtherProficiencies','getMode','ActorCharactermancer.feats','getExistingProficiencies','[+]','toolProf','max','2uWdoXg','_actor','filter','name','_modalFilterFeats','312450ZLxyYZ','_data','compAbility','race_cntFeats','copy','$wrpTab','toggleVe','1033559yXFkLV','click','hideVe','\x20(Race)','custom','_feat_renderEntriesSection','pLoad','_addHookBase','addHookBase','_compsFeatLanguageProficiencies','</div>','\x20(ASI)','compRace','armorProficiencies','render','text','mergeMap','includes','<div><i\x20class=\x22ve-muted\x22>No\x20feats\x20are\x20available\x20for\x20your\x20current\x20class/race\x20combination.</i><hr\x20class=\x22hr-1\x22></div>','Weapon\x20Proficiencies','feat_getProps','_proxyAssignSimple','feat_pulseChange','398262AtUyYf','_getDefaultState','__state','_compsFeatWeaponProficiencies','feat_cntFeatsCustom','push','_compsFeatToolProficiencies','Feat','compsFeatWeaponProficiencies','race','startsWith','weaponProf','_pRender_getFilterSearchMeta','<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>','weaponProficiencies','appendTo','feat_ixMaxRace','state','1FvOYIg','feat_getActiveFeatIxProps','compsFeatArmorProficiencies','ability','empty','modalFilterFeats','setIxFeat','<div\x20class=\x22py-1\x20pl-2\x20clickable\x20ve-muted\x22>[‒]</div>','feat_ixMaxAbility','compsFeatLanguageProficiencies','828974VzcRki','_parent','ability_readonly_cntFeats','_feat_addFeatSection','\x20(Additional/Custom)','_tabFeats','14iFBqSk','702475OCBbSb','skillProficiencies','_comsFeatSkillProficiencies','_compsFeatArmorProficiencies','data','158941ojCQKF','32707KKSYSO','skills','feat_ixMaxCustom','feat','unregister','compsFeatToolProficiencies','languages','_state','traits','_feat_getActiveFeatIxProps_ability','7DugtAQ','append','ability_cntPossibleFeats','showVe','$getHoverContent_stats'];const _0x5e27=function(_0x189fc7,_0x23a402){_0x189fc7=_0x189fc7-0x158;let _0x4b78e9=_0x4b78[_0x189fc7];return _0x4b78e9;};const _0x58d3f7=_0x5e27;(function(_0x1faaa2,_0x3ac390){const _0x208d3d=_0x5e27;while(!![]){try{const _0x8dee68=parseInt(_0x208d3d(0x1a1))+-parseInt(_0x208d3d(0x175))+parseInt(_0x208d3d(0x19c))*-parseInt(_0x208d3d(0x159))+-parseInt(_0x208d3d(0x182))*-parseInt(_0x208d3d(0x17b))+parseInt(_0x208d3d(0x1a8))+-parseInt(_0x208d3d(0x18c))*-parseInt(_0x208d3d(0x181))+-parseInt(_0x208d3d(0x16b))*parseInt(_0x208d3d(0x17c));if(_0x8dee68===_0x3ac390)break;else _0x1faaa2['push'](_0x1faaa2['shift']());}catch(_0x2778f4){_0x1faaa2['push'](_0x1faaa2['shift']());}}}(_0x4b78,0x8fae9));import{ActorCharactermancerBaseComponent}from'./ActorCharactermancerUtil.js';import{ModalFilterFeatsFvtt}from'./UtilModalFilter.js';import{Charactermancer_ArmorProficiencySelect,Charactermancer_LanguageProficiencySelect,Charactermancer_SkillProficiencySelect,Charactermancer_ToolProficiencySelect,Charactermancer_WeaponProficiencySelect}from'./UtilCharactermancer.js';class ActorCharactermancerFeat extends ActorCharactermancerBaseComponent{constructor(_0x1b1e35){const _0x2a3d5a=_0x5e27;_0x1b1e35=_0x1b1e35||{},super(),this[_0x2a3d5a(0x19d)]=_0x1b1e35['actor'],this[_0x2a3d5a(0x1a2)]=_0x1b1e35['data'],this[_0x2a3d5a(0x176)]=_0x1b1e35['parent'],this[_0x2a3d5a(0x17a)]=_0x1b1e35[_0x2a3d5a(0x194)],this[_0x2a3d5a(0x1a0)]=new ModalFilterFeatsFvtt({'namespace':_0x2a3d5a(0x197),'isRadio':!![],'allData':this[_0x2a3d5a(0x1a2)]['feat']}),this[_0x2a3d5a(0x17e)]=[],this[_0x2a3d5a(0x1b1)]=[],this['_compsFeatToolProficiencies']=[],this[_0x2a3d5a(0x15c)]=[],this[_0x2a3d5a(0x17f)]=[];}get[_0x58d3f7(0x170)](){const _0x35754d=_0x58d3f7;return this[_0x35754d(0x1a0)];}get['compsFeatSkillProficiencies'](){return this['_comsFeatSkillProficiencies'];}get[_0x58d3f7(0x174)](){const _0x480ae7=_0x58d3f7;return this[_0x480ae7(0x1b1)];}get[_0x58d3f7(0x187)](){const _0x57e7f7=_0x58d3f7;return this[_0x57e7f7(0x15f)];}get[_0x58d3f7(0x161)](){return this['_compsFeatWeaponProficiencies'];}get[_0x58d3f7(0x16d)](){const _0x844650=_0x58d3f7;return this[_0x844650(0x17f)];}async[_0x58d3f7(0x1ae)](){await this['_modalFilterFeats']['pPreloadHidden']();}[_0x58d3f7(0x1b6)](){const _0x481ff6=_0x58d3f7,_0x4262c8=this[_0x481ff6(0x17a)]?.[_0x481ff6(0x1a6)];if(!_0x4262c8)return;const _0x2d0a8b=$$`<div class="flex-col w-100 h-100 px-1 pt-1 overflow-y-auto ve-grow veapp__bg-foundry"></div>`,_0x584da3=$$`<div class="flex-col w-100 h-100 px-1 overflow-y-auto ve-grow veapp__bg-foundry"></div>`,_0x76e8a9=$(_0x481ff6(0x1ba))[_0x481ff6(0x168)](_0x2d0a8b),_0x12a95e=()=>{const _0x170173=_0x481ff6,_0x336197=this['_parent']['compAbility'][_0x170173(0x16a)][_0x170173(0x177)]+this['_parent'][_0x170173(0x1b4)][_0x170173(0x16a)][_0x170173(0x1a4)];_0x76e8a9[_0x170173(0x1a7)](!_0x336197);};this[_0x481ff6(0x176)][_0x481ff6(0x1a3)][_0x481ff6(0x1b0)]('ability_readonly_cntFeats',_0x12a95e),this['_parent'][_0x481ff6(0x1b4)][_0x481ff6(0x1b0)](_0x481ff6(0x1a4),_0x12a95e),_0x12a95e();const _0x1f83a4=()=>this[_0x481ff6(0x189)]['feat_ixMaxAbility']=Math[_0x481ff6(0x19b)](this[_0x481ff6(0x189)][_0x481ff6(0x173)],this[_0x481ff6(0x176)][_0x481ff6(0x1a3)][_0x481ff6(0x16a)][_0x481ff6(0x18e)]-0x1);this[_0x481ff6(0x176)][_0x481ff6(0x1a3)][_0x481ff6(0x1b0)](_0x481ff6(0x18e),_0x1f83a4),_0x1f83a4();const _0x48e2e1=()=>this[_0x481ff6(0x189)][_0x481ff6(0x169)]=Math[_0x481ff6(0x19b)](this[_0x481ff6(0x189)]['feat_ixMaxRace'],this['_parent'][_0x481ff6(0x1b4)][_0x481ff6(0x16a)][_0x481ff6(0x1a4)]-0x1);this[_0x481ff6(0x176)][_0x481ff6(0x1b4)][_0x481ff6(0x1b0)]('race_cntFeats',_0x48e2e1),_0x48e2e1();const _0x3a66c2=()=>this[_0x481ff6(0x189)][_0x481ff6(0x184)]=Math[_0x481ff6(0x19b)](this['_state'][_0x481ff6(0x184)],this['_state'][_0x481ff6(0x15d)]-0x1);this[_0x481ff6(0x1af)](_0x481ff6(0x15d),_0x3a66c2),_0x3a66c2(),this[_0x481ff6(0x178)](_0x2d0a8b,_0x584da3,_0x481ff6(0x173),_0x481ff6(0x16e)),this['_feat_addFeatSection'](_0x2d0a8b,_0x584da3,'feat_ixMaxRace',_0x481ff6(0x162)),this[_0x481ff6(0x178)](_0x2d0a8b,_0x584da3,_0x481ff6(0x184),'custom');const _0x320780=$('<button\x20class=\x22btn\x20btn-5et\x20btn-sm\x22>Add\x20Feat</button>')[_0x481ff6(0x1a9)](()=>this[_0x481ff6(0x189)]['feat_cntFeatsCustom']++);$$`<div class="flex w-100 h-100">
			<div class="flex-col w-100">
				${_0x2d0a8b}
				<div class="mt-2">${_0x320780}</div>
			</div>
			<div class="vr-1"></div>
			${_0x584da3}
		</div>`[_0x481ff6(0x168)](_0x4262c8);}['_feat_addFeatSection'](_0x733eab,_0x245720,_0x19341d,_0x195c65){const _0x5b0498=_0x58d3f7;let _0x2cffd7=this[_0x5b0498(0x189)][_0x19341d]+0x1;const _0x5bceca=()=>{const _0x29201e=_0x5b0498;for(let _0x3d742d=_0x2cffd7;_0x3d742d<this[_0x29201e(0x189)][_0x19341d]+0x1;++_0x3d742d)this[_0x29201e(0x192)](_0x733eab,_0x245720,_0x3d742d,_0x195c65);const _0x492642=_0x2cffd7!==this[_0x29201e(0x189)][_0x19341d]+0x1;_0x2cffd7=this['_state'][_0x19341d]+0x1;if(_0x492642)this[_0x29201e(0x189)][_0x29201e(0x158)]=!this[_0x29201e(0x189)][_0x29201e(0x158)];};this['_addHookBase'](_0x19341d,_0x5bceca),_0x5bceca();}[_0x58d3f7(0x192)](_0x2f902a,_0x22e57b,_0x5897fc,_0x42635f){const _0x575e6e=_0x58d3f7,{propPrefixFeat:_0x1d073b,propIxFeat:_0xc4ba17}=ActorCharactermancerBaseComponent[_0x575e6e(0x1bc)](_0x5897fc,_0x42635f);let _0x4c455d=null,_0x27500c=this['_state'][_0xc4ba17];const _0x196203=()=>{const _0x464caf=_0x575e6e,_0x11f1e3=_0x42635f==='custom'||this[_0x464caf(0x16c)]()[_0x464caf(0x1b9)](_0xc4ba17),_0x230268=_0x4c455d!=null&&_0x11f1e3!==_0x4c455d,_0x53e9e7=this['_state'][_0xc4ba17]!==_0x27500c;_0x4c455d=_0x11f1e3,_0x27500c=this[_0x464caf(0x189)][_0xc4ba17],(_0x230268&&this[_0x464caf(0x189)][_0xc4ba17]!=null||_0x53e9e7)&&(this['_state']['feat_pulseChange']=!this[_0x464caf(0x189)][_0x464caf(0x158)]);};this[_0x575e6e(0x1af)](_0xc4ba17,_0x196203);if(_0x42635f===_0x575e6e(0x16e))this[_0x575e6e(0x176)][_0x575e6e(0x1a3)][_0x575e6e(0x1b0)]('ability_readonly_cntFeats',_0x196203);if(_0x42635f===_0x575e6e(0x162))this[_0x575e6e(0x176)][_0x575e6e(0x1b4)][_0x575e6e(0x1b0)](_0x575e6e(0x1a4),_0x196203);if(_0x42635f==='custom')this['_addHookBase'](_0x575e6e(0x15d),_0x196203);const {$sel:_0x30d9ca,$btnFilter:_0x146138}=this[_0x575e6e(0x165)]({'prop':_0xc4ba17,'data':this[_0x575e6e(0x1a2)][_0x575e6e(0x185)],'modalFilter':this[_0x575e6e(0x1a0)],'title':_0x575e6e(0x160)}),_0x35dad6=()=>{const _0x44af2a=_0x575e6e,_0x213178=this[_0x44af2a(0x16c)]()[_0x44af2a(0x1b9)](_0xc4ba17);_0x29746d[_0x44af2a(0x1a7)](_0x213178),_0x5726a6[_0x44af2a(0x1a7)](_0x213178),_0x196203();};if(_0x42635f===_0x575e6e(0x16e))this['_parent'][_0x575e6e(0x1a3)][_0x575e6e(0x1b0)]('ability_readonly_cntFeats',_0x35dad6);if(_0x42635f===_0x575e6e(0x162))this[_0x575e6e(0x176)][_0x575e6e(0x1b4)][_0x575e6e(0x1b0)]('race_cntFeats',_0x35dad6);if(_0x42635f===_0x575e6e(0x1ac))this[_0x575e6e(0x1af)](_0x575e6e(0x15d),_0x35dad6);const _0x1c331e=()=>{const _0x469758=_0x575e6e,_0x1fcefe=Object['keys'](this[_0x469758(0x15b)])[_0x469758(0x19e)](_0x5cd91e=>_0x5cd91e[_0x469758(0x163)](_0x1d073b)&&_0x5cd91e!==_0xc4ba17)[_0x469758(0x1b8)](_0x9123bd=>({[_0x9123bd]:null}));this[_0x469758(0x1bd)](_0x469758(0x16a),_0x1fcefe);const _0x28aed3=(_0x42635f==='ability'||_0x42635f==='race')&&!this[_0x469758(0x16c)]()[_0x469758(0x1b9)](_0xc4ba17),_0x4c2e37=_0x28aed3?null:this[_0x469758(0x1a2)][_0x469758(0x185)][this[_0x469758(0x189)][_0xc4ba17]];_0xc3299b[_0x469758(0x16f)]();if(_0x4c2e37)this[_0x469758(0x1ad)](_0xc3299b,_0x4c2e37);_0x35dad6(),this[_0x469758(0x176)][_0x469758(0x1a3)][_0x469758(0x171)](_0x5897fc,_0x42635f,this[_0x469758(0x189)][_0xc4ba17]),_0x3c4929['empty'](),this[_0x469758(0x176)][_0x469758(0x193)][_0x469758(0x186)](this[_0x469758(0x17e)][_0x5897fc]),_0x4c2e37&&_0x4c2e37[_0x469758(0x17d)]?(_0x3c4929[_0x469758(0x18f)]()[_0x469758(0x18d)](_0x469758(0x191)),this[_0x469758(0x17e)][_0x5897fc]=new Charactermancer_SkillProficiencySelect({'featureSourceTracker':this[_0x469758(0x176)][_0x469758(0x193)],'existingProficiencies':Charactermancer_SkillProficiencySelect[_0x469758(0x198)]({'skillProficiencies':MiscUtil['get'](this[_0x469758(0x19d)],'data',_0x469758(0x180),_0x469758(0x183))}),'availableProficiencies':_0x4c2e37['skillProficiencies']}),this['_comsFeatSkillProficiencies'][_0x5897fc]['render'](_0x3c4929)):(_0x3c4929[_0x469758(0x1aa)](),this['_comsFeatSkillProficiencies'][_0x5897fc]=null),this['_feat_renderFeat_stgOtherProficiencies']({'ix':_0x5897fc,'$stg':_0x372df,'feat':_0x4c2e37,'propComp':_0x469758(0x1b1),'propProficiencies':'languageProficiencies','title':'Language\x20Proficiencies','CompClass':Charactermancer_LanguageProficiencySelect,'propPathActorExistingProficiencies':[_0x469758(0x180),'data',_0x469758(0x18a),_0x469758(0x188)]}),this[_0x469758(0x195)]({'ix':_0x5897fc,'$stg':_0x21497b,'feat':_0x4c2e37,'propComp':_0x469758(0x15f),'propProficiencies':'toolProficiencies','title':'Tool\x20Proficiencies','CompClass':Charactermancer_ToolProficiencySelect,'propPathActorExistingProficiencies':[_0x469758(0x180),_0x469758(0x180),_0x469758(0x18a),_0x469758(0x19a)]}),this['_feat_renderFeat_stgOtherProficiencies']({'ix':_0x5897fc,'$stg':_0x271ef5,'feat':_0x4c2e37,'propComp':_0x469758(0x15c),'propProficiencies':_0x469758(0x167),'title':_0x469758(0x1bb),'CompClass':Charactermancer_WeaponProficiencySelect,'propPathActorExistingProficiencies':[_0x469758(0x180),_0x469758(0x180),_0x469758(0x18a),_0x469758(0x164)]}),this[_0x469758(0x195)]({'ix':_0x5897fc,'$stg':_0x5a9d36,'feat':_0x4c2e37,'propComp':'_compsFeatArmorProficiencies','propProficiencies':_0x469758(0x1b5),'title':'Armor\x20Proficiencies','CompClass':Charactermancer_ArmorProficiencySelect,'propPathActorExistingProficiencies':[_0x469758(0x180),_0x469758(0x180),_0x469758(0x18a),'armorProf']});};this[_0x575e6e(0x1af)](_0xc4ba17,_0x1c331e);const _0x2eb8be='Select\x20a\x20Feat'+(_0x42635f===_0x575e6e(0x16e)?_0x575e6e(0x1b3):_0x42635f===_0x575e6e(0x162)?_0x575e6e(0x1ab):_0x575e6e(0x179)),_0x278d8c=$('<div\x20class=\x22bold\x22>'+_0x2eb8be+'</div>'),_0x3c4929=$$`<div class="flex-col"></div>`['hideVe'](),_0x372df=$$`<div class="flex-col"></div>`[_0x575e6e(0x1aa)](),_0x21497b=$$`<div class="flex-col"></div>`['hideVe'](),_0x271ef5=$$`<div class="flex-col"></div>`[_0x575e6e(0x1aa)](),_0x5a9d36=$$`<div class="flex-col"></div>`[_0x575e6e(0x1aa)](),_0x5da064=$('<div\x20class=\x22py-1\x20clickable\x20ve-muted\x22>[‒]</div>')[_0x575e6e(0x1a9)](()=>{const _0x218849=_0x575e6e,_0x1487de=_0x5da064['text']()==='[+]';_0x5da064['text'](_0x1487de?'[‒]':_0x218849(0x199));if(_0x1487de)_0x278d8c[_0x218849(0x1b7)](_0x2eb8be);else{const _0x272708=this[_0x218849(0x1a2)][_0x218849(0x185)][this['_state'][_0xc4ba17]];if(_0x272708)_0x278d8c[_0x218849(0x1b7)](_0x272708[_0x218849(0x19f)]);else _0x278d8c[_0x218849(0x1b7)](_0x2eb8be);}_0x15dd9d['toggleVe']();}),_0xc3299b=$$`<div class="flex-col w-100 mb-3"></div>`,_0x15dd9d=$$`<div class="flex-col w-100 mt-2">
			<div class="flex-v-center btn-group w-100">${_0x146138}${_0x30d9ca}</div>
			${_0x3c4929}
			${_0x372df}
			${_0x21497b}
			${_0x271ef5}
			${_0x5a9d36}
		</div>`,_0x29746d=$$`<div class="flex-col mb-3">
			<div class="split-v-center">
				${_0x278d8c}
				<div class="flex-v-center">
					${_0x5da064}
				</div>
			</div>

			${_0x15dd9d}
		</div>`[_0x575e6e(0x168)](_0x2f902a),_0x5726a6=$$`<div>
			${_0xc3299b}
		</div>`['appendTo'](_0x22e57b);_0x1c331e();}[_0x58d3f7(0x195)]({ix:_0x1847b0,$stg:_0x57d3f9,feat:_0xa50e4e,propComp:_0x421ac3,propProficiencies:_0x1a1786,title:_0x4d9ff1,CompClass:_0x132e54,propPathActorExistingProficiencies:_0x38e328}){const _0x25a917=_0x58d3f7;_0x57d3f9[_0x25a917(0x16f)](),this['_parent'][_0x25a917(0x193)][_0x25a917(0x186)](this[_0x421ac3][_0x1847b0]),_0xa50e4e&&_0xa50e4e[_0x1a1786]?(_0x57d3f9[_0x25a917(0x18f)]()['append'](_0x25a917(0x166)+_0x4d9ff1+_0x25a917(0x1b2)),this[_0x421ac3][_0x1847b0]=new _0x132e54({'featureSourceTracker':this[_0x25a917(0x176)][_0x25a917(0x193)],'existingProficiencies':_0x132e54[_0x25a917(0x198)]({[_0x1a1786]:MiscUtil['get'](this[_0x25a917(0x19d)],..._0x38e328)}),'availableProficiencies':_0xa50e4e[_0x1a1786]}),this[_0x421ac3][_0x1847b0][_0x25a917(0x1b6)](_0x57d3f9)):(_0x57d3f9[_0x25a917(0x1aa)](),this[_0x421ac3][_0x1847b0]=null);}[_0x58d3f7(0x1ad)](_0x2f18e9,_0x30370c){const _0x2056c8=_0x58d3f7,_0x5aa2a5=$(_0x2056c8(0x172))[_0x2056c8(0x1a9)](()=>{const _0x296a5d=_0x2056c8;_0x5aa2a5['text'](_0x5aa2a5[_0x296a5d(0x1b7)]()===_0x296a5d(0x199)?'[‒]':_0x296a5d(0x199)),_0x435b05[_0x296a5d(0x1a7)]();}),_0x435b05=Renderer['hover'][_0x2056c8(0x190)](UrlUtil['PG_FEATS'],MiscUtil[_0x2056c8(0x1a5)](_0x30370c),null,{'isSkipNameRow':!![]});$$`<div class="flex-col">
			<div class="split-v-center">
				<div class="rd__h rd__h--0"><div class="entry-title-inner">${(_0x30370c[_0x2056c8(0x19f)]||'')['qq']()}</div></div>
				${_0x5aa2a5}
			</div>
			${_0x435b05}
		</div>`[_0x2056c8(0x168)](_0x2f18e9);}[_0x58d3f7(0x18b)](){const _0x29ed44=_0x58d3f7,_0x49c648=[];for(let _0x4114d3=0x0;_0x4114d3<this['_state'][_0x29ed44(0x173)]+0x1;++_0x4114d3){if(_0x4114d3>=this[_0x29ed44(0x176)]['compAbility'][_0x29ed44(0x16a)]['ability_cntPossibleFeats'])break;if(this[_0x29ed44(0x176)][_0x29ed44(0x1a3)][_0x29ed44(0x196)](_0x4114d3,_0x29ed44(0x16e))!==_0x29ed44(0x185))continue;const {propIxFeat:_0x330014}=ActorCharactermancerBaseComponent['feat_getProps'](_0x4114d3,_0x29ed44(0x16e));_0x49c648[_0x29ed44(0x15e)](_0x330014);}return _0x49c648;}[_0x58d3f7(0x16c)](){const _0x16b76e=_0x58d3f7,_0x2f46aa=this[_0x16b76e(0x18b)]();for(let _0x4d5e85=0x0;_0x4d5e85<this[_0x16b76e(0x189)][_0x16b76e(0x169)]+0x1;++_0x4d5e85){if(_0x4d5e85>=this[_0x16b76e(0x176)]['compRace'][_0x16b76e(0x16a)]['race_cntFeats'])break;const {propIxFeat:_0x4e1315}=ActorCharactermancerBaseComponent[_0x16b76e(0x1bc)](_0x4d5e85,'race');_0x2f46aa[_0x16b76e(0x15e)](_0x4e1315);}for(let _0x8bd5db=0x0;_0x8bd5db<this[_0x16b76e(0x189)][_0x16b76e(0x184)]+0x1;++_0x8bd5db){if(_0x8bd5db>=this[_0x16b76e(0x189)][_0x16b76e(0x15d)])break;const {propIxFeat:_0x1e06ef}=ActorCharactermancerBaseComponent[_0x16b76e(0x1bc)](_0x8bd5db,_0x16b76e(0x1ac));_0x2f46aa[_0x16b76e(0x15e)](_0x1e06ef);}return _0x2f46aa;}[_0x58d3f7(0x15a)](){return{'feat_ixMaxAbility':-0x1,'feat_ixMaxRace':-0x1,'feat_ixMaxCustom':-0x1,'feat_cntFeatsCustom':0x0,'feat_pulseChange':![]};}}export{ActorCharactermancerFeat};