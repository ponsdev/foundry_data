const _0x1376=['immune','swim','SYM_AT','isChannelDivinity','doApplyToolProficienciesFormDataToActorUpdate','importAdventure','resist','doApplyLanguageProficienciesFormDataToActorUpdate','setEq','assign','TERMS_COUNT','appendIfNotExistsArr','getBookJournals','skills','GENERIC_WALKER_ENTRIES_KEY_BLACKLIST','some','rwak','prop','max','getSentences','player','getMappedWeaponProficiency','reaction','climb','getAdventureJournals','depth','toolProficiencies','PG_ITEMS','actor','split','pGetIconImage','WEAPONS_MARTIAL','doApplyWeaponProficienciesFormDataToActorUpdate','weaponProficiencies','resources.primary.value','getEntryDescription','join','SKILL_ABV_TO_FULL','floor((@abilities.','_SET_PHYSICAL_DAMAGE','set','pFillActorArmorProfData','exec','.value\x20-\x2010)\x20/\x202)','stripTags','slice','a\x20number\x20of\x20times\x20equal\x20to(?:\x20(','URL_TO_HASH_BUILDER','getFullImmRes','render','languageProficiencies','copy','getWalker','doApplySkillFormDataToActorUpdate','\x22\x20from\x20object','INS','raw','indexOf','in\x20imported\x20embedded\x20entities','attribute','traits','creature','getTagUids','isCancelled','isSpeedHover','getCleanEntityName','ITEM_TYPES_ACTOR_TOOLS','296125MYgkkK','_mutActorUpdate_mutFromSideMod_handleProp','martial','count','SYM_UI_SKIP','flat','sourceJsonToAbv','padStart','_mutActorUpdate_mutFromSideDataMod','attributes','STR_SEE_CONSOLE','rsak','PLUT_CONTEXT','scalar','isPageSourceCached','getAttackActionType','isUseOtherFormulaFieldForSaveHalvesDamage','endsWith','getItemSource','get','getItemActorPassive','includes','abilities','doApplyArmorProficienciesFormDataToActorUpdate','getMappedLanguage','book','pFillActorConditionImmunityData','\x20pg.\x20','toLowerCase','proficient','phb','19636cBaXFD','disease','116372bGvlWY','tokens','weaponProf','toTitleCase','ABIL_ABVS','data','keys','save','conditionals','bookOrdinalToAbv','entity','isCached','max(','_SOURCE_PAGE_PREFIX','abilityDc','setFirstSection','permission','sideData','adventure','permissions','6145UpIrNt','_getAdventureBookJournalPrefix','type','doApplyOtherProficienciesFormData','_SOURCE_PAGE_PREFIX_RE','getFeatureFlags','getActorDamageResImmVulnConditionImm','msak','getCombinedFoundryData','fnGetMappedItem','hover','16586gBmwau','getAbilityModNumber','push','_pGetAdditional_fnMatch','homebrew','getDamagePartsAndOtherFormula','_getActorDamageResImmVulnConditionImm_addDamageTypesOrConditionTypes','special','fly','pFillActorSkillData','filter','warn','burrow','getMovement','find','bonus','string','condition','pFillActorLanguageData','144190zratDD','pFillActorVulnerabilityData','trim','actorDataMod','pFillActorToolProfData','getNameWithSourcePart','actorTraitProp','pFillActorResistanceData','min','ITEM_TYPES_ACTOR_ARMOR','long\x20rest','actorTokenMod','weaponCategory','_displayName','ordinal','VALID_CONDITIONS','ability','entries','walk','getFullCondImm','canHover','vehicle','getMappedTool','note','length','number','stringify','pGetSideData_','{@dc\x20','importBook','pGetItemWeaponType','feat','_getCleanOriginalData_recurse','replace','conditionImmune','index','renderDepth','effects','pFillActorLanguageOrToolData','pGetUserInput','import','additionalData','_doApplyFormData_doCheckAddCustomItem','name','5QKxDJo','_pGetAdditionalStar','languages','error','pFillActorWeaponProfData','test','))?\x20your\x20(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma)\x20modifier(?:\x20\x5c(minimum\x20of\x20(','bludgeoning','Could\x20not\x20find\x20loaded\x20item\x20data','_getAdventureBookJournals','collection','mwak','getCombinedFoundryFlags','getOrSet','mode','mutActorUpdate','piercing','Failed\x20to\x20link\x20embedded\x20entity\x20for\x20active\x20effects!\x20','_mutActorUpdate_mutFromSideTokenMod','_doPopulateDrDiDvCiData','forEach','diseased','pGetAdditionalEffectsRaw_','armorProf','\x20([^}]+)}','source','other','getMappedArmorProficiency','deepEquals','scalarAdd','pGetIconLookup','slashing','getCleanOriginalData','armorProficiencies','has','Unhandled\x20mode\x20\x22','unit','page','spell','vulnerable','object','items','getAttackRange','WALKER_READONLY_GENERIC','token','doApplySavingThrowProficienciesFormDataToActorUpdate','1GUNUNU','turn','charges','_PROPS_DAMAGE_IMM_VULN_RES','add','pFillActorImmunityData','cond','modules/','WEAPONS_SIMPLE','unitShort','getSourceWithPagePart','pCacheAndGet','mod','toolProf','pGetAdditionalStarFromFound_','isAddPermission','map','value','MODULE_NAME','Removed\x20key\x20\x22','notifications','_mutActorUpdate_mutFromSideMod','\x20+\x20','img','VALID_DAMAGE_TYPES','now','tuple','physical','modeOptions','getSpeedValue','143000iyIMuo','day','fnGetMappedCustomItem'];const _0x1fcb=function(_0xda357f,_0x280981){_0xda357f=_0xda357f-0x87;let _0x137648=_0x1376[_0xda357f];return _0x137648;};const _0x118925=_0x1fcb;(function(_0x44e53f,_0x3bb921){const _0x541beb=_0x1fcb;while(!![]){try{const _0x41cf82=parseInt(_0x541beb(0x14f))*-parseInt(_0x541beb(0x110))+-parseInt(_0x541beb(0x105))+parseInt(_0x541beb(0xef))+-parseInt(_0x541beb(0x8a))+parseInt(_0x541beb(0x123))+-parseInt(_0x541beb(0xf1))+parseInt(_0x541beb(0xd0))*parseInt(_0x541beb(0x17d));if(_0x41cf82===_0x3bb921)break;else _0x44e53f['push'](_0x44e53f['shift']());}catch(_0x2c7e31){_0x44e53f['push'](_0x44e53f['shift']());}}}(_0x1376,0x1b390));import{SharedConsts}from'../shared/SharedConsts.js';import{UtilActors}from'./UtilActors.js';import{Config}from'./Config.js';import{UtilApplications}from'./UtilApplications.js';import{Vetools}from'./Vetools.js';import{Consts}from'./Consts.js';import{Charactermancer_SkillProficiencySelect,Charactermancer_LanguageProficiencySelect,Charactermancer_ToolProficiencySelect,Charactermancer_ArmorProficiencySelect,Charactermancer_WeaponProficiencySelect,Charactermancer_LanguageToolProficiencySelect}from'./UtilCharactermancer.js';import{LGT,Util}from'./Util.js';import{Charactermancer_Race_ConditionImmunitySelect,Charactermancer_Race_DamageImmunitySelect,Charactermancer_Race_DamageResistanceSelect,Charactermancer_Race_DamageVulnerabilitySelect}from'./UtilCharactermancerRace.js';import{UtilCompat}from'./UtilCompat.js';class DataConverter{static[_0x118925(0x128)](_0x25c6e2,{displayName:displayName=null,isActorItem:isActorItem=![]}={}){const _0x1f97f3=_0x118925;return''+(displayName||Renderer[_0x1f97f3(0xb9)](_0x25c6e2[_0x1f97f3(0x130)]||_0x25c6e2[_0x1f97f3(0x14e)]||''))+(!isActorItem&&_0x25c6e2[_0x1f97f3(0x168)]&&Config['get'](_0x1f97f3(0x14b),'isAddSourceToName')?'\x20('+Parser[_0x1f97f3(0xd6)](_0x25c6e2[_0x1f97f3(0x168)])+')':'');}static[_0x118925(0x187)](_0x4ad036){const _0x2808f7=_0x118925;return''+Parser[_0x2808f7(0xd6)](_0x4ad036['source'])+(Config[_0x2808f7(0xe3)]('import','isAddPageNumberToSource')&&_0x4ad036[_0x2808f7(0x174)]?''+DataConverter[_0x2808f7(0xfe)]+_0x4ad036[_0x2808f7(0x174)]:'');}static[_0x118925(0xe2)](_0x79298b){const _0x179594=_0x118925;let _0x2b31e1=_0x79298b[_0x179594(0xf6)]||{};if(_0x2b31e1['data'])_0x2b31e1=_0x2b31e1[_0x179594(0xf6)];let _0x3b0134=_0x2b31e1[_0x179594(0x168)];if(_0x3b0134 instanceof Array)_0x3b0134=_0x3b0134[0x0];if(!_0x3b0134)return _0x3b0134;return _0x3b0134['split'](DataConverter[_0x179594(0x109)])[0x0][_0x179594(0x125)]();}static[_0x118925(0xcb)](_0x3b97b8,_0x2318c1){const _0x3a8034=_0x118925,_0x22d1f4=new RegExp('{@'+_0x3b97b8+_0x3a8034(0x167),'gi'),_0x2c4dab=[];return _0x2318c1[_0x3a8034(0x144)](_0x22d1f4,(..._0x170e71)=>_0x2c4dab[_0x3a8034(0x112)](_0x170e71[0x1])),_0x2c4dab;}static async[_0x118925(0xab)](_0x29e33d,_0x77183c){const _0x5bf378=_0x118925;switch(_0x29e33d){case _0x5bf378(0x142):case _0x5bf378(0x175):{const _0x3be824=await Vetools[_0x5bf378(0x16d)](_0x29e33d),_0x3f2f0b=MiscUtil['get'](_0x3be824,_0x77183c['source'],_0x77183c['name']);if(!_0x3f2f0b)return null;return _0x5bf378(0x184)+SharedConsts[_0x5bf378(0x18f)]+'/'+_0x3f2f0b;}default:return null;}}static[_0x118925(0x10d)](_0x1f62f5,_0x54092f){const _0x5e3821=_0x118925;if(!_0x54092f&&!_0x1f62f5)return{};const _0x1e4b6a=MiscUtil[_0x5e3821(0xc0)](_0x54092f||{});return Object[_0x5e3821(0x96)](_0x1e4b6a,MiscUtil[_0x5e3821(0xc0)](_0x1f62f5||{})),_0x1e4b6a;}static['getCombinedFoundryFlags'](_0x44fd7e,_0x39b672){const _0x52ceb6=_0x118925;if(!_0x44fd7e&&!_0x39b672)return{};const _0x14c3c1=MiscUtil[_0x52ceb6(0xc0)](_0x39b672||{});return Object[_0x52ceb6(0x134)](MiscUtil[_0x52ceb6(0xc0)](_0x44fd7e||{}))[_0x52ceb6(0x163)](([_0x30a91d,_0x484212])=>{const _0x5216cb=_0x52ceb6;if(!_0x14c3c1[_0x30a91d])return _0x14c3c1[_0x30a91d]=_0x484212;Object[_0x5216cb(0x96)](_0x14c3c1[_0x30a91d],_0x484212);}),_0x14c3c1;}static[_0x118925(0xb0)](_0x46e45b,_0x17b600){const _0x33d913=_0x118925;_0x17b600=_0x17b600||{},_0x17b600[_0x33d913(0x9e)]=_0x17b600[_0x33d913(0x9e)]||_0x33d913(0x134);let _0x1a584c='';return _0x46e45b[_0x17b600[_0x33d913(0x9e)]]&&(_0x1a584c=Renderer[_0x33d913(0xe3)]()['setFirstSection'](!![])[_0x33d913(0xbe)]({'type':_0x33d913(0x134),'entries':_0x46e45b[_0x17b600[_0x33d913(0x9e)]]},_0x17b600[_0x33d913(0xa6)]!=null?_0x17b600[_0x33d913(0xa6)]:0x2)),_0x1a584c;}static[_0x118925(0x15e)](_0x14f081,_0xc12505,_0x5b932c,_0x3f999b){const _0x3dfd7f=_0x118925;_0x3f999b=_0x3f999b||{},this[_0x3dfd7f(0xd8)](_0x14f081,_0xc12505,_0x3f999b),this[_0x3dfd7f(0x161)](_0x14f081,_0xc12505,_0x3f999b);}static[_0x118925(0xd8)](_0x4258cc,_0x42997f,_0x3e7d63){const _0x2f17bb=_0x118925;return this[_0x2f17bb(0x192)](_0x4258cc,_0x42997f,_0x3e7d63,_0x2f17bb(0x126),_0x2f17bb(0xf6));}static[_0x118925(0x161)](_0x249dc6,_0x396265,_0x518c87){const _0x1eaee2=_0x118925;return this[_0x1eaee2(0x192)](_0x249dc6,_0x396265,_0x518c87,_0x1eaee2(0x12e),_0x1eaee2(0x17b));}static[_0x118925(0x192)](_0x4a6f5e,_0x23de9b,_0x130ab5,_0x25ff8c,_0x5c2ae3){const _0x4069c6=_0x118925;if(!_0x130ab5['sideData']||!_0x130ab5[_0x4069c6(0x102)][_0x25ff8c])return;Object[_0x4069c6(0x134)](_0x130ab5['sideData'][_0x25ff8c])[_0x4069c6(0x163)](([_0x3c6dda,_0x48af09])=>this['_mutActorUpdate_mutFromSideMod_handleProp'](_0x4a6f5e,_0x23de9b,_0x130ab5,_0x25ff8c,_0x5c2ae3,_0x3c6dda,_0x48af09));}static[_0x118925(0xd1)](_0xe98f,_0x30ac2c,_0x12c1f1,_0x20693c,_0x3602ae,_0x2e4baa,_0xf79f2d){const _0x160e14=_0x118925,_0x2deb3b=_0x2e4baa[_0x160e14(0xaa)]('.');if(_0x2e4baa==='_'){_0xf79f2d[_0x160e14(0x163)](_0x4ac4c9=>{const _0xc09d58=_0x160e14;switch(_0x4ac4c9[_0xc09d58(0x15d)]){case _0xc09d58(0xf9):{for(const _0x3d9887 of _0x4ac4c9[_0xc09d58(0xf9)]){window[_0xc09d58(0xdc)]={'actor':_0xe98f};if(_0x3d9887[_0xc09d58(0x121)]&&!eval(_0x3d9887['condition']))continue;Object[_0xc09d58(0x134)](_0x3d9887[_0xc09d58(0x189)])[_0xc09d58(0x163)](([_0x3ff3f5,_0x5c9f6e])=>this[_0xc09d58(0xd1)](_0xe98f,_0x30ac2c,_0x12c1f1,_0x20693c,_0x3602ae,_0x3ff3f5,_0x5c9f6e));break;}break;}default:throw new Error('Unhandled\x20mode\x20\x22'+_0x4ac4c9['mode']+'\x22');}});return;}const _0x2d52ab=MiscUtil[_0x160e14(0xe3)](_0xe98f,'data',_0x3602ae,..._0x2deb3b),_0x47a6d2=MiscUtil[_0x160e14(0xe3)](_0x30ac2c,_0x3602ae,..._0x2deb3b),_0x42f200=_0x47a6d2||_0x2d52ab;_0xf79f2d['forEach'](_0x1f75c5=>{const _0x5110ef=_0x160e14;switch(_0x1f75c5[_0x5110ef(0x15d)]){case _0x5110ef(0x98):{const _0x111c9e=MiscUtil[_0x5110ef(0xc0)](_0x42f200||[]),_0x1b1a83=[..._0x111c9e];_0x1b1a83[_0x5110ef(0x112)](..._0x1f75c5[_0x5110ef(0x178)][_0x5110ef(0x11a)](_0x143862=>!_0x111c9e[_0x5110ef(0x9c)](_0x24f1f5=>CollectionUtil[_0x5110ef(0x16b)](_0x143862,_0x24f1f5)))),MiscUtil[_0x5110ef(0xb5)](_0x30ac2c,_0x3602ae,..._0x2deb3b,_0x1b1a83);break;}case _0x5110ef(0x16c):{MiscUtil[_0x5110ef(0xb5)](_0x30ac2c,_0x3602ae,..._0x2deb3b,_0x1f75c5[_0x5110ef(0xdd)]+_0x42f200||0x0);break;}case'scalarAddUnit':{const _0x5662d9=(''+(_0x42f200||0x0))['toLowerCase'](),_0x3cf981=_0xa5066a=>{const _0x1e33ed=_0x5110ef,_0x8b8b58=_0x5662d9[_0x1e33ed(0xc6)](_0xa5066a[_0x1e33ed(0xec)]());let _0x1d08cd=_0x42f200[_0x1e33ed(0xba)](0x0,_0x8b8b58);const _0x41581f=_0x42f200[_0x1e33ed(0xba)](_0x8b8b58),_0x534db6=_0x1d08cd[_0x1e33ed(0xe1)]('\x20');_0x1d08cd=_0x1d08cd[_0x1e33ed(0x125)]();if(!isNaN(_0x1d08cd)){const _0x17b423=''+(_0x1f75c5[_0x1e33ed(0xdd)]+Number(_0x1d08cd))+(_0x534db6?'\x20':'')+_0x41581f;MiscUtil[_0x1e33ed(0xb5)](_0x30ac2c,_0x3602ae,..._0x2deb3b,_0x17b423);}};if(!_0x42f200)MiscUtil[_0x5110ef(0xb5)](_0x30ac2c,_0x3602ae,..._0x2deb3b,_0x1f75c5[_0x5110ef(0xdd)]+'\x20'+(_0x1f75c5[_0x5110ef(0x186)]||_0x1f75c5[_0x5110ef(0x173)]));else{if(_0x1f75c5[_0x5110ef(0x173)]&&_0x5662d9['includes'](_0x1f75c5[_0x5110ef(0x173)][_0x5110ef(0xec)]()))_0x3cf981(_0x1f75c5[_0x5110ef(0x173)]);else _0x1f75c5[_0x5110ef(0x186)]&&_0x5662d9[_0x5110ef(0xe5)](_0x1f75c5[_0x5110ef(0x186)][_0x5110ef(0xec)]())&&_0x3cf981(_0x1f75c5[_0x5110ef(0x186)]);}break;}case'setMax':{const _0x2b7e8f=(''+(_0x42f200||0x0))['toLowerCase']();let _0x1a3c6c=Number(_0x2b7e8f);if(isNaN(_0x1a3c6c))_0x1a3c6c=0x0;const _0x5951e0=Math[_0x5110ef(0x9f)](_0x1a3c6c,_0x1f75c5[_0x5110ef(0x18e)]);MiscUtil['set'](_0x30ac2c,_0x3602ae,..._0x2deb3b,_0x5951e0);break;}case _0x5110ef(0xb5):{MiscUtil[_0x5110ef(0xb5)](_0x30ac2c,_0x3602ae,..._0x2deb3b,MiscUtil['copy'](_0x1f75c5[_0x5110ef(0x18e)]));break;}default:throw new Error(_0x5110ef(0x172)+_0x1f75c5[_0x5110ef(0x15d)]+'\x22');}});}static[_0x118925(0xe4)](_0x3f1bae,_0xb0eb71){const _0x4a4962=_0x118925;_0xb0eb71=_0xb0eb71||{},_0xb0eb71[_0x4a4962(0x88)]=_0xb0eb71[_0x4a4962(0x88)]||{};if(_0xb0eb71['mode']===_0x4a4962(0x177))_0xb0eb71[_0x4a4962(0x15d)]=_0x4a4962(0xca);let {description:_0x2c1778,activationType:_0x4d0cc8,activationCost:_0x1453c6,activationCondition:_0x2cb4a6,saveAbility:_0x4b8cee,saveDc:_0x1e5020,saveScaling:_0x51eb40,damageParts:_0x3430d6,attackBonus:_0x56911f,requirements:_0x4c5f11,actionType:_0x11c2a1,durationValue:_0x32de27,durationUnits:_0x264bd5,consumeType:_0x45654a,consumeTarget:_0x2b1ec2,consumeAmount:_0x13d230,formula:_0x1855ff,targetValue:_0x31d154,targetUnits:_0x3eae64,targetType:_0x3f00b5,usesCount:_0x5cdc3d,usesCountMax:_0x4730e6,usesPer:_0x5d547f,foundryData:_0x4bbfde,_foundryData:_0x2cc85d,foundryFlags:_0x321efb,_foundryFlags:_0x536b83}=_0xb0eb71;const _0x8984e3=DataConverter[_0x4a4962(0x10d)](_0x4bbfde,_0x2cc85d),_0x4bcf0f=DataConverter[_0x4a4962(0x15b)](_0x321efb,_0x536b83);_0x2c1778=_0x2c1778||(_0xb0eb71['isSkipDescription']?'':DataConverter[_0x4a4962(0xb0)](_0x3f1bae,{'depth':_0xb0eb71[_0x4a4962(0x147)]})),_0x4d0cc8=_0x4d0cc8||'',_0x1453c6=_0x1453c6||0x0,_0x2cb4a6=_0x2cb4a6||'',_0x4b8cee=_0x4b8cee||'',_0x1e5020=_0x1e5020||null,_0x51eb40=_0x51eb40||'',_0x3430d6=_0x3430d6||[],_0x56911f=_0x56911f||0x0,_0x4c5f11=_0x4c5f11||'',_0x11c2a1=_0x11c2a1||'',_0x32de27=_0x32de27||null,_0x264bd5=_0x264bd5||'',_0x45654a=_0x45654a||null,_0x2b1ec2=_0x2b1ec2||null,_0x13d230=_0x13d230||null,_0x1855ff=_0x1855ff||'',_0x31d154=_0x31d154||null,_0x3eae64=_0x3eae64||'',_0x3f00b5=_0x3f00b5||'',_0x5cdc3d=_0x5cdc3d||0x0,_0x4730e6=_0x4730e6||'0',_0x5d547f=_0x5d547f||null;let _0x18a1ff=UtilApplications['getCleanEntityName'](DataConverter[_0x4a4962(0x128)](_0x3f1bae,{'isActorItem':!![]}));const _0x45974e=_0x3f1bae[_0x4a4962(0x134)]?JSON[_0x4a4962(0x13d)](_0x3f1bae['entries']):null;let _0x4caa16=null;if(_0x3f1bae[_0x4a4962(0x14e)]){const _0x1790f8=/{@recharge( \d+)?}/gi[_0x4a4962(0xb7)](_0x3f1bae['name']);_0x1790f8&&(_0x4caa16=_0x1790f8[0x1]?Number(_0x1790f8[0x1][_0x4a4962(0x125)]()):0x6,_0x18a1ff=_0x18a1ff[_0x4a4962(0x144)](/\(Recharge \d+(–\d+)?\)/gi,'')[_0x4a4962(0x125)]()['replace'](/[ ]+/g,'\x20'));}if(_0x3f1bae[_0x4a4962(0x134)]){/(?:^|\W)bonus action(?:\W|$)/i[_0x4a4962(0x154)](_0x45974e)&&(_0x4d0cc8=_0x4d0cc8||_0x4a4962(0x11f),_0x1453c6=_0x1453c6||0x1);if(_0xb0eb71[_0x4a4962(0x15d)]===_0x4a4962(0xa1)){if(!_0x4d0cc8&&!_0x1453c6){const _0x12bd36=DataConverter['WALKER_READONLY_GENERIC'];_0x12bd36[_0x4a4962(0x135)](_0x3f1bae[_0x4a4962(0x134)],{'string':_0x40ff3b=>{const _0x37f287=_0x4a4962;if(_0x4d0cc8)return _0x40ff3b;const _0x51d263=Util[_0x37f287(0xa0)](_0x40ff3b);for(const _0x1af3ba of _0x51d263){if(/as an action|can take an action/i[_0x37f287(0x154)](_0x1af3ba)){_0x4d0cc8=_0x4d0cc8||'action',_0x1453c6=_0x1453c6||0x1;break;}const _0x28147a=/you can use your reaction|using your reaction|you can use this special reaction/i[_0x37f287(0xb7)](_0x1af3ba);if(_0x28147a){_0x4d0cc8=_0x4d0cc8||_0x37f287(0xa3),_0x1453c6=_0x1453c6||0x1;let _0x144d71=_0x1af3ba[_0x37f287(0xba)](0x0,_0x28147a[_0x37f287(0x146)])[_0x37f287(0x125)]()['replace'](/,$/,'');const _0x4806a4=/(^|\W)(?:if|when)(?:|\W)/i[_0x37f287(0xb7)](_0x144d71);_0x4806a4&&(_0x144d71=_0x144d71[_0x37f287(0xba)](_0x4806a4[_0x37f287(0x146)]+_0x4806a4[0x1]['length'])['trim'](),_0x2cb4a6=_0x2cb4a6||_0x144d71);break;}}}}),!_0x4d0cc8&&_0x12bd36[_0x4a4962(0x135)](_0x3f1bae['entries'],{'string':_0x34eaa9=>{const _0x2edbaa=_0x4a4962;if(_0x4d0cc8)return _0x34eaa9;const _0x101de7=Util[_0x2edbaa(0xa0)](_0x34eaa9);for(const _0x8c8292 of _0x101de7){if(/you can't use this feature again|once you use this feature/i[_0x2edbaa(0x154)](_0x8c8292))_0x4d0cc8=_0x2edbaa(0x117);}}});}}_0xb0eb71[_0x4a4962(0x15d)]===_0x4a4962(0xca)&&_0x3f1bae['name']&&(!_0x4d0cc8&&!_0x1453c6&&(/^legendary resistance/i['test'](_0x3f1bae['name'])&&(_0x4d0cc8=_0x4a4962(0x117))));}_0xb0eb71[_0x4a4962(0x15d)]==='creature'&&_0x3f1bae[_0x4a4962(0x14e)]&&(_0x18a1ff=_0x18a1ff['replace'](/\(\s*(\d+)\s*\/\s*(Day|Short Rest|Long Rest)\s*\)/i,(..._0x172824)=>{const _0x337114=_0x4a4962;_0x5cdc3d=Number(_0x172824[0x1]),_0x4730e6=''+_0x5cdc3d;const _0x506289=_0x172824[0x2][_0x337114(0x125)]()['toLowerCase']();switch(_0x506289){case _0x337114(0x8b):_0x5d547f='day';break;case'short\x20rest':_0x5d547f='sr';break;case _0x337114(0x12d):_0x5d547f='lr';break;}return'';}),!_0x5d547f&&(_0x18a1ff=_0x18a1ff[_0x4a4962(0x144)](/\(\s*(\d+)\s+Charges\s*\)/i,(..._0x442439)=>{const _0x5006cf=_0x4a4962;return _0x5cdc3d=Number(_0x442439[0x1]),_0x4730e6=''+_0x5cdc3d,_0x5d547f=_0x5006cf(0x17f),'';})),_0x5d547f&&(_0x18a1ff=_0x18a1ff['trim']()['replace'](/[ ]+/g,'\x20'),_0x4d0cc8=_0x4d0cc8||'none',_0x3f1bae[_0x4a4962(0x134)]&&typeof _0x3f1bae[_0x4a4962(0x134)][0x0]===_0x4a4962(0x120)&&/^(?:If |When )/i['test'](_0x3f1bae[_0x4a4962(0x134)][0x0][_0x4a4962(0x125)]())&&(_0x2cb4a6=_0x3f1bae['entries'][0x0][_0x4a4962(0x125)]())),/legendary resistance/gi[_0x4a4962(0x154)](_0x18a1ff)&&(_0x5cdc3d=0x0,_0x4730e6=''+_0x5cdc3d,_0x5d547f=null));if(_0xb0eb71[_0x4a4962(0x15d)]==='player'&&_0x3f1bae[_0x4a4962(0x134)]){const _0x41e403=/finish a short rest/[_0x4a4962(0x154)](_0x45974e)||/finish a short or long rest/[_0x4a4962(0x154)](_0x45974e)||/finish a short rest or a long rest/['test'](_0x45974e)||/finish a short or long rest/[_0x4a4962(0x154)](_0x45974e),_0x1da81b=!_0x41e403&&/finish a long rest/[_0x4a4962(0x154)](_0x45974e);if(_0x41e403)_0x5d547f='sr';else{if(_0x1da81b)_0x5d547f='lr';}const _0x8e778c=new RegExp(_0x4a4962(0xbb)+Consts[_0x4a4962(0x97)][_0x4a4962(0x18d)](_0x51fa89=>_0x51fa89['tokens'][_0x4a4962(0xb1)](''))[_0x4a4962(0xb1)]('|')+_0x4a4962(0x155)+Consts[_0x4a4962(0x97)][_0x4a4962(0x18d)](_0x566f73=>_0x566f73[_0x4a4962(0xf2)][_0x4a4962(0xb1)](''))[_0x4a4962(0xb1)]('|')+')\x5c))?','i'),_0x427b6c=_0x8e778c[_0x4a4962(0xb7)](_0x45974e);if(_0x427b6c&&_0xb0eb71[_0x4a4962(0xa9)]){const _0x2c38c2=_0x427b6c[0x2][_0x4a4962(0xba)](0x0,0x3)[_0x4a4962(0xec)](),_0x2916f6=MiscUtil[_0x4a4962(0xe3)](_0xb0eb71['actor'],_0x4a4962(0xf6),_0x4a4962(0xf6),_0x4a4962(0xe6),_0x2c38c2,_0x4a4962(0x18e));if(_0x2916f6!=null){let _0xc9296e=Parser['getAbilityModNumber'](_0x2916f6),_0x2d1f64=_0x4a4962(0xb3)+_0x2c38c2+_0x4a4962(0xb8);if(_0x427b6c[0x1]){const _0x2dd3ac=(Consts[_0x4a4962(0x97)]['find'](_0x12e812=>_0x12e812['tokens'][_0x4a4962(0xb1)]('\x20')===_0x427b6c[0x1]['trim']()[_0x4a4962(0xec)]())||{})[_0x4a4962(0xd3)]||0x1;_0xc9296e=_0xc9296e*_0x2dd3ac,_0x2d1f64=_0x2d1f64+'\x20*\x20'+_0x2dd3ac;}if(_0x427b6c[0x3]){const _0xd6fe77=(Consts[_0x4a4962(0x97)][_0x4a4962(0x11e)](_0xaf3d=>_0xaf3d[_0x4a4962(0xf2)][_0x4a4962(0xb1)]('')===_0x427b6c[0x3]['trim']()[_0x4a4962(0xec)]())||{})[_0x4a4962(0xd3)]||0x1;_0xc9296e=Math['max'](_0xd6fe77,_0xc9296e),_0x2d1f64=_0x4a4962(0xfd)+_0xd6fe77+',\x20'+_0x2d1f64+')';}_0x5cdc3d=_0xc9296e,_0x4730e6=_0x2d1f64;}}_0x5d547f&&!_0x5cdc3d&&(!_0x4730e6||_0x4730e6==='0')&&(_0x5cdc3d=0x1,_0x4730e6=''+_0x5cdc3d);}_0xb0eb71[_0x4a4962(0x15d)]===_0x4a4962(0xa1)&&_0x3f1bae['entries']&&DataConverter[_0x4a4962(0x17a)][_0x4a4962(0x135)](_0x3f1bae[_0x4a4962(0x134)],{'object':_0x925ad0=>{const _0x54d8a0=_0x4a4962;if(_0x925ad0[_0x54d8a0(0x107)]!==_0x54d8a0(0xff))return _0x925ad0;if(_0x11c2a1&&_0x51eb40)return _0x925ad0;return _0x11c2a1=_0x11c2a1||'save',_0x51eb40=_0x925ad0[_0x54d8a0(0xd9)][0x0],_0x925ad0;},'string':_0x52d431=>{const _0x43024a=_0x4a4962;if(_0x11c2a1&&_0x4b8cee&&_0x51eb40)return _0x52d431;return _0x52d431[_0x43024a(0x144)](/8\s*\+\s*your proficiency bonus\s*\+\s*your (.*?) modifier/i,(..._0x1b2457)=>{const _0x528db2=_0x43024a,_0x3e6ce9=[];_0x1b2457[0x1]['replace'](/(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma)/i,(..._0x426372)=>{const _0x279b48=_0x1fcb;_0x3e6ce9[_0x279b48(0x112)](_0x426372[0x1][_0x279b48(0xec)]()[_0x279b48(0xba)](0x0,0x3));});if(!_0x3e6ce9[_0x528db2(0x13b)])return;_0x11c2a1=_0x11c2a1||_0x528db2(0xf8),_0x51eb40=_0x3e6ce9[0x0];}),_0x52d431[_0x43024a(0x144)](/(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma) saving throw against your (.*? )spell save DC/i,(..._0x504572)=>{const _0x44575a=_0x43024a;_0x11c2a1=_0x11c2a1||_0x44575a(0xf8),_0x4b8cee=_0x4b8cee||_0x504572[0x1][_0x44575a(0xec)]()['slice'](0x0,0x3),_0x51eb40=_0x51eb40||_0x44575a(0x175);}),_0xb0eb71[_0x43024a(0x88)][_0x43024a(0x90)]&&_0x52d431[_0x43024a(0x144)](/(?:make a|succeed on a) (Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma) saving throw/gi,(..._0x2eea2f)=>{const _0x2712c3=_0x43024a;_0x11c2a1=_0x11c2a1||_0x2712c3(0xf8),_0x4b8cee=_0x4b8cee||_0x2eea2f[0x1][_0x2712c3(0xec)]()[_0x2712c3(0xba)](0x0,0x3),_0x51eb40=_0x51eb40||_0x2712c3(0x175);}),_0x52d431;}});_0xb0eb71[_0x4a4962(0x15d)]==='creature'&&_0x3f1bae['entries']&&_0x45974e[_0x4a4962(0x144)](/{@dc ([-+]?\s*\d+)}\s+(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma)/,(..._0x103ade)=>{const _0xdb27c9=_0x4a4962,_0x355c67=Number(_0x103ade[0x1][_0xdb27c9(0x144)](/\s*/g,''));if(isNaN(_0x355c67))return;_0x11c2a1=_0x11c2a1||_0xdb27c9(0xf8),_0x4b8cee=_0x4b8cee||_0x103ade[0x2]['toLowerCase']()[_0xdb27c9(0xba)](0x0,0x3),_0x1e5020=_0x355c67;if(_0xb0eb71['pb']==null||_0xb0eb71[_0xdb27c9(0xfb)]==null||Parser[_0xdb27c9(0xf5)][_0xdb27c9(0x9c)](_0x32297b=>_0xb0eb71[_0xdb27c9(0xfb)][_0x32297b]==null)){_0x51eb40=_0xdb27c9(0xd5);return;}const _0x14d9ba=_0x355c67-_0xb0eb71['pb']-0x8,_0x342762=Parser['ABIL_ABVS'][_0xdb27c9(0x18d)](_0x546e79=>({'ability':_0x546e79,'bonus':Parser[_0xdb27c9(0x111)](_0xb0eb71['entity'][_0x546e79])})),_0x526238=_0x342762['filter'](_0x548d29=>_0x548d29[_0xdb27c9(0x11f)]===_0x14d9ba);if(_0x526238[_0xdb27c9(0x13b)]===0x1)_0x51eb40=_0x51eb40||_0x526238[0x0][_0xdb27c9(0x133)];else _0x51eb40=_0xdb27c9(0xd5);});_0xb0eb71[_0x4a4962(0x15d)]===_0x4a4962(0xa1)&&_0x3f1bae[_0x4a4962(0x134)]&&DataConverter['WALKER_READONLY_GENERIC'][_0x4a4962(0x135)](_0x3f1bae[_0x4a4962(0x134)],{'string':_0x3595ec=>{const _0x75cbd6=_0x4a4962;if(_0x32de27||_0x264bd5)return;_0x3595ec[_0x75cbd6(0x144)](/(?:^|\W)lasts for (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0xd1683b)=>{_0x32de27=Number(_0xd1683b[0x1]),_0x264bd5=_0xd1683b[0x2]['toLowerCase']();}),_0x3595ec['replace'](/(?:^|\W)for the next (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0x5012f7)=>{const _0x14952d=_0x75cbd6;_0x32de27=Number(_0x5012f7[0x1]),_0x264bd5=_0x5012f7[0x2][_0x14952d(0xec)]();}),_0x3595ec['replace'](/(?:^|\W)turned for (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0x226f7f)=>{_0x32de27=Number(_0x226f7f[0x1]),_0x264bd5=_0x226f7f[0x2]['toLowerCase']();}),_0x3595ec['replace'](/(?:^|\W)this effect lasts for (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0x1b185c)=>{const _0x5df9ce=_0x75cbd6;_0x32de27=Number(_0x1b185c[0x1]),_0x264bd5=_0x1b185c[0x2][_0x5df9ce(0xec)]();}),_0x3595ec['replace'](/(?:^|\W)until the end of your next turn(?:\W|$)/gi,()=>{const _0x11bd28=_0x75cbd6;_0x32de27=0x1,_0x264bd5=_0x11bd28(0x17e);}),Renderer[_0x75cbd6(0xb9)](_0x3595ec)[_0x75cbd6(0x144)](/(?:^|\W)is \w+ by you for (\d+) (minute|hour|day|month|year|turn|round)s(?:\W|$)/gi,(..._0xc68707)=>{const _0x329955=_0x75cbd6;_0x32de27=Number(_0xc68707[0x1]),_0x264bd5=_0xc68707[0x2][_0x329955(0xec)]();});}});_0xb0eb71[_0x4a4962(0x15d)]===_0x4a4962(0xa1)&&_0x3f1bae[_0x4a4962(0x134)]&&DataConverter['WALKER_READONLY_GENERIC']['walk'](_0x3f1bae[_0x4a4962(0x134)],{'string':_0x2b2461=>{if(_0x45654a||_0x2b1ec2||_0x13d230)return;_0x2b2461['replace'](/(?:(\d+) to )?(\d+) (?:ki|sorcery) point/i,(..._0x3210da)=>{const _0x1f9e56=_0x1fcb;_0x45654a=_0x1f9e56(0xc8),_0x2b1ec2=_0x1f9e56(0xaf),_0x13d230=Number(_0x3210da[0x1]||_0x3210da[0x2]);});}});let _0x52403a=_0x45974e;if((_0xb0eb71[_0x4a4962(0x15d)]===_0x4a4962(0xa1)||_0xb0eb71['mode']==='vehicle')&&_0x3f1bae[_0x4a4962(0x134)]&&!_0x3430d6[_0x4a4962(0x13b)]){const {str:_0x189e23,damageTupleMetas:_0x91263b}=DataConverter['getDamageTupleMetas'](_0x45974e);_0x52403a=_0x189e23;const {damageParts:_0x142108,formula:_0x28760d}=DataConverter[_0x4a4962(0x115)](_0x91263b);_0x3430d6=_0x142108,_0x1855ff=_0x1855ff||_0x28760d;}(_0xb0eb71['mode']===_0x4a4962(0xa1)||_0xb0eb71[_0x4a4962(0x15d)]===_0x4a4962(0x138))&&_0x3f1bae[_0x4a4962(0x134)]&&!_0x1855ff&&_0x52403a[_0x4a4962(0x144)](/{(?:@dice|@scaledice) ([^}]+)}/i,(..._0x38975d)=>{const _0x1b8abe=_0x4a4962,[_0x2abc33]=_0x38975d[0x1][_0x1b8abe(0xaa)]('|');_0x1855ff=_0x2abc33;});_0x45974e&&_0x45974e[_0x4a4962(0x144)](/exhales [^.]*a (\d+)-foot[- ](cone|line)/,(..._0x457d83)=>{_0x31d154=_0x31d154||Number(_0x457d83[0x1]),_0x3eae64=_0x3eae64||'ft',_0x3f00b5=_0x3f00b5||_0x457d83[0x2];});try{_0x2cb4a6=Renderer[_0x4a4962(0xb9)](_0x2cb4a6);}catch(_0xb39cc9){console[_0x4a4962(0x152)](...LGT,_0xb39cc9);}_0x18a1ff=_0x18a1ff[_0x4a4962(0x125)]()[_0x4a4962(0x144)](/\s+/g,'\x20');if(!_0x18a1ff)_0x18a1ff='(Unnamed)';return{'name':_0x18a1ff,'type':_0xb0eb71['fvttType'],'data':{'source':_0xb0eb71[_0x4a4962(0x168)]?Parser[_0x4a4962(0xd6)](_0xb0eb71[_0x4a4962(0x168)]):'','description':{'value':_0x2c1778,'chat':'','unidentified':''},'damage':{'parts':_0x3430d6,'versatile':''},'duration':{'value':_0x32de27,'units':_0x264bd5},'range':{'value':null,'long':null,'units':''},'requirements':_0x4c5f11,'save':{'ability':_0x4b8cee,'dc':_0x1e5020,'scaling':_0x51eb40||'flat'},'activation':{'type':_0x4d0cc8,'cost':_0x1453c6,'condition':_0x2cb4a6},'target':{'value':_0x31d154,'units':_0x3eae64,'type':_0x3f00b5},'uses':{'value':_0x5cdc3d,'max':_0x4730e6,'per':_0x5d547f},'ability':'','actionType':_0x11c2a1||_0x4a4962(0x169),'attackBonus':_0x56911f,'chatFlavor':'','critical':null,'formula':_0x1855ff,'recharge':{'value':_0x4caa16,'charged':_0x4caa16!=null},'consume':{'type':_0x45654a,'target':_0x2b1ec2,'amount':_0x13d230},..._0x8984e3||{},..._0xb0eb71[_0x4a4962(0x14c)]||{}},'img':_0xb0eb71[_0x4a4962(0x194)],'flags':{...UtilCompat[_0x4a4962(0x10a)]({'isReaction':_0x4d0cc8===_0x4a4962(0xa3)}),..._0x4bcf0f||{}},'effects':_0xb0eb71[_0x4a4962(0x148)]||[]};}static[_0x118925(0x158)](_0x2107c6,_0x178a8e,_0x48040f,_0x268eb5){const _0x33bd34=_0x118925,_0xebb23a=_0x48040f===_0x33bd34(0x103)?_0x33bd34(0x92):_0x33bd34(0x140),_0x415be5=[],_0x46c997=_0x178a8e['contents'],_0x3a2e40=Math[_0x33bd34(0x12b)](_0x46c997[_0x33bd34(0x13b)],_0x2107c6[_0x33bd34(0x13b)]);for(let _0x3e5661=0x0;_0x3e5661<_0x3a2e40;++_0x3e5661){const _0x24b80a=_0x46c997[_0x3e5661],_0x3985da=_0x2107c6[_0x3e5661],_0x1a61ed={'name':UtilApplications[_0x33bd34(0xce)](''+this[_0x33bd34(0x106)](_0xebb23a,_0x178a8e[_0x33bd34(0x168)],_0x3e5661,_0x3a2e40)+Parser[_0x33bd34(0xfa)](_0x24b80a[_0x33bd34(0x131)])+_0x24b80a[_0x33bd34(0x14e)]),'permission':{'default':0x0},'entryTime':Date[_0x33bd34(0x196)](),'content':('<div\x20class=\x22w-100\x20overflow-x-hidden\x22>'+Renderer[_0x33bd34(0xe3)]()[_0x33bd34(0x100)](!![])[_0x33bd34(0xbe)](_0x3985da)+'</div>')['replace'](new RegExp(DataConverter[_0x33bd34(0x8f)],'g'),'@'),'sort':JournalEntry[_0x33bd34(0x159)]['entities'][_0x33bd34(0x13b)]+SORT_INTEGER_DENSITY*_0x3e5661};if(_0x268eb5[_0x33bd34(0x18c)])_0x1a61ed[_0x33bd34(0x101)]={'default':Config[_0x33bd34(0xe3)](_0xebb23a,_0x33bd34(0x104))};_0x415be5['push'](_0x1a61ed);}return _0x415be5;}static[_0x118925(0x106)](_0x533663,_0x9c0059,_0x176825,_0x4833ed){const _0x45d38e=_0x118925;if(!Config[_0x45d38e(0xe3)](_0x533663,'isOrderingPrefixJournalNames'))return'';const _0x18d5e9=(''+_0x4833ed)[_0x45d38e(0x13b)];return''+Parser[_0x45d38e(0xd6)](_0x9c0059)[_0x45d38e(0xba)](0x0,0x3)+(''+_0x176825)[_0x45d38e(0xd7)](_0x18d5e9,'0')+'\x20';}static[_0x118925(0xa5)](_0x397fd9,_0x83cdb2,_0x3e261f){const _0x5b46c0=_0x118925;return this['_getAdventureBookJournals'](_0x397fd9,_0x83cdb2,_0x5b46c0(0x103),_0x3e261f);}static[_0x118925(0x99)](_0x185ee3,_0x52845e,_0x3b7774){const _0x1b39da=_0x118925;return this[_0x1b39da(0x158)](_0x185ee3,_0x52845e,_0x1b39da(0xe9),_0x3b7774);}static async[_0x118925(0x119)](_0x1309b1,_0x424a73,_0x23ad41,_0x4849f7,_0xad4d2f){const _0x5e917f=_0x118925;_0xad4d2f=_0xad4d2f||{};if(!_0x424a73)return{};const _0x51907d=await Charactermancer_SkillProficiencySelect['pGetUserInput']({..._0xad4d2f,'existingProficienciesFvtt':{'skillProficiencies':_0x1309b1},'availableProficiencies':_0x424a73});if(!_0x51907d)return _0x4849f7[_0x5e917f(0xcc)]=!![];if(_0x51907d===VeCt[_0x5e917f(0xd4)])return;return this[_0x5e917f(0xc2)]({'existingProfs':_0x1309b1,'formData':_0x51907d,'actorData':_0x23ad41});}static[_0x118925(0xc2)]({existingProfs:_0x1fb63c,formData:_0x279caa,actorData:_0x4a3fc2}){const _0x1584ef=_0x118925,_0x216b0d={};return _0x4a3fc2[_0x1584ef(0x9a)]=_0x4a3fc2[_0x1584ef(0x9a)]||{},Object[_0x1584ef(0x134)](UtilActors[_0x1584ef(0xb2)])['filter'](([_0x386af8,_0x11a710])=>_0x279caa[_0x1584ef(0xf6)][_0x11a710])[_0x1584ef(0x163)](([_0x16b285,_0x108759])=>{const _0x7a41=_0x1584ef;_0x216b0d[_0x16b285]=_0x279caa[_0x7a41(0xf6)][_0x108759];const _0x4b5ea4=Math[_0x7a41(0x9f)]((_0x1fb63c[_0x16b285]||{})[_0x7a41(0x18e)]||0x0,_0x279caa[_0x7a41(0xf6)][_0x108759]?0x1:0x0,(_0x4a3fc2['skills'][_0x16b285]||{})[_0x7a41(0x18e)]||0x0),_0x1aee0c=_0x4b5ea4>(MiscUtil[_0x7a41(0xe3)](_0x4a3fc2[_0x7a41(0x9a)],_0x16b285,_0x7a41(0x18e))||0x0);if(_0x1aee0c)(_0x4a3fc2[_0x7a41(0x9a)][_0x16b285]=_0x4a3fc2[_0x7a41(0x9a)][_0x16b285]||{})[_0x7a41(0x18e)]=_0x4b5ea4;}),_0x216b0d;}static async[_0x118925(0x122)](_0x3581ed,_0x3aab7c,_0x4ccd85,_0x260f85,_0x3c0907){const _0x433363=_0x118925;_0x3c0907=_0x3c0907||{};const _0x5b3a4f=await Charactermancer_LanguageProficiencySelect[_0x433363(0x14a)]({..._0x3c0907,'existingProficienciesFvtt':{'languageProficiencies':_0x3581ed},'availableProficiencies':_0x3aab7c});if(!_0x5b3a4f)return _0x260f85[_0x433363(0xcc)]=!![];if(_0x5b3a4f===VeCt[_0x433363(0xd4)])return;this[_0x433363(0x94)]({'existingProfs':_0x3581ed,'formData':_0x5b3a4f,'actorData':_0x4ccd85});}static[_0x118925(0x94)]({existingProfs:_0x3d589e,formData:_0x31ee88,actorData:_0x48c7e}){const _0x30087c=_0x118925;this[_0x30087c(0x108)](_0x3d589e,_0x31ee88,_0x30087c(0xbf),_0x48c7e,{'fnGetMappedItem':_0x1f125d=>UtilActors[_0x30087c(0xe8)](_0x1f125d),'actorTraitProp':_0x30087c(0x151)});}static async[_0x118925(0x127)](_0x1b85f0,_0x33dafc,_0x40dd8a,_0x213af5,_0x3aa249){const _0x338d59=_0x118925;_0x3aa249=_0x3aa249||{};const _0x2940e1=await Charactermancer_ToolProficiencySelect[_0x338d59(0x14a)]({..._0x3aa249,'existingProficienciesFvtt':{'toolProficiencies':_0x1b85f0},'availableProficiencies':_0x33dafc});if(!_0x2940e1)return _0x213af5[_0x338d59(0xcc)]=!![];if(_0x2940e1===VeCt[_0x338d59(0xd4)])return;this[_0x338d59(0x91)]({'existingProfs':_0x1b85f0,'formData':_0x2940e1,'actorData':_0x40dd8a});}static['doApplyToolProficienciesFormDataToActorUpdate']({existingProfs:_0x5ef991,formData:_0x19e200,actorData:_0x555d66}){const _0xd49805=_0x118925;this[_0xd49805(0x108)](_0x5ef991,_0x19e200,_0xd49805(0xa7),_0x555d66,{'fnGetMappedItem':_0x4dacc3=>UtilActors[_0xd49805(0x139)](_0x4dacc3),'actorTraitProp':_0xd49805(0x18a)});}static async[_0x118925(0x149)](_0x123c5e,_0xe7cd35,_0x34e4ee,_0x197065,_0x1b044a,_0x3dc238){const _0x5a1269=_0x118925;_0x3dc238=_0x3dc238||{};const _0x3dd584=await Charactermancer_LanguageToolProficiencySelect[_0x5a1269(0x14a)]({..._0x3dc238,'existingProficienciesFvtt':{'languageProficiencies':_0x123c5e,'toolProficiencies':_0xe7cd35},'availableProficiencies':_0x34e4ee});if(!_0x3dd584)return _0x1b044a[_0x5a1269(0xcc)]=!![];if(_0x3dd584===VeCt[_0x5a1269(0xd4)])return;this[_0x5a1269(0x108)](_0x123c5e,_0x3dd584,'languageProficiencies',_0x197065,{'fnGetMappedItem':_0x794366=>UtilActors[_0x5a1269(0xe8)](_0x794366),'actorTraitProp':'languages'}),this['doApplyOtherProficienciesFormData'](_0xe7cd35,_0x3dd584,_0x5a1269(0xa7),_0x197065,{'fnGetMappedItem':_0x1f86c7=>UtilActors['getMappedTool'](_0x1f86c7),'actorTraitProp':'toolProf'});}static async[_0x118925(0xb6)](_0xb79d76,_0x2793d6,_0x308337,_0x55fb52,_0x300c23){const _0x122477=_0x118925;_0x300c23=_0x300c23||{};const _0x38025c=await Charactermancer_ArmorProficiencySelect[_0x122477(0x14a)]({..._0x300c23,'existingProficienciesFvtt':{'armorProficiencies':_0xb79d76},'availableProficiencies':_0x2793d6});if(!_0x38025c)return _0x55fb52[_0x122477(0xcc)]=!![];if(_0x38025c===VeCt[_0x122477(0xd4)])return;this['doApplyArmorProficienciesFormDataToActorUpdate']({'existingProfs':_0xb79d76,'formData':_0x38025c,'actorData':_0x308337});}static[_0x118925(0xe7)]({existingProfs:_0x1cceca,formData:_0x30569c,actorData:_0x5abdc0}){const _0x4e3faf=_0x118925;this[_0x4e3faf(0x108)](_0x1cceca,_0x30569c,_0x4e3faf(0x170),_0x5abdc0,{'fnGetMappedItem':_0x12c328=>UtilActors[_0x4e3faf(0x16a)](_0x12c328),'actorTraitProp':_0x4e3faf(0x166)});}static async[_0x118925(0x153)](_0x46e14b,_0x2c514b,_0x4479e5,_0x346fc7,_0x2d264c){const _0x4b3fd7=_0x118925;_0x2d264c=_0x2d264c||{};const _0x13cd87=await Charactermancer_WeaponProficiencySelect['pGetUserInput']({..._0x2d264c,'existingProficienciesFvtt':{'weaponProficiencies':_0x46e14b},'availableProficiencies':_0x2c514b});if(!_0x13cd87)return _0x346fc7[_0x4b3fd7(0xcc)]=!![];if(_0x13cd87===VeCt[_0x4b3fd7(0xd4)])return;this['doApplyWeaponProficienciesFormDataToActorUpdate']({'existingProfs':_0x46e14b,'formData':_0x13cd87,'actorData':_0x4479e5});}static[_0x118925(0xad)]({existingProfs:_0x15342e,formData:_0x248e57,actorData:_0x5b6334}){const _0x1b364a=_0x118925;this[_0x1b364a(0x108)](_0x15342e,_0x248e57,_0x1b364a(0xae),_0x5b6334,{'fnGetMappedItem':_0x18b1cf=>UtilActors[_0x1b364a(0xa2)](_0x18b1cf),'fnGetMappedCustomItem':_0x35fc13=>Renderer['splitTagByPipe'](_0x35fc13)[0x0][_0x1b364a(0xf4)](),'actorTraitProp':_0x1b364a(0xf3)});}static[_0x118925(0x108)](_0x575061,_0x35ae53,_0x125cdb,_0x2cc463,_0x29e85a){const _0x51d932=_0x118925;if(!_0x35ae53?.[_0x51d932(0xf6)]?.[_0x125cdb])return![];_0x575061=_0x575061||{};const _0x591dbc=_0x35ae53[_0x51d932(0xf6)][_0x125cdb];if(!Object[_0x51d932(0xf7)](_0x591dbc)[_0x51d932(0x13b)])return![];const _0x4ead10=MiscUtil[_0x51d932(0xc0)](_0x591dbc),_0x2d7f50=new Set();Object[_0x51d932(0xf7)](_0x4ead10)[_0x51d932(0x11a)](_0x4cba01=>_0x4ead10[_0x4cba01])['forEach'](_0x3d479c=>_0x2d7f50[_0x51d932(0x181)](_0x3d479c));const _0x578cf4=new Set(),_0xa6b54d=[];(_0x575061[_0x51d932(0x18e)]||[])[_0x51d932(0x163)](_0x196f26=>_0x578cf4[_0x51d932(0x181)](_0x196f26)),(_0x575061['custom']||'')['split'](';')['map'](_0x646465=>_0x646465[_0x51d932(0x125)]())[_0x51d932(0x11a)](Boolean)[_0x51d932(0x163)](_0x24be6e=>this[_0x51d932(0x14d)](_0xa6b54d,_0x24be6e));const _0x1c1916=MiscUtil['get'](_0x2cc463,_0x51d932(0xc9),_0x29e85a[_0x51d932(0x129)]);(_0x1c1916?.['value']||[])[_0x51d932(0x163)](_0x134d90=>_0x578cf4[_0x51d932(0x181)](_0x134d90)),(_0x1c1916?.['custom']||'')[_0x51d932(0xaa)](';')['map'](_0x5035ed=>_0x5035ed['trim']())[_0x51d932(0x11a)](Boolean)[_0x51d932(0x163)](_0x200d43=>this['_doApplyFormData_doCheckAddCustomItem'](_0xa6b54d,_0x200d43)),_0x2d7f50['forEach'](_0x53fa80=>{const _0x44b420=_0x51d932,_0xe8eafd=_0x29e85a[_0x44b420(0x10e)](_0x53fa80);if(_0xe8eafd)_0x578cf4['add'](_0xe8eafd);else{const _0x21a1f2=_0x29e85a[_0x44b420(0x8c)]?_0x29e85a[_0x44b420(0x8c)](_0x53fa80):_0x53fa80[_0x44b420(0xf4)]();this[_0x44b420(0x14d)](_0xa6b54d,_0x21a1f2);}});const _0x49bd45=MiscUtil['set'](_0x2cc463,'traits',_0x29e85a[_0x51d932(0x129)],{});_0x49bd45[_0x51d932(0x18e)]=[..._0x578cf4]['map'](_0x51c969=>_0x51c969[_0x51d932(0xec)]())['sort'](SortUtil['ascSortLower']),_0x49bd45['custom']=_0xa6b54d[_0x51d932(0xb1)](';');}static[_0x118925(0x14d)](_0x4bf824,_0x56e6f1){const _0x3d13cd=_0x118925,_0x466066=_0x56e6f1[_0x3d13cd(0x125)]()[_0x3d13cd(0xec)]();if(!_0x4bf824[_0x3d13cd(0x9c)](_0x2006b1=>_0x2006b1[_0x3d13cd(0x125)]()['toLowerCase']()===_0x466066))_0x4bf824[_0x3d13cd(0x112)](_0x56e6f1);}static[_0x118925(0x17c)]({existingProfs:_0x5bc2b9,formData:_0x5ca79c,actorData:_0xb4327b}){const _0x17806b=_0x118925;_0xb4327b[_0x17806b(0xe6)]=_0xb4327b['abilities']||{},Parser['ABIL_ABVS']['filter'](_0x334b11=>_0x5ca79c['data'][_0x334b11])[_0x17806b(0x163)](_0x4ee70a=>{const _0xbb9d2a=_0x17806b,_0x30f833=Math[_0xbb9d2a(0x9f)](_0x5bc2b9[_0x4ee70a]?.['proficient']||0x0,_0x5ca79c[_0xbb9d2a(0xf6)][_0x4ee70a]?0x1:0x0,_0xb4327b[_0xbb9d2a(0xe6)][_0x4ee70a]?.[_0xbb9d2a(0xed)]||0x0),_0xe5e9e3=_0x30f833>(MiscUtil['get'](_0xb4327b[_0xbb9d2a(0xe6)],_0x4ee70a,_0xbb9d2a(0xed))||0x0);if(_0xe5e9e3)MiscUtil['set'](_0xb4327b[_0xbb9d2a(0xe6)],_0x4ee70a,_0xbb9d2a(0xed),_0x30f833);});}static[_0x118925(0x162)](_0x1ab3c4,_0x45b65c,_0x2dd996){const _0x226fdb=_0x118925;_0x45b65c['value']=[...new Set([..._0x1ab3c4[_0x226fdb(0x18e)]||[],..._0x45b65c['value']||[],..._0x2dd996])];}static async[_0x118925(0x182)](_0x40cbc9,_0x494063,_0x31b1f8,_0x54a4df){const _0x29dfa2=_0x118925,_0x51410f=await Charactermancer_Race_DamageImmunitySelect['pGetUserInput']({'existingFvtt':_0x40cbc9,'available':_0x494063});if(!_0x51410f)return _0x54a4df[_0x29dfa2(0xcc)]=!![];if(_0x51410f===VeCt[_0x29dfa2(0xd4)])return;const _0x30788e=MiscUtil['getOrSet'](_0x31b1f8,_0x29dfa2(0xc9),'di',{});this[_0x29dfa2(0x162)](_0x40cbc9,_0x30788e,Object[_0x29dfa2(0xf7)](_0x51410f[_0x29dfa2(0xf6)]||{}));}static async[_0x118925(0x12a)](_0x259f0e,_0x142ec1,_0x1e03fe,_0x195604){const _0x23c45b=_0x118925,_0x1258a4=await Charactermancer_Race_DamageResistanceSelect[_0x23c45b(0x14a)]({'existingFvtt':_0x259f0e,'available':_0x142ec1});if(!_0x1258a4)return _0x195604['isCancelled']=!![];if(_0x1258a4===VeCt[_0x23c45b(0xd4)])return;const _0x1c1d4a=MiscUtil['getOrSet'](_0x1e03fe,'traits','dr',{});this[_0x23c45b(0x162)](_0x259f0e,_0x1c1d4a,Object[_0x23c45b(0xf7)](_0x1258a4[_0x23c45b(0xf6)]||{}));}static async[_0x118925(0x124)](_0x155148,_0x125f72,_0x49fd3c,_0x10b8b1){const _0x277481=_0x118925,_0x3836cb=await Charactermancer_Race_DamageVulnerabilitySelect['pGetUserInput']({'existingFvtt':_0x155148,'available':_0x125f72});if(!_0x3836cb)return _0x10b8b1[_0x277481(0xcc)]=!![];if(_0x3836cb===VeCt[_0x277481(0xd4)])return;const _0x2f4cd6=MiscUtil['getOrSet'](_0x49fd3c,_0x277481(0xc9),'dv',{});this['_doPopulateDrDiDvCiData'](_0x155148,_0x2f4cd6,Object[_0x277481(0xf7)](_0x3836cb[_0x277481(0xf6)]||{}));}static async[_0x118925(0xea)](_0x1e6061,_0x2f2bd2,_0x2e3dac,_0x23d191){const _0x4e8144=_0x118925,_0x1fbecd=await Charactermancer_Race_ConditionImmunitySelect[_0x4e8144(0x14a)]({'existingFvtt':_0x1e6061,'available':_0x2f2bd2});if(!_0x1fbecd)return _0x23d191[_0x4e8144(0xcc)]=!![];if(_0x1fbecd===VeCt[_0x4e8144(0xd4)])return;const _0x1dca64=MiscUtil[_0x4e8144(0x15c)](_0x2e3dac,_0x4e8144(0xc9),'ci',{});this['_doPopulateDrDiDvCiData'](_0x1e6061,_0x1dca64,Object[_0x4e8144(0xf7)](_0x1fbecd[_0x4e8144(0xf6)]||{})[_0x4e8144(0x18d)](_0x420351=>_0x420351===_0x4e8144(0xf0)?_0x4e8144(0x164):_0x420351));}static['getDamageTupleMetas'](_0x246e66){const _0x414325=_0x118925,_0x29af87=[],_0x2daf39=_0x246e66[_0x414325(0xc6)](_0x414325(0x13f)),_0x35b8fa=_0x246e66[_0x414325(0x144)](/(?:(\d+)|\(?{@(?:dice|damage) ([^}]+)}(?:\s+[-+]\s+the spell's level)?(?: plus {@(?:dice|damage) ([^}]+)})?\)?)(?:\s+[-+]\s+[-+a-zA-Z0-9 ]*?)? ([^ ]+) damage/gi,(..._0x401b51)=>{const _0x3508a9=_0x414325,[,_0x753812,_0x2e6783,_0x38cb92,_0x175f36,_0x16e69e]=_0x401b51,_0x387478=_0x753812!=null,_0x24bfa1=_0x387478?_0x753812:_0x38cb92?_0x2e6783+_0x3508a9(0x193)+_0x38cb92:_0x2e6783;if(_0x387478){const _0x166051=_0x246e66['split'](/( )/g);let _0x478989=0x0;const _0x481ee0=[];for(let _0x43f867=0x0;_0x43f867<_0x166051[_0x3508a9(0x13b)];++_0x43f867){_0x481ee0[_0x3508a9(0x112)](_0x166051[_0x43f867]),_0x478989+=_0x166051[_0x43f867][_0x3508a9(0x13b)];if(_0x478989===_0x16e69e){const _0xbb8b1d=_0x481ee0['slice'](-0x4);if(/^by dealing$/i[_0x3508a9(0x154)](_0xbb8b1d[_0x3508a9(0xb1)]('')[_0x3508a9(0x125)]()))return'';}}}const _0x1cfffc={'tuple':[_0x24bfa1,_0x175f36]};return~_0x2daf39&&_0x16e69e>=_0x2daf39&&(_0x1cfffc['isOnFailSavingThrow']=!![]),_0x29af87[_0x3508a9(0x112)](_0x1cfffc),'';});return{'str':_0x35b8fa,'damageTupleMetas':_0x29af87['filter'](_0x2d9c09=>_0x2d9c09[_0x414325(0x197)][_0x414325(0x13b)])};}static[_0x118925(0x115)](_0x5346b7){const _0xc70f04=_0x118925;_0x5346b7=_0x5346b7||[];if(!Config['get']('import',_0xc70f04(0xe0)))return{'damageParts':_0x5346b7[_0xc70f04(0x18d)](_0x375317=>_0x375317['tuple']),'formula':''};const _0x26f667=[];let _0xae059f='';_0x5346b7[_0xc70f04(0x163)](_0x16b3e2=>{const _0x280e07=_0xc70f04;if(_0xae059f||!_0x16b3e2['isOnFailSavingThrow'])return _0x26f667[_0x280e07(0x112)](_0x16b3e2['tuple']);_0xae059f=''+_0x16b3e2[_0x280e07(0x197)][0x0]+(_0x16b3e2[_0x280e07(0x197)][0x1]?'['+_0x16b3e2['tuple'][0x1]+']':'');});if(!_0x26f667['length'])return{'damageParts':_0x5346b7[_0xc70f04(0x18d)](_0xabb398=>_0xabb398['tuple']),'formula':''};return{'damageParts':_0x26f667,'formula':_0xae059f};}static[_0x118925(0x89)](_0x136dbb,_0x462dd2){const _0x2b0db4=_0x118925;if(typeof _0x136dbb===_0x2b0db4(0x13c))return _0x462dd2===_0x2b0db4(0x135)?_0x136dbb:null;_0x136dbb=_0x136dbb[_0x462dd2];if(_0x136dbb==null)return null;if(_0x136dbb[_0x2b0db4(0x13c)]!=null)return _0x136dbb[_0x2b0db4(0x13c)];return Number(_0x136dbb);}static[_0x118925(0xcd)](_0x2bd401){const _0xe87ecd=_0x118925;if(typeof _0x2bd401===_0xe87ecd(0x13c))return![];return!!_0x2bd401[_0xe87ecd(0x137)];}static[_0x118925(0x11d)](_0x31f0f7){const _0x12da5f=_0x118925;return{'burrow':DataConverter[_0x12da5f(0x89)](_0x31f0f7,_0x12da5f(0x11c)),'climb':DataConverter[_0x12da5f(0x89)](_0x31f0f7,_0x12da5f(0xa4)),'fly':DataConverter[_0x12da5f(0x89)](_0x31f0f7,_0x12da5f(0x118)),'swim':DataConverter[_0x12da5f(0x89)](_0x31f0f7,_0x12da5f(0x8e)),'walk':DataConverter[_0x12da5f(0x89)](_0x31f0f7,_0x12da5f(0x135)),'units':'ft','hover':DataConverter[_0x12da5f(0xcd)](_0x31f0f7)};}static[_0x118925(0x179)](_0x3125c6){const _0x3ba4fb=_0x118925;let _0x8ca830=0x0,_0x5381af=0x0;const _0xe04c91=/range (\d+)\/(\d+) ft/gi['exec'](_0x3125c6);if(_0xe04c91)_0x8ca830=Number(_0xe04c91[0x1]),_0x5381af=Number(_0xe04c91[0x2]);else{const _0x5c5d71=/reach (\d+) ft/gi[_0x3ba4fb(0xb7)](_0x3125c6);_0x5c5d71&&(_0x8ca830=Number(_0x5c5d71[0x1]));}return{'rangeShort':_0x8ca830,'rangeLong':_0x5381af};}static[_0x118925(0xdf)](_0x10c9c0){const _0x85f44d=_0x118925;let _0x1a64f9='',_0x4ec19d=![];const _0x2afb7d=/{@atk ([^}]+)}/gi[_0x85f44d(0xb7)](_0x10c9c0);if(_0x2afb7d){_0x4ec19d=!![];if(_0x2afb7d[0x1][_0x85f44d(0xe5)]('s')){if(_0x2afb7d[0x1][_0x85f44d(0xe5)]('m'))_0x1a64f9=_0x85f44d(0x10c);else _0x1a64f9=_0x85f44d(0xdb);}else{if(_0x2afb7d[0x1][_0x85f44d(0xe5)]('m'))_0x1a64f9=_0x85f44d(0x15a);else{if(_0x2afb7d[0x1][_0x85f44d(0xe5)]('r'))_0x1a64f9=_0x85f44d(0x9d);}}}return{'actionType':_0x1a64f9,'isAttack':_0x4ec19d};}static[_0x118925(0x16f)](_0x2fe3a4){const _0x1857c9=_0x118925;return _0x2fe3a4=MiscUtil[_0x1857c9(0xc0)](_0x2fe3a4),Object[_0x1857c9(0xf7)](_0x2fe3a4)['filter'](_0x5ad1ad=>/^_f[A-Z]/['test'](_0x5ad1ad))[_0x1857c9(0x163)](_0x163a70=>delete _0x2fe3a4[_0x163a70]),this[_0x1857c9(0x143)](_0x2fe3a4),_0x2fe3a4;}static[_0x118925(0x143)](_0x27d25a){const _0x3a161d=_0x118925;if(_0x27d25a==null)return;if(typeof _0x27d25a!==_0x3a161d(0x177))return;_0x27d25a instanceof Array?_0x27d25a[_0x3a161d(0x163)](_0x4d59d6=>this[_0x3a161d(0x143)](_0x4d59d6)):Object[_0x3a161d(0x134)](_0x27d25a)[_0x3a161d(0x163)](([_0x55365e,_0x2e287e])=>{const _0x281a0b=_0x3a161d;if(_0x55365e[_0x281a0b(0xe5)]('$'))delete _0x27d25a[_0x55365e],console[_0x281a0b(0x11b)](...LGT,_0x281a0b(0x190)+_0x55365e+_0x281a0b(0xc3));else this[_0x281a0b(0x143)](_0x2e287e);});}static[_0x118925(0x10b)](_0x1b06a){const _0x1ba585=_0x118925,_0x4165bf={},_0x37fa45=new Set();let _0x2b24e6=[];this[_0x1ba585(0x116)]({'ent':_0x1b06a,'validTypesArr':UtilActors[_0x1ba585(0x195)],'fnRender':Parser[_0x1ba585(0xbd)],'prop':_0x1ba585(0x8d),'allSet':_0x37fa45,'customStack':_0x2b24e6}),_0x4165bf['di']={'value':[..._0x37fa45],'custom':_0x2b24e6[_0x1ba585(0xb1)](',\x20')};const _0x35c53c=new Set();let _0x4e5045=[];this['_getActorDamageResImmVulnConditionImm_addDamageTypesOrConditionTypes']({'ent':_0x1b06a,'validTypesArr':UtilActors[_0x1ba585(0x195)],'fnRender':Parser[_0x1ba585(0xbd)],'prop':_0x1ba585(0x93),'allSet':_0x35c53c,'customStack':_0x4e5045}),_0x4165bf['dr']={'value':[..._0x35c53c],'custom':_0x4e5045[_0x1ba585(0xb1)](',\x20')};const _0x22e1fe=new Set();let _0x2f3934=[];this[_0x1ba585(0x116)]({'ent':_0x1b06a,'validTypesArr':UtilActors[_0x1ba585(0x195)],'fnRender':Parser[_0x1ba585(0xbd)],'prop':'vulnerable','allSet':_0x22e1fe,'customStack':_0x2f3934}),_0x4165bf['dv']={'value':[..._0x22e1fe],'custom':_0x2f3934[_0x1ba585(0xb1)](',\x20')};const _0x142b82=new Set();let _0x133eb9=[];return this[_0x1ba585(0x116)]({'ent':_0x1b06a,'validTypesArr':UtilActors[_0x1ba585(0x132)],'fnRender':_0x431956=>Parser[_0x1ba585(0x136)](_0x431956,!![]),'prop':_0x1ba585(0x145),'allSet':_0x142b82,'customStack':_0x133eb9}),_0x4165bf['ci']={'value':[..._0x142b82],'custom':_0x133eb9['join'](',\x20')},_0x4165bf;}static[_0x118925(0x116)]({ent:_0xae7896,validTypesArr:_0xa4ddad,fnRender:_0x15a97f,prop:_0x46624d,allSet:_0x2a3fbe,customStack:_0x4de80b}){const _0xa11efe=_0x118925;if(!_0xae7896[_0x46624d])return;_0xae7896[_0x46624d][_0xa11efe(0x163)](_0x47ffd1=>{const _0x8c9b7f=_0xa11efe;if(_0xa4ddad[_0x8c9b7f(0xe5)](_0x47ffd1))_0x2a3fbe[_0x8c9b7f(0x181)](_0x47ffd1);else{if(this[_0x8c9b7f(0x180)][_0x8c9b7f(0x171)](_0x46624d)&&_0x47ffd1[_0x46624d]&&_0x47ffd1[_0x46624d]instanceof Array&&CollectionUtil[_0x8c9b7f(0x95)](new Set(_0x47ffd1[_0x46624d]),this[_0x8c9b7f(0xb4)])&&_0x47ffd1[_0x8c9b7f(0x13a)]&&_0x47ffd1[_0x8c9b7f(0x183)])_0x2a3fbe[_0x8c9b7f(0x181)](_0x8c9b7f(0x87));else{const _0x31e63d=_0x15a97f([_0x47ffd1]);_0x2a3fbe[_0x8c9b7f(0x181)]('custom'),_0x4de80b['push'](_0x31e63d);}}});}static async[_0x118925(0x13e)](_0x15cbd5,{propBrew:_0xfb59b3,fnLoadJson:_0x12ab70,propJson:_0xd9ce63,fnMatch:_0x432427}){const _0x2354d3=_0x118925;let _0x5c6330=(MiscUtil['get'](BrewUtil,_0x2354d3(0x114),_0xfb59b3)||[])[_0x2354d3(0x11e)](_0x31ea65=>(_0x432427||this[_0x2354d3(0x113)])(_0x15cbd5,_0x31ea65));if(!_0x5c6330){const _0x1551a2=await _0x12ab70();_0x5c6330=(_0x1551a2[_0xd9ce63]||[])[_0x2354d3(0x11e)](_0x30d8ac=>(_0x432427||this[_0x2354d3(0x113)])(_0x15cbd5,_0x30d8ac));}return _0x5c6330;}static[_0x118925(0x113)](_0x94f4aa,_0x1ddeff){const _0x57fcd7=_0x118925;return _0x94f4aa[_0x57fcd7(0x14e)]===_0x1ddeff[_0x57fcd7(0x14e)]&&_0x94f4aa[_0x57fcd7(0x168)]===_0x1ddeff[_0x57fcd7(0x168)];}static async['pGetAdditionalData_'](_0x569ac9,{propBrew:_0x3bbf3f,fnLoadJson:_0x4593eb,propJson:_0x4612a9,fnMatch:_0x4c132a}){const _0x306c0b=_0x118925;return this[_0x306c0b(0x150)](_0x569ac9,{'propBrew':_0x3bbf3f,'fnLoadJson':_0x4593eb,'propJson':_0x4612a9,'fnMatch':_0x4c132a,'propFromEntity':'foundryData','propFromSideLoaded':'data'});}static async[_0x118925(0x165)](_0x550f53,{propBrew:_0x35df74,fnLoadJson:_0x27ee1b,propJson:_0x21f22a,fnMatch:_0x5afa25}){const _0x4cd07c=_0x118925;return this[_0x4cd07c(0x150)](_0x550f53,{'propBrew':_0x35df74,'fnLoadJson':_0x27ee1b,'propJson':_0x21f22a,'fnMatch':_0x5afa25,'propFromEntity':'foundryEffects','propFromSideLoaded':_0x4cd07c(0x148)});}static async[_0x118925(0x150)](_0xbeb98f,{propBrew:_0x4c2a04,fnLoadJson:_0x271a4e,propJson:_0x1cc8bf,fnMatch:_0x1d46a0,propFromEntity:_0x584542,propFromSideLoaded:_0x2abb24}){const _0x2e093f=_0x118925,_0x3e11c8=await this[_0x2e093f(0x13e)](_0xbeb98f,{'propBrew':_0x4c2a04,'fnLoadJson':_0x271a4e,'propJson':_0x1cc8bf,'fnMatch':_0x1d46a0});return this[_0x2e093f(0x18b)](_0xbeb98f,{'propFromEntity':_0x584542,'propFromSideLoaded':_0x2abb24,'found':_0x3e11c8});}static async[_0x118925(0x18b)](_0xae1158,{propFromEntity:_0x55c88c,propFromSideLoaded:_0x392a99,found:_0x2fa427}){const _0x4fb8ff=_0x118925,_0x3b34ab=_0xae1158[_0x55c88c];if((!_0x2fa427||!_0x2fa427[_0x392a99])&&!_0x3b34ab)return null;const _0x54267f=MiscUtil[_0x4fb8ff(0xc0)](_0x2fa427?_0x2fa427[_0x392a99]:_0x3b34ab);if(_0x2fa427&&_0x3b34ab){if(_0x54267f instanceof Array)_0x54267f[_0x4fb8ff(0x112)](...MiscUtil['copy'](_0x3b34ab));else Object[_0x4fb8ff(0x96)](_0x54267f,MiscUtil[_0x4fb8ff(0xc0)](_0x3b34ab));}return _0x54267f;}static async[_0x118925(0x141)](_0x2190da){const _0x41e36b=_0x118925;_0x2190da=_0x2190da[_0x41e36b(0xec)]()[_0x41e36b(0x125)]();if(UtilActors[_0x41e36b(0xac)][_0x41e36b(0xe5)](_0x2190da))return _0x41e36b(0xd2);if(UtilActors[_0x41e36b(0x185)][_0x41e36b(0xe5)](_0x2190da))return'simple';let [_0x3aaf98,_0x3275d4]=Renderer['splitTagByPipe'](_0x2190da);_0x3275d4=_0x3275d4||_0x41e36b(0xee);const _0x19e6eb=UrlUtil[_0x41e36b(0xbc)][UrlUtil[_0x41e36b(0xa8)]]({'name':_0x3aaf98,'source':_0x3275d4});if(Renderer[_0x41e36b(0x10f)][_0x41e36b(0xfc)](UrlUtil[_0x41e36b(0xa8)],_0x3275d4,_0x19e6eb))return Renderer['hover']['getFromCache'](UrlUtil['PG_ITEMS'],_0x3275d4,_0x19e6eb)?.[_0x41e36b(0x12f)];if(Renderer[_0x41e36b(0x10f)][_0x41e36b(0xde)](UrlUtil[_0x41e36b(0xa8)],_0x3275d4))return null;const _0x230fef=await Renderer[_0x41e36b(0x10f)][_0x41e36b(0x188)](UrlUtil[_0x41e36b(0xa8)],_0x3275d4,_0x19e6eb);return _0x230fef?.[_0x41e36b(0x12f)];}static['getImportedEmbed'](_0x4a7c73,_0x435719){const _0xbdc021=_0x118925,_0x4f7458=_0x4a7c73[_0xbdc021(0x11e)](_0x42fe20=>_0x42fe20[_0xbdc021(0xc5)]===_0x435719);if(!_0x4f7458)return ui[_0xbdc021(0x191)][_0xbdc021(0x11b)](_0xbdc021(0x160)+VeCt[_0xbdc021(0xda)]),console[_0xbdc021(0x11b)](...LGT,_0xbdc021(0x157),_0x435719,_0xbdc021(0xc7),_0x4a7c73),null;return _0x4f7458;}}DataConverter['WALKER_READONLY_GENERIC']=MiscUtil[_0x118925(0xc1)]({'isNoModification':!![],'keyBlacklist':MiscUtil[_0x118925(0x9b)]}),DataConverter[_0x118925(0x8f)]='<PLUT_SYM__AT>',DataConverter[_0x118925(0xfe)]=_0x118925(0xeb),DataConverter[_0x118925(0x109)]=new RegExp(DataConverter[_0x118925(0xfe)]+'\x5cd+'),DataConverter[_0x118925(0xcf)]=new Set(['AT','GS',_0x118925(0xc4),'T']),DataConverter['ITEM_TYPES_ACTOR_WEAPONS']=new Set(['M','R']),DataConverter[_0x118925(0x12c)]=new Set(['LA','MA','HA','S']),DataConverter['_PROPS_DAMAGE_IMM_VULN_RES']=new Set([_0x118925(0x8d),'resist',_0x118925(0x176)]),DataConverter[_0x118925(0xb4)]=new Set([_0x118925(0x156),_0x118925(0x15f),_0x118925(0x16e)]);export{DataConverter};