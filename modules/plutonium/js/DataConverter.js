const _0x5813=['player','fly','_pGetAdditional_fnMatch','getCleanEntityName','vulnerable','depth','exec','getSpeedValue','pGetAdditionalStarFromFound_','getFromCache','sideData','rsak','in\x20imported\x20embedded\x20entities','physical','getFeatureFlags','img','error','length','custom','slice','effects','_displayName','set','martial','floor((@abilities.','resist','abilities','_getCleanOriginalData_recurse','vehicle','actorTraitProp','375552ewBNwV','getEntryDescription','))?\x20your\x20(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma)\x20modifier(?:\x20\x5c(minimum\x20of\x20(','flat','includes','scalar','cond','spell','isSpeedHover','languageProficiencies','isOrderingPrefixJournalNames','_doApplyFormData_doCheckAddCustomItem','weaponProf','mode','items','prop','bonus','reaction','fnGetMappedItem','toTitleCase','importAdventure','a\x20number\x20of\x20times\x20equal\x20to(?:\x20(','test','pFillActorImmunityData','getItemSource','piercing','render','getActorDamageResImmVulnConditionImm','.value\x20-\x2010)\x20/\x202)','getOrSet','{@dc\x20','get','isCancelled','scalarAdd','book','actorDataMod','attributes','_mutActorUpdate_mutFromSideTokenMod','fnGetMappedCustomItem','tokens','save','_SOURCE_PAGE_PREFIX','day','homebrew','\x20*\x20','creature','pGetItemWeaponType','toolProficiencies','add','filter','ITEM_TYPES_ACTOR_ARMOR','125779KSGedF','VALID_CONDITIONS','mod','getMappedLanguage','replace','pGetSideData_','max','pFillActorSkillData','armorProficiencies','_SET_PHYSICAL_DAMAGE','foundryEffects','INS','sourceJsonToAbv','pFillActorLanguageData','permission','isPageSourceCached','keys','\x20([^}]+)}','isAddPageNumberToSource','mwak','getAbilityModNumber','disease','getNameWithSourcePart','Could\x20not\x20find\x20loaded\x20item\x20data','</div>','_mutActorUpdate_mutFromSideMod_handleProp','241565iWwsRn','has','actorTokenMod','import','now','pGetIconLookup','getMappedTool','permissions','pFillActorVulnerabilityData','action','getCombinedFoundryFlags','327474QhFHKF','bookOrdinalToAbv','_doPopulateDrDiDvCiData','getMappedWeaponProficiency','TERMS_COUNT','\x20pg.\x20','slashing','getCleanOriginalData','186333oZtkJL','conditionImmune','_pGetAdditionalStar','tuple','_getActorDamageResImmVulnConditionImm_addDamageTypesOrConditionTypes','pGetIconImage','_PROPS_DAMAGE_IMM_VULN_RES','pFillActorArmorProfData','entity','string','index','toolProf','_getAdventureBookJournalPrefix','conditionals','adventure','split','ABIL_ABVS','data','stripTags','getFullCondImm','climb','pFillActorToolProfData','getFullImmRes','phb','appendIfNotExistsArr','ascSortLower','getTagUids','(Unnamed)','WALKER_READONLY_GENERIC','Failed\x20to\x20link\x20embedded\x20entity\x20for\x20active\x20effects!\x20','weaponProficiencies','name','map','armorProf','join','raw','actor','page','object','stringify','deepEquals',')\x5c))?','doApplyToolProficienciesFormDataToActorUpdate','doApplyLanguageProficienciesFormDataToActorUpdate','special','URL_TO_HASH_BUILDER','traits','sort','VALID_DAMAGE_TYPES','getAttackActionType','getAttackRange','charges','306982ZItwib','getMappedArmorProficiency','skills','collection','push','canHover','pCacheAndGet','getDamageTupleMetas','rwak','_mutActorUpdate_mutFromSideDataMod','isCached','pFillActorConditionImmunityData','simple','note','isOnFailSavingThrow','count','pFillActorLanguageOrToolData','forEach','ITEM_TYPES_ACTOR_TOOLS','isChannelDivinity','weaponCategory','setEq','Unhandled\x20mode\x20\x22','find','isAddSourceToName','pGetAdditionalData_','value','toLowerCase','condition','Removed\x20key\x20\x22','pGetUserInput','isUseOtherFormulaFieldForSaveHalvesDamage','_mutActorUpdate_mutFromSideMod','_getAdventureBookJournals','SYM_UI_SKIP','contents','isSkipDescription','<PLUT_SYM__AT>','getCombinedFoundryData','doApplyArmorProficienciesFormDataToActorUpdate','hover','setFirstSection','getSentences','MODULE_NAME','7rBqDIv','unit','some','endsWith','ITEM_TYPES_ACTOR_WEAPONS','SYM_AT','warn','assign','entries','doApplySkillFormDataToActorUpdate','swim','languages','long\x20rest','type','\x20+\x20','abilityDc','getWalker','modeOptions','source','attribute','trim','PG_ITEMS','SKILL_ABV_TO_FULL','GENERIC_WALKER_ENTRIES_KEY_BLACKLIST','number','7249oVQVLv','\x5cd+','1gKRyrJ','copy','doApplyOtherProficienciesFormData','diseased','1EfQfiH','ability','indexOf','unitShort','walk','_SOURCE_PAGE_PREFIX_RE','modules/','immune','doApplyWeaponProficienciesFormDataToActorUpdate','PLUT_CONTEXT'];const _0x5aee=function(_0x2c895f,_0xe0457){_0x2c895f=_0x2c895f-0x133;let _0x581380=_0x5813[_0x2c895f];return _0x581380;};const _0x376be6=_0x5aee;(function(_0x5dcd09,_0x45ad76){const _0x5847a4=_0x5aee;while(!![]){try{const _0x4b08a0=-parseInt(_0x5847a4(0x1d4))+-parseInt(_0x5847a4(0x18d))*-parseInt(_0x5847a4(0x1a6))+parseInt(_0x5847a4(0x1ac))*parseInt(_0x5847a4(0x221))+parseInt(_0x5847a4(0x207))+parseInt(_0x5847a4(0x234))+-parseInt(_0x5847a4(0x22c))+-parseInt(_0x5847a4(0x1a8))*-parseInt(_0x5847a4(0x161));if(_0x4b08a0===_0x45ad76)break;else _0x5dcd09['push'](_0x5dcd09['shift']());}catch(_0x2c956a){_0x5dcd09['push'](_0x5dcd09['shift']());}}}(_0x5813,0x32df8));import{SharedConsts}from'../shared/SharedConsts.js';import{UtilActors}from'./UtilActors.js';import{Config}from'./Config.js';import{UtilApplications}from'./UtilApplications.js';import{Vetools}from'./Vetools.js';import{Consts}from'./Consts.js';import{Charactermancer_SkillSelect,Charactermancer_LanguageProficiencySelect,Charactermancer_ToolProficiencySelect,Charactermancer_ArmorProficiencySelect,Charactermancer_WeaponProficiencySelect,Charactermancer_LanguageToolProficiencySelect}from'./UtilCharactermancer.js';import{LGT,Util}from'./Util.js';import{Charactermancer_Race_ConditionImmunitySelect,Charactermancer_Race_DamageImmunitySelect,Charactermancer_Race_DamageResistanceSelect,Charactermancer_Race_DamageVulnerabilitySelect}from'./UtilCharactermancerRace.js';import{UtilCompat}from'./UtilCompat.js';class DataConverter{static[_0x376be6(0x21d)](_0x545444,{displayName:displayName=null,isActorItem:isActorItem=![]}={}){const _0x3c7ae0=_0x376be6;return''+(displayName||Renderer[_0x3c7ae0(0x13f)](_0x545444[_0x3c7ae0(0x1cb)]||_0x545444['name']||''))+(!isActorItem&&_0x545444[_0x3c7ae0(0x19f)]&&Config['get'](_0x3c7ae0(0x224),_0x3c7ae0(0x179))?'\x20('+Parser[_0x3c7ae0(0x213)](_0x545444[_0x3c7ae0(0x19f)])+')':'');}static['getSourceWithPagePart'](_0x869dd2){const _0x560038=_0x376be6;return''+Parser['sourceJsonToAbv'](_0x869dd2[_0x560038(0x19f)])+(Config[_0x560038(0x1f3)]('import',_0x560038(0x219))&&_0x869dd2[_0x560038(0x152)]?''+DataConverter[_0x560038(0x1fd)]+_0x869dd2['page']:'');}static[_0x376be6(0x1ec)](_0x17564f){const _0x57dc10=_0x376be6;let _0x4e19c4=_0x17564f[_0x57dc10(0x13e)]||{};if(_0x4e19c4[_0x57dc10(0x13e)])_0x4e19c4=_0x4e19c4['data'];let _0x233fe7=_0x4e19c4[_0x57dc10(0x19f)];if(_0x233fe7 instanceof Array)_0x233fe7=_0x233fe7[0x0];if(!_0x233fe7)return _0x233fe7;return _0x233fe7[_0x57dc10(0x13c)](DataConverter[_0x57dc10(0x1b1)])[0x0][_0x57dc10(0x1a1)]();}static[_0x376be6(0x147)](_0x44d18e,_0x5b3d36){const _0x1971e8=_0x376be6,_0x19c83b=new RegExp('{@'+_0x44d18e+_0x1971e8(0x218),'gi'),_0x4867f7=[];return _0x5b3d36[_0x1971e8(0x20b)](_0x19c83b,(..._0x3413cd)=>_0x4867f7[_0x1971e8(0x165)](_0x3413cd[0x1])),_0x4867f7;}static async[_0x376be6(0x239)](_0x5bb6a8,_0x2ff713){const _0x3fa7b6=_0x376be6;switch(_0x5bb6a8){case'feat':case _0x3fa7b6(0x1db):{const _0x349c06=await Vetools[_0x3fa7b6(0x226)](_0x5bb6a8),_0x481925=MiscUtil[_0x3fa7b6(0x1f3)](_0x349c06,_0x2ff713[_0x3fa7b6(0x19f)],_0x2ff713['name']);if(!_0x481925)return null;return _0x3fa7b6(0x1b2)+SharedConsts[_0x3fa7b6(0x18c)]+'/'+_0x481925;}default:return null;}}static['getCombinedFoundryData'](_0x2ce11e,_0x1b021a){const _0x222e46=_0x376be6;if(!_0x1b021a&&!_0x2ce11e)return{};const _0x34271c=MiscUtil['copy'](_0x1b021a||{});return Object[_0x222e46(0x194)](_0x34271c,MiscUtil[_0x222e46(0x1a9)](_0x2ce11e||{})),_0x34271c;}static[_0x376be6(0x22b)](_0x385085,_0x512b17){const _0x42518e=_0x376be6;if(!_0x385085&&!_0x512b17)return{};const _0x42cf9d=MiscUtil[_0x42518e(0x1a9)](_0x512b17||{});return Object['entries'](MiscUtil['copy'](_0x385085||{}))[_0x42518e(0x172)](([_0x1abc88,_0x36cfdd])=>{const _0x5421e7=_0x42518e;if(!_0x42cf9d[_0x1abc88])return _0x42cf9d[_0x1abc88]=_0x36cfdd;Object[_0x5421e7(0x194)](_0x42cf9d[_0x1abc88],_0x36cfdd);}),_0x42cf9d;}static[_0x376be6(0x1d5)](_0x290ccc,_0x23a3cc){const _0x9e6ca6=_0x376be6;_0x23a3cc=_0x23a3cc||{},_0x23a3cc[_0x9e6ca6(0x1e3)]=_0x23a3cc['prop']||_0x9e6ca6(0x195);let _0x5b250c='';return _0x290ccc[_0x23a3cc[_0x9e6ca6(0x1e3)]]&&(_0x5b250c=Renderer['get']()[_0x9e6ca6(0x18a)](!![])[_0x9e6ca6(0x1ee)]({'type':'entries','entries':_0x290ccc[_0x23a3cc[_0x9e6ca6(0x1e3)]]},_0x23a3cc[_0x9e6ca6(0x1bb)]!=null?_0x23a3cc[_0x9e6ca6(0x1bb)]:0x2)),_0x5b250c;}static['mutActorUpdate'](_0x19a6c6,_0x3e31ed,_0x3b5ec8,_0x1c1ad2){const _0x3baa1f=_0x376be6;_0x1c1ad2=_0x1c1ad2||{},this['_mutActorUpdate_mutFromSideDataMod'](_0x19a6c6,_0x3e31ed,_0x1c1ad2),this[_0x3baa1f(0x1f9)](_0x19a6c6,_0x3e31ed,_0x1c1ad2);}static[_0x376be6(0x16a)](_0x127439,_0x4d6aad,_0x46fc54){const _0x1afcfc=_0x376be6;return this[_0x1afcfc(0x181)](_0x127439,_0x4d6aad,_0x46fc54,_0x1afcfc(0x1f7),_0x1afcfc(0x13e));}static['_mutActorUpdate_mutFromSideTokenMod'](_0x47158e,_0x1e64aa,_0xac4c13){const _0x3e3900=_0x376be6;return this['_mutActorUpdate_mutFromSideMod'](_0x47158e,_0x1e64aa,_0xac4c13,_0x3e3900(0x223),'token');}static[_0x376be6(0x181)](_0x4a6861,_0x351f90,_0x330f14,_0x454108,_0x252c8e){const _0x12ff40=_0x376be6;if(!_0x330f14[_0x12ff40(0x1c0)]||!_0x330f14[_0x12ff40(0x1c0)][_0x454108])return;Object[_0x12ff40(0x195)](_0x330f14[_0x12ff40(0x1c0)][_0x454108])[_0x12ff40(0x172)](([_0xf161b,_0x2f0c5c])=>this[_0x12ff40(0x220)](_0x4a6861,_0x351f90,_0x330f14,_0x454108,_0x252c8e,_0xf161b,_0x2f0c5c));}static[_0x376be6(0x220)](_0x58d7a7,_0x7d9cf0,_0x4beee7,_0x25496e,_0x4de438,_0x14f8b3,_0x5bff8b){const _0x2bbcd6=_0x376be6,_0x51aad6=_0x14f8b3[_0x2bbcd6(0x13c)]('.');if(_0x14f8b3==='_'){_0x5bff8b[_0x2bbcd6(0x172)](_0x2d3c5e=>{const _0x46bbe4=_0x2bbcd6;switch(_0x2d3c5e[_0x46bbe4(0x1e1)]){case _0x46bbe4(0x13a):{for(const _0x87a717 of _0x2d3c5e['conditionals']){window[_0x46bbe4(0x1b5)]={'actor':_0x58d7a7};if(_0x87a717[_0x46bbe4(0x17d)]&&!eval(_0x87a717['condition']))continue;Object[_0x46bbe4(0x195)](_0x87a717[_0x46bbe4(0x209)])['forEach'](([_0x18b434,_0x370d80])=>this[_0x46bbe4(0x220)](_0x58d7a7,_0x7d9cf0,_0x4beee7,_0x25496e,_0x4de438,_0x18b434,_0x370d80));break;}break;}default:throw new Error(_0x46bbe4(0x177)+_0x2d3c5e[_0x46bbe4(0x1e1)]+'\x22');}});return;}const _0x185721=MiscUtil[_0x2bbcd6(0x1f3)](_0x58d7a7,_0x2bbcd6(0x13e),_0x4de438,..._0x51aad6),_0x396ed1=MiscUtil[_0x2bbcd6(0x1f3)](_0x7d9cf0,_0x4de438,..._0x51aad6),_0x44e290=_0x396ed1||_0x185721;_0x5bff8b[_0x2bbcd6(0x172)](_0x1feedb=>{const _0x577b85=_0x2bbcd6;switch(_0x1feedb['mode']){case _0x577b85(0x145):{const _0xd232a6=MiscUtil[_0x577b85(0x1a9)](_0x44e290||[]),_0x58f420=[..._0xd232a6];_0x58f420[_0x577b85(0x165)](..._0x1feedb[_0x577b85(0x1e2)][_0x577b85(0x205)](_0x12855d=>!_0xd232a6[_0x577b85(0x18f)](_0x4e7d1f=>CollectionUtil[_0x577b85(0x155)](_0x12855d,_0x4e7d1f)))),MiscUtil['set'](_0x7d9cf0,_0x4de438,..._0x51aad6,_0x58f420);break;}case _0x577b85(0x1f5):{MiscUtil['set'](_0x7d9cf0,_0x4de438,..._0x51aad6,_0x1feedb[_0x577b85(0x1d9)]+_0x44e290||0x0);break;}case'scalarAddUnit':{const _0x1b5f69=(''+(_0x44e290||0x0))['toLowerCase'](),_0x1ffe90=_0x54b707=>{const _0x2a3ff7=_0x577b85,_0x2e28a1=_0x1b5f69[_0x2a3ff7(0x1ae)](_0x54b707[_0x2a3ff7(0x17c)]());let _0x512346=_0x44e290[_0x2a3ff7(0x1c9)](0x0,_0x2e28a1);const _0x3f094e=_0x44e290[_0x2a3ff7(0x1c9)](_0x2e28a1),_0x587955=_0x512346[_0x2a3ff7(0x190)]('\x20');_0x512346=_0x512346[_0x2a3ff7(0x1a1)]();if(!isNaN(_0x512346)){const _0x5a9c35=''+(_0x1feedb['scalar']+Number(_0x512346))+(_0x587955?'\x20':'')+_0x3f094e;MiscUtil[_0x2a3ff7(0x1cc)](_0x7d9cf0,_0x4de438,..._0x51aad6,_0x5a9c35);}};if(!_0x44e290)MiscUtil[_0x577b85(0x1cc)](_0x7d9cf0,_0x4de438,..._0x51aad6,_0x1feedb[_0x577b85(0x1d9)]+'\x20'+(_0x1feedb['unitShort']||_0x1feedb[_0x577b85(0x18e)]));else{if(_0x1feedb[_0x577b85(0x18e)]&&_0x1b5f69[_0x577b85(0x1d8)](_0x1feedb[_0x577b85(0x18e)]['toLowerCase']()))_0x1ffe90(_0x1feedb[_0x577b85(0x18e)]);else _0x1feedb[_0x577b85(0x1af)]&&_0x1b5f69[_0x577b85(0x1d8)](_0x1feedb[_0x577b85(0x1af)][_0x577b85(0x17c)]())&&_0x1ffe90(_0x1feedb[_0x577b85(0x1af)]);}break;}case'setMax':{const _0x500711=(''+(_0x44e290||0x0))[_0x577b85(0x17c)]();let _0xa2fd53=Number(_0x500711);if(isNaN(_0xa2fd53))_0xa2fd53=0x0;const _0x187c1e=Math['max'](_0xa2fd53,_0x1feedb[_0x577b85(0x17b)]);MiscUtil[_0x577b85(0x1cc)](_0x7d9cf0,_0x4de438,..._0x51aad6,_0x187c1e);break;}case'set':{MiscUtil[_0x577b85(0x1cc)](_0x7d9cf0,_0x4de438,..._0x51aad6,MiscUtil[_0x577b85(0x1a9)](_0x1feedb[_0x577b85(0x17b)]));break;}default:throw new Error(_0x577b85(0x177)+_0x1feedb['mode']+'\x22');}});}static['getItemActorPassive'](_0x4a5ea7,_0x2acbf8){const _0x4494d9=_0x376be6;_0x2acbf8=_0x2acbf8||{},_0x2acbf8[_0x4494d9(0x19e)]=_0x2acbf8[_0x4494d9(0x19e)]||{};if(_0x2acbf8[_0x4494d9(0x1e1)]==='object')_0x2acbf8[_0x4494d9(0x1e1)]='creature';let {description:_0x253161,activationType:_0x5be22c,activationCost:_0x4d005c,activationCondition:_0x516127,saveAbility:_0x172b99,saveDc:_0x5224ba,saveScaling:_0x1fbc79,damageParts:_0x2d41a7,attackBonus:_0x1f7dfe,requirements:_0x7723c2,actionType:_0x5d9d49,durationValue:_0x12ff08,durationUnits:_0x196077,consumeType:_0x42efc0,consumeTarget:_0x2bd454,consumeAmount:_0x2ee5f1,formula:_0x52622b,targetValue:_0x1f1b11,targetUnits:_0x2ad55d,targetType:_0x6ec265,usesCount:_0x435375,usesCountMax:_0x41c061,usesPer:_0x38e8bd,foundryData:_0x12fd63,_foundryData:_0x806c76,foundryFlags:_0x172a9e,_foundryFlags:_0x49aa35}=_0x2acbf8;const _0x428017=DataConverter[_0x4494d9(0x187)](_0x12fd63,_0x806c76),_0x4672a5=DataConverter[_0x4494d9(0x22b)](_0x172a9e,_0x49aa35);_0x253161=_0x253161||(_0x2acbf8[_0x4494d9(0x185)]?'':DataConverter['getEntryDescription'](_0x4a5ea7,{'depth':_0x2acbf8['renderDepth']})),_0x5be22c=_0x5be22c||'',_0x4d005c=_0x4d005c||0x0,_0x516127=_0x516127||'',_0x172b99=_0x172b99||'',_0x5224ba=_0x5224ba||null,_0x1fbc79=_0x1fbc79||'',_0x2d41a7=_0x2d41a7||[],_0x1f7dfe=_0x1f7dfe||0x0,_0x7723c2=_0x7723c2||'',_0x5d9d49=_0x5d9d49||'',_0x12ff08=_0x12ff08||null,_0x196077=_0x196077||'',_0x42efc0=_0x42efc0||null,_0x2bd454=_0x2bd454||null,_0x2ee5f1=_0x2ee5f1||null,_0x52622b=_0x52622b||'',_0x1f1b11=_0x1f1b11||null,_0x2ad55d=_0x2ad55d||'',_0x6ec265=_0x6ec265||'',_0x435375=_0x435375||0x0,_0x41c061=_0x41c061||'0',_0x38e8bd=_0x38e8bd||null;let _0x1cce0e=UtilApplications[_0x4494d9(0x1b9)](DataConverter[_0x4494d9(0x21d)](_0x4a5ea7,{'isActorItem':!![]}));const _0x523a35=_0x4a5ea7[_0x4494d9(0x195)]?JSON[_0x4494d9(0x154)](_0x4a5ea7[_0x4494d9(0x195)]):null;let _0x163c73=null;if(_0x4a5ea7[_0x4494d9(0x14c)]){const _0x326f17=/{@recharge( \d+)?}/gi[_0x4494d9(0x1bc)](_0x4a5ea7[_0x4494d9(0x14c)]);_0x326f17&&(_0x163c73=_0x326f17[0x1]?Number(_0x326f17[0x1][_0x4494d9(0x1a1)]()):0x6,_0x1cce0e=_0x1cce0e[_0x4494d9(0x20b)](/\(Recharge \d+(â€“\d+)?\)/gi,'')['trim']()[_0x4494d9(0x20b)](/[ ]+/g,'\x20'));}if(_0x4a5ea7[_0x4494d9(0x195)]){/(?:^|\W)bonus action(?:\W|$)/i[_0x4494d9(0x1ea)](_0x523a35)&&(_0x5be22c=_0x5be22c||_0x4494d9(0x1e4),_0x4d005c=_0x4d005c||0x1);if(_0x2acbf8[_0x4494d9(0x1e1)]==='player'){if(!_0x5be22c&&!_0x4d005c){const _0x575b5d=DataConverter[_0x4494d9(0x149)];_0x575b5d[_0x4494d9(0x1b0)](_0x4a5ea7[_0x4494d9(0x195)],{'string':_0x56b86c=>{const _0x513f8c=_0x4494d9;if(_0x5be22c)return _0x56b86c;const _0x3940f8=Util[_0x513f8c(0x18b)](_0x56b86c);for(const _0x1ea45e of _0x3940f8){if(/as an action|can take an action/i[_0x513f8c(0x1ea)](_0x1ea45e)){_0x5be22c=_0x5be22c||_0x513f8c(0x22a),_0x4d005c=_0x4d005c||0x1;break;}const _0x32943e=/you can use your reaction|using your reaction|you can use this special reaction/i[_0x513f8c(0x1bc)](_0x1ea45e);if(_0x32943e){_0x5be22c=_0x5be22c||_0x513f8c(0x1e5),_0x4d005c=_0x4d005c||0x1;let _0x36e068=_0x1ea45e[_0x513f8c(0x1c9)](0x0,_0x32943e[_0x513f8c(0x137)])[_0x513f8c(0x1a1)]()[_0x513f8c(0x20b)](/,$/,'');const _0x4ed3a6=/(^|\W)(?:if|when)(?:|\W)/i[_0x513f8c(0x1bc)](_0x36e068);_0x4ed3a6&&(_0x36e068=_0x36e068['slice'](_0x4ed3a6['index']+_0x4ed3a6[0x1][_0x513f8c(0x1c7)])[_0x513f8c(0x1a1)](),_0x516127=_0x516127||_0x36e068);break;}}}}),!_0x5be22c&&_0x575b5d[_0x4494d9(0x1b0)](_0x4a5ea7[_0x4494d9(0x195)],{'string':_0x107908=>{const _0x40cda6=_0x4494d9;if(_0x5be22c)return _0x107908;const _0x205f8d=Util[_0x40cda6(0x18b)](_0x107908);for(const _0x334a8d of _0x205f8d){if(/you can't use this feature again|once you use this feature/i[_0x40cda6(0x1ea)](_0x334a8d))_0x5be22c='special';}}});}}_0x2acbf8[_0x4494d9(0x1e1)]==='creature'&&_0x4a5ea7[_0x4494d9(0x14c)]&&(!_0x5be22c&&!_0x4d005c&&(/^legendary resistance/i['test'](_0x4a5ea7[_0x4494d9(0x14c)])&&(_0x5be22c=_0x4494d9(0x159))));}_0x2acbf8[_0x4494d9(0x1e1)]===_0x4494d9(0x201)&&_0x4a5ea7['name']&&(_0x1cce0e=_0x1cce0e[_0x4494d9(0x20b)](/\(\s*(\d+)\s*\/\s*(Day|Short Rest|Long Rest)\s*\)/i,(..._0xf20c93)=>{const _0x39e4b6=_0x4494d9;_0x435375=Number(_0xf20c93[0x1]),_0x41c061=''+_0x435375;const _0x468a23=_0xf20c93[0x2][_0x39e4b6(0x1a1)]()[_0x39e4b6(0x17c)]();switch(_0x468a23){case'day':_0x38e8bd=_0x39e4b6(0x1fe);break;case'short\x20rest':_0x38e8bd='sr';break;case _0x39e4b6(0x199):_0x38e8bd='lr';break;}return'';}),!_0x38e8bd&&(_0x1cce0e=_0x1cce0e['replace'](/\(\s*(\d+)\s+Charges\s*\)/i,(..._0x6ddd26)=>{const _0x5f455c=_0x4494d9;return _0x435375=Number(_0x6ddd26[0x1]),_0x41c061=''+_0x435375,_0x38e8bd=_0x5f455c(0x160),'';})),_0x38e8bd&&(_0x1cce0e=_0x1cce0e['trim']()[_0x4494d9(0x20b)](/[ ]+/g,'\x20'),_0x5be22c=_0x5be22c||'none',_0x4a5ea7[_0x4494d9(0x195)]&&typeof _0x4a5ea7['entries'][0x0]===_0x4494d9(0x136)&&/^(?:If |When )/i[_0x4494d9(0x1ea)](_0x4a5ea7['entries'][0x0][_0x4494d9(0x1a1)]())&&(_0x516127=_0x4a5ea7[_0x4494d9(0x195)][0x0][_0x4494d9(0x1a1)]())),/legendary resistance/gi['test'](_0x1cce0e)&&(_0x435375=0x0,_0x41c061=''+_0x435375,_0x38e8bd=null));if(_0x2acbf8[_0x4494d9(0x1e1)]===_0x4494d9(0x1b6)&&_0x4a5ea7['entries']){const _0x3b2381=/finish a short rest/['test'](_0x523a35)||/finish a short or long rest/[_0x4494d9(0x1ea)](_0x523a35)||/finish a short rest or a long rest/[_0x4494d9(0x1ea)](_0x523a35)||/finish a short or long rest/[_0x4494d9(0x1ea)](_0x523a35),_0x3b8128=!_0x3b2381&&/finish a long rest/['test'](_0x523a35);if(_0x3b2381)_0x38e8bd='sr';else{if(_0x3b8128)_0x38e8bd='lr';}const _0x53f0a3=new RegExp(_0x4494d9(0x1e9)+Consts[_0x4494d9(0x230)][_0x4494d9(0x14d)](_0x349386=>_0x349386[_0x4494d9(0x1fb)]['join'](''))[_0x4494d9(0x14f)]('|')+_0x4494d9(0x1d6)+Consts['TERMS_COUNT']['map'](_0x48a7e3=>_0x48a7e3[_0x4494d9(0x1fb)][_0x4494d9(0x14f)](''))[_0x4494d9(0x14f)]('|')+_0x4494d9(0x156),'i'),_0x2b7164=_0x53f0a3['exec'](_0x523a35);if(_0x2b7164&&_0x2acbf8[_0x4494d9(0x151)]){const _0x3d6525=_0x2b7164[0x2]['slice'](0x0,0x3)[_0x4494d9(0x17c)](),_0x162139=MiscUtil['get'](_0x2acbf8['actor'],'data','data',_0x4494d9(0x1d0),_0x3d6525,_0x4494d9(0x17b));if(_0x162139!=null){let _0x2ecda9=Parser[_0x4494d9(0x21b)](_0x162139),_0x5791ec=_0x4494d9(0x1ce)+_0x3d6525+_0x4494d9(0x1f0);if(_0x2b7164[0x1]){const _0x4991c4=(Consts['TERMS_COUNT'][_0x4494d9(0x178)](_0x1591b9=>_0x1591b9[_0x4494d9(0x1fb)][_0x4494d9(0x14f)]('\x20')===_0x2b7164[0x1][_0x4494d9(0x1a1)]()[_0x4494d9(0x17c)]())||{})[_0x4494d9(0x170)]||0x1;_0x2ecda9=_0x2ecda9*_0x4991c4,_0x5791ec=_0x5791ec+_0x4494d9(0x200)+_0x4991c4+';';}if(_0x2b7164[0x3]){const _0x5e1626=(Consts['TERMS_COUNT'][_0x4494d9(0x178)](_0x246aaa=>_0x246aaa[_0x4494d9(0x1fb)]['join']('')===_0x2b7164[0x3][_0x4494d9(0x1a1)]()['toLowerCase']())||{})[_0x4494d9(0x170)]||0x1;_0x2ecda9=Math[_0x4494d9(0x20d)](_0x5e1626,_0x2ecda9),_0x5791ec='max('+_0x5e1626+',\x20'+_0x5791ec+')';}_0x435375=_0x2ecda9,_0x41c061=_0x5791ec;}}_0x38e8bd&&!_0x435375&&(!_0x41c061||_0x41c061==='0')&&(_0x435375=0x1,_0x41c061=''+_0x435375);}_0x2acbf8[_0x4494d9(0x1e1)]===_0x4494d9(0x1b6)&&_0x4a5ea7['entries']&&DataConverter[_0x4494d9(0x149)][_0x4494d9(0x1b0)](_0x4a5ea7[_0x4494d9(0x195)],{'object':_0x278695=>{const _0x384160=_0x4494d9;if(_0x278695[_0x384160(0x19a)]!==_0x384160(0x19c))return _0x278695;if(_0x5d9d49&&_0x1fbc79)return _0x278695;return _0x5d9d49=_0x5d9d49||_0x384160(0x1fc),_0x1fbc79=_0x278695[_0x384160(0x1f8)][0x0],_0x278695;},'string':_0x52048d=>{const _0x562095=_0x4494d9;if(_0x5d9d49&&_0x172b99&&_0x1fbc79)return _0x52048d;return _0x52048d[_0x562095(0x20b)](/8\s*\+\s*your proficiency bonus\s*\+\s*your (.*?) modifier/i,(..._0x50ca00)=>{const _0x48c014=_0x562095,_0x2ba296=[];_0x50ca00[0x1][_0x48c014(0x20b)](/(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma)/i,(..._0x20c36c)=>{const _0x1365e6=_0x48c014;_0x2ba296[_0x1365e6(0x165)](_0x20c36c[0x1][_0x1365e6(0x17c)]()[_0x1365e6(0x1c9)](0x0,0x3));});if(!_0x2ba296[_0x48c014(0x1c7)])return;_0x5d9d49=_0x5d9d49||'save',_0x1fbc79=_0x2ba296[0x0];}),_0x52048d['replace'](/(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma) saving throw against your (.*? )spell save DC/i,(..._0x2328c2)=>{const _0x2de677=_0x562095;_0x5d9d49=_0x5d9d49||_0x2de677(0x1fc),_0x172b99=_0x172b99||_0x2328c2[0x1]['toLowerCase']()[_0x2de677(0x1c9)](0x0,0x3),_0x1fbc79=_0x1fbc79||_0x2de677(0x1db);}),_0x2acbf8[_0x562095(0x19e)][_0x562095(0x174)]&&_0x52048d[_0x562095(0x20b)](/(?:make a|succeed on a) (Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma) saving throw/gi,(..._0x1a3605)=>{const _0x578086=_0x562095;_0x5d9d49=_0x5d9d49||'save',_0x172b99=_0x172b99||_0x1a3605[0x1][_0x578086(0x17c)]()[_0x578086(0x1c9)](0x0,0x3),_0x1fbc79=_0x1fbc79||_0x578086(0x1db);}),_0x52048d;}});_0x2acbf8[_0x4494d9(0x1e1)]===_0x4494d9(0x201)&&_0x4a5ea7['entries']&&_0x523a35[_0x4494d9(0x20b)](/{@dc ([-+]?\s*\d+)}\s+(Strength|Dexterity|Constitution|Intelligence|Wisdom|Charisma)/,(..._0x8f0fed)=>{const _0x295811=_0x4494d9,_0x39f089=Number(_0x8f0fed[0x1]['replace'](/\s*/g,''));if(isNaN(_0x39f089))return;_0x5d9d49=_0x5d9d49||'save',_0x172b99=_0x172b99||_0x8f0fed[0x2]['toLowerCase']()[_0x295811(0x1c9)](0x0,0x3),_0x5224ba=_0x39f089;if(_0x2acbf8['pb']==null||_0x2acbf8[_0x295811(0x135)]==null||Parser[_0x295811(0x13d)][_0x295811(0x18f)](_0x32dbde=>_0x2acbf8[_0x295811(0x135)][_0x32dbde]==null)){_0x1fbc79='flat';return;}const _0x102989=_0x39f089-_0x2acbf8['pb']-0x8,_0x5c4fe0=Parser[_0x295811(0x13d)][_0x295811(0x14d)](_0x137fad=>({'ability':_0x137fad,'bonus':Parser[_0x295811(0x21b)](_0x2acbf8[_0x295811(0x135)][_0x137fad])})),_0x24f484=_0x5c4fe0[_0x295811(0x205)](_0x2e4e90=>_0x2e4e90['bonus']===_0x102989);if(_0x24f484['length']===0x1)_0x1fbc79=_0x1fbc79||_0x24f484[0x0][_0x295811(0x1ad)];else _0x1fbc79=_0x295811(0x1d7);});_0x2acbf8[_0x4494d9(0x1e1)]==='player'&&_0x4a5ea7[_0x4494d9(0x195)]&&DataConverter[_0x4494d9(0x149)][_0x4494d9(0x1b0)](_0x4a5ea7[_0x4494d9(0x195)],{'string':_0xad5a9=>{const _0x3a2e4a=_0x4494d9;if(_0x12ff08||_0x196077)return;_0xad5a9[_0x3a2e4a(0x20b)](/(?:^|\W)lasts for (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0x1a0c9f)=>{const _0x145eb4=_0x3a2e4a;_0x12ff08=Number(_0x1a0c9f[0x1]),_0x196077=_0x1a0c9f[0x2][_0x145eb4(0x17c)]();}),_0xad5a9[_0x3a2e4a(0x20b)](/(?:^|\W)for the next (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0x5b1e3b)=>{const _0xd8d0ad=_0x3a2e4a;_0x12ff08=Number(_0x5b1e3b[0x1]),_0x196077=_0x5b1e3b[0x2][_0xd8d0ad(0x17c)]();}),_0xad5a9[_0x3a2e4a(0x20b)](/(?:^|\W)turned for (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0x55142d)=>{const _0x4ac3a4=_0x3a2e4a;_0x12ff08=Number(_0x55142d[0x1]),_0x196077=_0x55142d[0x2][_0x4ac3a4(0x17c)]();}),_0xad5a9[_0x3a2e4a(0x20b)](/(?:^|\W)this effect lasts for (\d+) (minute|hour|day|month|year|turn|round)s?(?:\W|$)/gi,(..._0x5732f6)=>{_0x12ff08=Number(_0x5732f6[0x1]),_0x196077=_0x5732f6[0x2]['toLowerCase']();}),_0xad5a9['replace'](/(?:^|\W)until the end of your next turn(?:\W|$)/gi,()=>{_0x12ff08=0x1,_0x196077='turn';}),Renderer['stripTags'](_0xad5a9)[_0x3a2e4a(0x20b)](/(?:^|\W)is \w+ by you for (\d+) (minute|hour|day|month|year|turn|round)s(?:\W|$)/gi,(..._0x1451e8)=>{const _0x41a2e7=_0x3a2e4a;_0x12ff08=Number(_0x1451e8[0x1]),_0x196077=_0x1451e8[0x2][_0x41a2e7(0x17c)]();});}});_0x2acbf8[_0x4494d9(0x1e1)]===_0x4494d9(0x1b6)&&_0x4a5ea7[_0x4494d9(0x195)]&&DataConverter['WALKER_READONLY_GENERIC'][_0x4494d9(0x1b0)](_0x4a5ea7[_0x4494d9(0x195)],{'string':_0x56201d=>{const _0x13d9af=_0x4494d9;if(_0x42efc0||_0x2bd454||_0x2ee5f1)return;_0x56201d[_0x13d9af(0x20b)](/(?:(\d+) to )?(\d+) (?:ki|sorcery) point/i,(..._0x5f12d9)=>{const _0x131872=_0x13d9af;_0x42efc0=_0x131872(0x1a0),_0x2bd454='resources.primary.value',_0x2ee5f1=Number(_0x5f12d9[0x1]||_0x5f12d9[0x2]);});}});let _0x4808e1=_0x523a35;if((_0x2acbf8[_0x4494d9(0x1e1)]===_0x4494d9(0x1b6)||_0x2acbf8[_0x4494d9(0x1e1)]===_0x4494d9(0x1d2))&&_0x4a5ea7[_0x4494d9(0x195)]&&!_0x2d41a7['length']){const {str:_0x11d16d,damageTupleMetas:_0x46c653}=DataConverter['getDamageTupleMetas'](_0x523a35);_0x4808e1=_0x11d16d;const {damageParts:_0x46a985,formula:_0x5d7823}=DataConverter['getDamagePartsAndOtherFormula'](_0x46c653);_0x2d41a7=_0x46a985,_0x52622b=_0x52622b||_0x5d7823;}(_0x2acbf8[_0x4494d9(0x1e1)]==='player'||_0x2acbf8[_0x4494d9(0x1e1)]===_0x4494d9(0x1d2))&&_0x4a5ea7[_0x4494d9(0x195)]&&!_0x52622b&&_0x4808e1[_0x4494d9(0x20b)](/{(?:@dice|@scaledice) ([^}]+)}/i,(..._0x4f11a3)=>{const [_0x26e6b0]=_0x4f11a3[0x1]['split']('|');_0x52622b=_0x26e6b0;});_0x523a35&&_0x523a35[_0x4494d9(0x20b)](/exhales [^.]*a (\d+)-foot[- ](cone|line)/,(..._0x17b316)=>{_0x1f1b11=_0x1f1b11||Number(_0x17b316[0x1]),_0x2ad55d=_0x2ad55d||'ft',_0x6ec265=_0x6ec265||_0x17b316[0x2];});try{_0x516127=Renderer[_0x4494d9(0x13f)](_0x516127);}catch(_0xf5356e){console[_0x4494d9(0x1c6)](...LGT,_0xf5356e);}_0x1cce0e=_0x1cce0e['trim']()[_0x4494d9(0x20b)](/\s+/g,'\x20');if(!_0x1cce0e)_0x1cce0e=_0x4494d9(0x148);return{'name':_0x1cce0e,'type':_0x2acbf8['fvttType'],'data':{'source':_0x2acbf8[_0x4494d9(0x19f)]?Parser[_0x4494d9(0x213)](_0x2acbf8[_0x4494d9(0x19f)]):'','description':{'value':_0x253161,'chat':'','unidentified':''},'damage':{'parts':_0x2d41a7,'versatile':''},'duration':{'value':_0x12ff08,'units':_0x196077},'range':{'value':null,'long':null,'units':''},'requirements':_0x7723c2,'save':{'ability':_0x172b99,'dc':_0x5224ba,'scaling':_0x1fbc79||'flat'},'activation':{'type':_0x5be22c,'cost':_0x4d005c,'condition':_0x516127},'target':{'value':_0x1f1b11,'units':_0x2ad55d,'type':_0x6ec265},'uses':{'value':_0x435375,'max':_0x41c061,'per':_0x38e8bd},'ability':'','actionType':_0x5d9d49||'other','attackBonus':_0x1f7dfe,'chatFlavor':'','critical':null,'formula':_0x52622b,'recharge':{'value':_0x163c73,'charged':_0x163c73!=null},'consume':{'type':_0x42efc0,'target':_0x2bd454,'amount':_0x2ee5f1},..._0x428017||{},..._0x2acbf8['additionalData']||{}},'img':_0x2acbf8[_0x4494d9(0x1c5)],'flags':{...UtilCompat[_0x4494d9(0x1c4)]({'isReaction':_0x5be22c==='reaction'}),..._0x4672a5||{}},'effects':_0x2acbf8[_0x4494d9(0x1ca)]||[]};}static[_0x376be6(0x182)](_0x2c8b9c,_0x142d58,_0x230e54,_0x563b90){const _0x348d1f=_0x376be6,_0x172412=_0x230e54===_0x348d1f(0x13b)?_0x348d1f(0x1e8):'importBook',_0x4500c5=[],_0x57e4ef=_0x142d58[_0x348d1f(0x184)],_0x4aabe7=Math['min'](_0x57e4ef['length'],_0x2c8b9c[_0x348d1f(0x1c7)]);for(let _0x3cbe1d=0x0;_0x3cbe1d<_0x4aabe7;++_0x3cbe1d){const _0x3713f3=_0x57e4ef[_0x3cbe1d],_0x4a29aa=_0x2c8b9c[_0x3cbe1d],_0x610e38={'name':UtilApplications[_0x348d1f(0x1b9)](''+this[_0x348d1f(0x139)](_0x172412,_0x142d58[_0x348d1f(0x19f)],_0x3cbe1d,_0x4aabe7)+Parser[_0x348d1f(0x22d)](_0x3713f3['ordinal'])+_0x3713f3[_0x348d1f(0x14c)]),'permission':{'default':0x0},'entryTime':Date[_0x348d1f(0x225)](),'content':('<div\x20class=\x22w-100\x20overflow-x-hidden\x22>'+Renderer[_0x348d1f(0x1f3)]()[_0x348d1f(0x18a)](!![])[_0x348d1f(0x1ee)](_0x4a29aa)+_0x348d1f(0x21f))['replace'](new RegExp(DataConverter[_0x348d1f(0x192)],'g'),'@'),'sort':JournalEntry[_0x348d1f(0x164)]['entities'][_0x348d1f(0x1c7)]+SORT_INTEGER_DENSITY*_0x3cbe1d};if(_0x563b90['isAddPermission'])_0x610e38[_0x348d1f(0x215)]={'default':Config[_0x348d1f(0x1f3)](_0x172412,_0x348d1f(0x228))};_0x4500c5[_0x348d1f(0x165)](_0x610e38);}return _0x4500c5;}static['_getAdventureBookJournalPrefix'](_0x53d860,_0x315234,_0x4495fe,_0x27d2a7){const _0x15db88=_0x376be6;if(!Config[_0x15db88(0x1f3)](_0x53d860,_0x15db88(0x1de)))return'';const _0xe5e58d=(''+_0x27d2a7)['length'];return''+Parser[_0x15db88(0x213)](_0x315234)[_0x15db88(0x1c9)](0x0,0x3)+(''+_0x4495fe)['padStart'](_0xe5e58d,'0')+'\x20';}static['getAdventureJournals'](_0x4b719c,_0x4d4889,_0x498786){const _0x2137af=_0x376be6;return this[_0x2137af(0x182)](_0x4b719c,_0x4d4889,'adventure',_0x498786);}static['getBookJournals'](_0x48aff4,_0x16c46c,_0x4b13ea){const _0x3d4de9=_0x376be6;return this[_0x3d4de9(0x182)](_0x48aff4,_0x16c46c,_0x3d4de9(0x1f6),_0x4b13ea);}static async[_0x376be6(0x20e)](_0x3418ed,_0x2f76cc,_0x1ba02f,_0x36f94a,_0x434c4b){const _0x3f8b24=_0x376be6;_0x434c4b=_0x434c4b||{};if(!_0x2f76cc)return{};const _0x4942c9=await Charactermancer_SkillSelect[_0x3f8b24(0x17f)]({..._0x434c4b,'existingProficienciesFvtt':{'skillProficiencies':_0x3418ed},'availableProficiencies':_0x2f76cc});if(!_0x4942c9)return _0x36f94a['isCancelled']=!![];if(_0x4942c9===VeCt[_0x3f8b24(0x183)])return;return this['doApplySkillFormDataToActorUpdate'](_0x3418ed,_0x4942c9,_0x1ba02f);}static[_0x376be6(0x196)](_0x41eefb,_0x4043f3,_0x4ab7b2){const _0x1ba354=_0x376be6,_0x348336={};return _0x4ab7b2[_0x1ba354(0x163)]=_0x4ab7b2['skills']||{},Object[_0x1ba354(0x195)](UtilActors[_0x1ba354(0x1a3)])[_0x1ba354(0x205)](([_0x2b3645,_0x20b052])=>_0x4043f3[_0x1ba354(0x13e)][_0x20b052])[_0x1ba354(0x172)](([_0x4b993b,_0x5bdc92])=>{const _0x2a8527=_0x1ba354;_0x348336[_0x4b993b]=_0x4043f3[_0x2a8527(0x13e)][_0x5bdc92];const _0x454d1f=Math['max']((_0x41eefb[_0x4b993b]||{})[_0x2a8527(0x17b)]||0x0,_0x4043f3[_0x2a8527(0x13e)][_0x5bdc92]?0x1:0x0,(_0x4ab7b2[_0x2a8527(0x163)][_0x4b993b]||{})[_0x2a8527(0x17b)]||0x0),_0x7f2431=_0x454d1f>(MiscUtil[_0x2a8527(0x1f3)](_0x4ab7b2[_0x2a8527(0x163)],_0x4b993b,_0x2a8527(0x17b))||0x0);if(_0x7f2431)(_0x4ab7b2['skills'][_0x4b993b]=_0x4ab7b2[_0x2a8527(0x163)][_0x4b993b]||{})[_0x2a8527(0x17b)]=_0x454d1f;}),_0x348336;}static async[_0x376be6(0x214)](_0x177962,_0x5b86e7,_0x55c669,_0x1d3ca9,_0x2cda9c){const _0x2dac75=_0x376be6;_0x2cda9c=_0x2cda9c||{};const _0x26e70f=await Charactermancer_LanguageProficiencySelect['pGetUserInput']({..._0x2cda9c,'existingProficienciesFvtt':{'languageProficiencies':_0x177962},'availableProficiencies':_0x5b86e7});if(!_0x26e70f)return _0x1d3ca9[_0x2dac75(0x1f4)]=!![];if(_0x26e70f===VeCt[_0x2dac75(0x183)])return;this[_0x2dac75(0x158)]({'existingProfs':_0x177962,'formData':_0x26e70f,'actorData':_0x55c669});}static['doApplyLanguageProficienciesFormDataToActorUpdate']({existingProfs:_0x375ffc,formData:_0x50094c,actorData:_0x3571fe}){const _0x42b967=_0x376be6;this[_0x42b967(0x1aa)](_0x375ffc,_0x50094c,_0x42b967(0x1dd),_0x3571fe,{'fnGetMappedItem':_0x5d1095=>UtilActors[_0x42b967(0x20a)](_0x5d1095),'actorTraitProp':_0x42b967(0x198)});}static async[_0x376be6(0x142)](_0x34f67a,_0xce5509,_0x9b41ee,_0x2da93a,_0x307ae5){const _0x5a47af=_0x376be6;_0x307ae5=_0x307ae5||{};const _0x4f58a2=await Charactermancer_ToolProficiencySelect[_0x5a47af(0x17f)]({..._0x307ae5,'existingProficienciesFvtt':{'toolProficiencies':_0x34f67a},'availableProficiencies':_0xce5509});if(!_0x4f58a2)return _0x2da93a[_0x5a47af(0x1f4)]=!![];if(_0x4f58a2===VeCt[_0x5a47af(0x183)])return;this[_0x5a47af(0x157)]({'existingProfs':_0x34f67a,'formData':_0x4f58a2,'actorData':_0x9b41ee});}static[_0x376be6(0x157)]({existingProfs:_0x493637,formData:_0x4dff38,actorData:_0x34061d}){const _0x1868fc=_0x376be6;this[_0x1868fc(0x1aa)](_0x493637,_0x4dff38,'toolProficiencies',_0x34061d,{'fnGetMappedItem':_0x56557d=>UtilActors[_0x1868fc(0x227)](_0x56557d),'actorTraitProp':_0x1868fc(0x138)});}static async[_0x376be6(0x171)](_0x2824b4,_0x565d19,_0x48e055,_0x115250,_0x5105c8,_0x2d262d){const _0x207ed2=_0x376be6;_0x2d262d=_0x2d262d||{};const _0x119b19=await Charactermancer_LanguageToolProficiencySelect['pGetUserInput']({..._0x2d262d,'existingProficienciesFvtt':{'languageProficiencies':_0x2824b4,'toolProficiencies':_0x565d19},'availableProficiencies':_0x48e055});if(!_0x119b19)return _0x5105c8[_0x207ed2(0x1f4)]=!![];if(_0x119b19===VeCt[_0x207ed2(0x183)])return;this[_0x207ed2(0x1aa)](_0x2824b4,_0x119b19,_0x207ed2(0x1dd),_0x115250,{'fnGetMappedItem':_0x3fb4d3=>UtilActors[_0x207ed2(0x20a)](_0x3fb4d3),'actorTraitProp':'languages'}),this[_0x207ed2(0x1aa)](_0x565d19,_0x119b19,_0x207ed2(0x203),_0x115250,{'fnGetMappedItem':_0xe5447a=>UtilActors[_0x207ed2(0x227)](_0xe5447a),'actorTraitProp':_0x207ed2(0x138)});}static async[_0x376be6(0x134)](_0x5bbc9b,_0x1534ad,_0x4f28b0,_0x174c3e,_0x5f7557){const _0xe1921d=_0x376be6;_0x5f7557=_0x5f7557||{};const _0x48b11c=await Charactermancer_ArmorProficiencySelect[_0xe1921d(0x17f)]({..._0x5f7557,'existingProficienciesFvtt':{'armorProficiencies':_0x5bbc9b},'availableProficiencies':_0x1534ad});if(!_0x48b11c)return _0x174c3e[_0xe1921d(0x1f4)]=!![];if(_0x48b11c===VeCt[_0xe1921d(0x183)])return;this[_0xe1921d(0x188)]({'existingProfs':_0x5bbc9b,'formData':_0x48b11c,'actorData':_0x4f28b0});}static[_0x376be6(0x188)]({existingProfs:_0x174a2a,formData:_0x1f567d,actorData:_0x12b113}){const _0x494198=_0x376be6;this[_0x494198(0x1aa)](_0x174a2a,_0x1f567d,_0x494198(0x20f),_0x12b113,{'fnGetMappedItem':_0x4e90af=>UtilActors[_0x494198(0x162)](_0x4e90af),'actorTraitProp':_0x494198(0x14e)});}static async['pFillActorWeaponProfData'](_0x21825c,_0x283ae0,_0x184277,_0x5d4518,_0x5cab98){const _0x2baea6=_0x376be6;_0x5cab98=_0x5cab98||{};const _0x78392c=await Charactermancer_WeaponProficiencySelect[_0x2baea6(0x17f)]({..._0x5cab98,'existingProficienciesFvtt':{'weaponProficiencies':_0x21825c},'availableProficiencies':_0x283ae0});if(!_0x78392c)return _0x5d4518[_0x2baea6(0x1f4)]=!![];if(_0x78392c===VeCt[_0x2baea6(0x183)])return;this[_0x2baea6(0x1b4)]({'existingProfs':_0x21825c,'formData':_0x78392c,'actorData':_0x184277});}static[_0x376be6(0x1b4)]({existingProfs:_0x3616a7,formData:_0x28314e,actorData:_0x468096}){const _0x444aa7=_0x376be6;this[_0x444aa7(0x1aa)](_0x3616a7,_0x28314e,_0x444aa7(0x14b),_0x468096,{'fnGetMappedItem':_0x300a55=>UtilActors[_0x444aa7(0x22f)](_0x300a55),'fnGetMappedCustomItem':_0x5a23ac=>Renderer['splitTagByPipe'](_0x5a23ac)[0x0][_0x444aa7(0x1e7)](),'actorTraitProp':_0x444aa7(0x1e0)});}static['doApplyOtherProficienciesFormData'](_0x51b2d6,_0x328dfa,_0x103388,_0x5cab14,_0x198b0b){const _0x4e45b5=_0x376be6;if(!_0x328dfa?.[_0x4e45b5(0x13e)]?.[_0x103388])return![];_0x51b2d6=_0x51b2d6||{};const _0x3ddeb6=_0x328dfa[_0x4e45b5(0x13e)][_0x103388];if(!Object['keys'](_0x3ddeb6)[_0x4e45b5(0x1c7)])return![];const _0x147012=MiscUtil[_0x4e45b5(0x1a9)](_0x3ddeb6),_0x558777=new Set();Object[_0x4e45b5(0x217)](_0x147012)['filter'](_0x5b71cb=>_0x147012[_0x5b71cb])[_0x4e45b5(0x172)](_0x4919d3=>_0x558777[_0x4e45b5(0x204)](_0x4919d3));const _0x2f97d5=new Set(),_0x5e9dd5=[];(_0x51b2d6[_0x4e45b5(0x17b)]||[])['forEach'](_0x59b540=>_0x2f97d5['add'](_0x59b540)),(_0x51b2d6[_0x4e45b5(0x1c8)]||'')[_0x4e45b5(0x13c)](';')[_0x4e45b5(0x14d)](_0x13b399=>_0x13b399[_0x4e45b5(0x1a1)]())[_0x4e45b5(0x205)](Boolean)[_0x4e45b5(0x172)](_0x5eff1c=>this[_0x4e45b5(0x1df)](_0x5e9dd5,_0x5eff1c)),_0x558777[_0x4e45b5(0x172)](_0xe71bcb=>{const _0x3f41e8=_0x4e45b5,_0x5a842c=_0x198b0b[_0x3f41e8(0x1e6)](_0xe71bcb);if(_0x5a842c)_0x2f97d5[_0x3f41e8(0x204)](_0x5a842c);else{const _0x30c4cd=_0x198b0b[_0x3f41e8(0x1fa)]?_0x198b0b[_0x3f41e8(0x1fa)](_0xe71bcb):_0xe71bcb['toTitleCase']();this[_0x3f41e8(0x1df)](_0x5e9dd5,_0x30c4cd);}});const _0x4735e5=(_0x5cab14[_0x4e45b5(0x15b)]=_0x5cab14[_0x4e45b5(0x15b)]||{})[_0x198b0b['actorTraitProp']]=_0x5cab14[_0x4e45b5(0x15b)][_0x198b0b[_0x4e45b5(0x1d3)]]||{};_0x4735e5['value']=[..._0x2f97d5][_0x4e45b5(0x14d)](_0x359151=>_0x359151[_0x4e45b5(0x17c)]())[_0x4e45b5(0x15c)](SortUtil[_0x4e45b5(0x146)]),_0x4735e5[_0x4e45b5(0x1c8)]=_0x5e9dd5[_0x4e45b5(0x14f)](';');}static[_0x376be6(0x1df)](_0x22a581,_0x565fcc){const _0x565595=_0x376be6,_0x46e9c7=_0x565fcc[_0x565595(0x1a1)]()['toLowerCase']();if(!_0x22a581[_0x565595(0x18f)](_0x2be230=>_0x2be230[_0x565595(0x1a1)]()['toLowerCase']()===_0x46e9c7))_0x22a581['push'](_0x565fcc);}static[_0x376be6(0x22e)](_0x532b15,_0x4bfd60,_0x5b900b){const _0x5e1f65=_0x376be6;_0x4bfd60[_0x5e1f65(0x17b)]=[...new Set([..._0x532b15[_0x5e1f65(0x17b)]||[],..._0x4bfd60['value']||[],..._0x5b900b])];}static async[_0x376be6(0x1eb)](_0x586ee4,_0x385a81,_0x1203d7,_0x5f5a5a){const _0x38545b=_0x376be6,_0xaf4faf=await Charactermancer_Race_DamageImmunitySelect['pGetUserInput']({'existingFvtt':_0x586ee4,'available':_0x385a81});if(!_0xaf4faf)return _0x5f5a5a[_0x38545b(0x1f4)]=!![];if(_0xaf4faf===VeCt[_0x38545b(0x183)])return;const _0x51c0b6=MiscUtil[_0x38545b(0x1f1)](_0x1203d7,'traits','di',{});this[_0x38545b(0x22e)](_0x586ee4,_0x51c0b6,Object[_0x38545b(0x217)](_0xaf4faf[_0x38545b(0x13e)]||{}));}static async['pFillActorResistanceData'](_0x56ed14,_0x2715ec,_0x4f3859,_0x42e77a){const _0x1db76f=_0x376be6,_0x4f507e=await Charactermancer_Race_DamageResistanceSelect[_0x1db76f(0x17f)]({'existingFvtt':_0x56ed14,'available':_0x2715ec});if(!_0x4f507e)return _0x42e77a[_0x1db76f(0x1f4)]=!![];if(_0x4f507e===VeCt['SYM_UI_SKIP'])return;const _0x2ce9bf=MiscUtil[_0x1db76f(0x1f1)](_0x4f3859,_0x1db76f(0x15b),'dr',{});this['_doPopulateDrDiDvCiData'](_0x56ed14,_0x2ce9bf,Object[_0x1db76f(0x217)](_0x4f507e[_0x1db76f(0x13e)]||{}));}static async[_0x376be6(0x229)](_0x345598,_0x493f29,_0x1a086b,_0x5514b0){const _0x57656c=_0x376be6,_0x4babda=await Charactermancer_Race_DamageVulnerabilitySelect[_0x57656c(0x17f)]({'existingFvtt':_0x345598,'available':_0x493f29});if(!_0x4babda)return _0x5514b0['isCancelled']=!![];if(_0x4babda===VeCt[_0x57656c(0x183)])return;const _0x1444b4=MiscUtil[_0x57656c(0x1f1)](_0x1a086b,'traits','dv',{});this['_doPopulateDrDiDvCiData'](_0x345598,_0x1444b4,Object[_0x57656c(0x217)](_0x4babda[_0x57656c(0x13e)]||{}));}static async[_0x376be6(0x16c)](_0x3af371,_0x5f0de4,_0x262aeb,_0x11c29c){const _0x1ea702=_0x376be6,_0x391d70=await Charactermancer_Race_ConditionImmunitySelect[_0x1ea702(0x17f)]({'existingFvtt':_0x3af371,'available':_0x5f0de4});if(!_0x391d70)return _0x11c29c[_0x1ea702(0x1f4)]=!![];if(_0x391d70===VeCt['SYM_UI_SKIP'])return;const _0x106047=MiscUtil[_0x1ea702(0x1f1)](_0x262aeb,_0x1ea702(0x15b),'ci',{});this['_doPopulateDrDiDvCiData'](_0x3af371,_0x106047,Object[_0x1ea702(0x217)](_0x391d70[_0x1ea702(0x13e)]||{})[_0x1ea702(0x14d)](_0x44aaa3=>_0x44aaa3===_0x1ea702(0x21c)?_0x1ea702(0x1ab):_0x44aaa3));}static[_0x376be6(0x168)](_0x5f12a7){const _0x447cff=_0x376be6,_0x54e36c=[],_0x9235d7=_0x5f12a7[_0x447cff(0x1ae)](_0x447cff(0x1f2)),_0x4ec484=_0x5f12a7[_0x447cff(0x20b)](/(?:(\d+)|\(?{@(?:dice|damage) ([^}]+)}(?:\s+[-+]\s+the spell's level)?(?: plus {@(?:dice|damage) ([^}]+)})?\)?)(?:\s+[-+]\s+[-+a-zA-Z0-9 ]*?)? ([^ ]+) damage/gi,(..._0x473ebf)=>{const _0x2c4bbd=_0x447cff,[,_0x251a32,_0x33473e,_0x594c7a,_0x471159,_0x59a81a]=_0x473ebf,_0x35047a=_0x251a32!=null,_0x3bb46b=_0x35047a?_0x251a32:_0x594c7a?_0x33473e+_0x2c4bbd(0x19b)+_0x594c7a:_0x33473e;if(_0x35047a){const _0x5a95f2=_0x5f12a7[_0x2c4bbd(0x13c)](/( )/g);let _0x48f11b=0x0;const _0x5515e5=[];for(let _0x3990a0=0x0;_0x3990a0<_0x5a95f2[_0x2c4bbd(0x1c7)];++_0x3990a0){_0x5515e5[_0x2c4bbd(0x165)](_0x5a95f2[_0x3990a0]),_0x48f11b+=_0x5a95f2[_0x3990a0][_0x2c4bbd(0x1c7)];if(_0x48f11b===_0x59a81a){const _0x34b51f=_0x5515e5[_0x2c4bbd(0x1c9)](-0x4);if(/^by dealing$/i[_0x2c4bbd(0x1ea)](_0x34b51f[_0x2c4bbd(0x14f)]('')[_0x2c4bbd(0x1a1)]()))return'';}}}const _0x208ccb={'tuple':[_0x3bb46b,_0x471159]};return~_0x9235d7&&_0x59a81a>=_0x9235d7&&(_0x208ccb[_0x2c4bbd(0x16f)]=!![]),_0x54e36c[_0x2c4bbd(0x165)](_0x208ccb),'';});return{'str':_0x4ec484,'damageTupleMetas':_0x54e36c[_0x447cff(0x205)](_0x47c10a=>_0x47c10a[_0x447cff(0x237)]['length'])};}static['getDamagePartsAndOtherFormula'](_0x51dd1b){const _0x4d0ffe=_0x376be6;_0x51dd1b=_0x51dd1b||[];if(!Config[_0x4d0ffe(0x1f3)](_0x4d0ffe(0x224),_0x4d0ffe(0x180)))return{'damageParts':_0x51dd1b[_0x4d0ffe(0x14d)](_0x133cb3=>_0x133cb3[_0x4d0ffe(0x237)]),'formula':''};const _0x1a730e=[];let _0x371c63='';_0x51dd1b['forEach'](_0x447162=>{const _0x51574b=_0x4d0ffe;if(_0x371c63||!_0x447162[_0x51574b(0x16f)])return _0x1a730e['push'](_0x447162[_0x51574b(0x237)]);_0x371c63=''+_0x447162[_0x51574b(0x237)][0x0]+(_0x447162[_0x51574b(0x237)][0x1]?'['+_0x447162['tuple'][0x1]+']':'');});if(!_0x1a730e[_0x4d0ffe(0x1c7)])return{'damageParts':_0x51dd1b[_0x4d0ffe(0x14d)](_0x796ff7=>_0x796ff7[_0x4d0ffe(0x237)]),'formula':''};return{'damageParts':_0x1a730e,'formula':_0x371c63};}static[_0x376be6(0x1bd)](_0x4bc574,_0x4812a9){const _0x451048=_0x376be6;if(typeof _0x4bc574===_0x451048(0x1a5))return _0x4812a9===_0x451048(0x1b0)?_0x4bc574:null;_0x4bc574=_0x4bc574[_0x4812a9];if(_0x4bc574==null)return null;if(_0x4bc574[_0x451048(0x1a5)]!=null)return _0x4bc574['number'];return Number(_0x4bc574);}static[_0x376be6(0x1dc)](_0x3cb794){const _0x1fc1f9=_0x376be6;if(typeof _0x3cb794==='number')return![];return!!_0x3cb794[_0x1fc1f9(0x166)];}static['getMovement'](_0x3c8819){const _0x10f126=_0x376be6;return{'burrow':DataConverter[_0x10f126(0x1bd)](_0x3c8819,'burrow'),'climb':DataConverter[_0x10f126(0x1bd)](_0x3c8819,_0x10f126(0x141)),'fly':DataConverter[_0x10f126(0x1bd)](_0x3c8819,_0x10f126(0x1b7)),'swim':DataConverter[_0x10f126(0x1bd)](_0x3c8819,_0x10f126(0x197)),'walk':DataConverter[_0x10f126(0x1bd)](_0x3c8819,_0x10f126(0x1b0)),'units':'ft','hover':DataConverter[_0x10f126(0x1dc)](_0x3c8819)};}static[_0x376be6(0x15f)](_0x5bfa68){const _0x5cee75=_0x376be6;let _0x7d6093=0x0,_0x143042=0x0;const _0x4074fd=/range (\d+)\/(\d+) ft/gi[_0x5cee75(0x1bc)](_0x5bfa68);if(_0x4074fd)_0x7d6093=Number(_0x4074fd[0x1]),_0x143042=Number(_0x4074fd[0x2]);else{const _0x43a1dd=/reach (\d+) ft/gi[_0x5cee75(0x1bc)](_0x5bfa68);_0x43a1dd&&(_0x7d6093=Number(_0x43a1dd[0x1]));}return{'rangeShort':_0x7d6093,'rangeLong':_0x143042};}static[_0x376be6(0x15e)](_0x42f5f1){const _0x11f91b=_0x376be6;let _0x2422c3='',_0x4cba7a=![];const _0x4a5e61=/{@atk ([^}]+)}/gi[_0x11f91b(0x1bc)](_0x42f5f1);if(_0x4a5e61){_0x4cba7a=!![];if(_0x4a5e61[0x1][_0x11f91b(0x1d8)]('s')){if(_0x4a5e61[0x1][_0x11f91b(0x1d8)]('m'))_0x2422c3='msak';else _0x2422c3=_0x11f91b(0x1c1);}else{if(_0x4a5e61[0x1]['includes']('m'))_0x2422c3=_0x11f91b(0x21a);else{if(_0x4a5e61[0x1][_0x11f91b(0x1d8)]('r'))_0x2422c3=_0x11f91b(0x169);}}}return{'actionType':_0x2422c3,'isAttack':_0x4cba7a};}static[_0x376be6(0x233)](_0x302f4d){const _0x39dac5=_0x376be6;return _0x302f4d=MiscUtil[_0x39dac5(0x1a9)](_0x302f4d),Object[_0x39dac5(0x217)](_0x302f4d)[_0x39dac5(0x205)](_0x2c5d0f=>/^_f[A-Z]/[_0x39dac5(0x1ea)](_0x2c5d0f))[_0x39dac5(0x172)](_0x56eca7=>delete _0x302f4d[_0x56eca7]),this[_0x39dac5(0x1d1)](_0x302f4d),_0x302f4d;}static[_0x376be6(0x1d1)](_0x26bdb9){const _0x28cc68=_0x376be6;if(_0x26bdb9==null)return;if(typeof _0x26bdb9!==_0x28cc68(0x153))return;_0x26bdb9 instanceof Array?_0x26bdb9[_0x28cc68(0x172)](_0x254ee1=>this['_getCleanOriginalData_recurse'](_0x254ee1)):Object[_0x28cc68(0x195)](_0x26bdb9)[_0x28cc68(0x172)](([_0x2e7a99,_0x1af282])=>{const _0x135b88=_0x28cc68;if(_0x2e7a99[_0x135b88(0x1d8)]('$'))delete _0x26bdb9[_0x2e7a99],console['warn'](...LGT,_0x135b88(0x17e)+_0x2e7a99+'\x22\x20from\x20object');else this[_0x135b88(0x1d1)](_0x1af282);});}static[_0x376be6(0x1ef)](_0x3ab8f7){const _0xf1797f=_0x376be6,_0x4b2d20={},_0x1a052c=new Set();let _0x2dca8c=[];this['_getActorDamageResImmVulnConditionImm_addDamageTypesOrConditionTypes']({'ent':_0x3ab8f7,'validTypesArr':UtilActors[_0xf1797f(0x15d)],'fnRender':Parser[_0xf1797f(0x143)],'prop':'immune','allSet':_0x1a052c,'customStack':_0x2dca8c}),_0x4b2d20['di']={'value':[..._0x1a052c],'custom':_0x2dca8c[_0xf1797f(0x14f)](',\x20')};const _0x18c960=new Set();let _0x39360b=[];this[_0xf1797f(0x238)]({'ent':_0x3ab8f7,'validTypesArr':UtilActors[_0xf1797f(0x15d)],'fnRender':Parser[_0xf1797f(0x143)],'prop':_0xf1797f(0x1cf),'allSet':_0x18c960,'customStack':_0x39360b}),_0x4b2d20['dr']={'value':[..._0x18c960],'custom':_0x39360b[_0xf1797f(0x14f)](',\x20')};const _0x5bf09c=new Set();let _0x193c20=[];this[_0xf1797f(0x238)]({'ent':_0x3ab8f7,'validTypesArr':UtilActors['VALID_DAMAGE_TYPES'],'fnRender':Parser[_0xf1797f(0x143)],'prop':_0xf1797f(0x1ba),'allSet':_0x5bf09c,'customStack':_0x193c20}),_0x4b2d20['dv']={'value':[..._0x5bf09c],'custom':_0x193c20[_0xf1797f(0x14f)](',\x20')};const _0x475d0d=new Set();let _0x3d5c59=[];return this[_0xf1797f(0x238)]({'ent':_0x3ab8f7,'validTypesArr':UtilActors[_0xf1797f(0x208)],'fnRender':_0x221d04=>Parser[_0xf1797f(0x140)](_0x221d04,!![]),'prop':_0xf1797f(0x235),'allSet':_0x475d0d,'customStack':_0x3d5c59}),_0x4b2d20['ci']={'value':[..._0x475d0d],'custom':_0x3d5c59[_0xf1797f(0x14f)](',\x20')},_0x4b2d20;}static[_0x376be6(0x238)]({ent:_0x4c822a,validTypesArr:_0x231d22,fnRender:_0x19fc57,prop:_0x877ec0,allSet:_0xb8924d,customStack:_0x1af472}){const _0x147b2e=_0x376be6;if(!_0x4c822a[_0x877ec0])return;_0x4c822a[_0x877ec0][_0x147b2e(0x172)](_0x18b643=>{const _0x8b8853=_0x147b2e;if(_0x231d22[_0x8b8853(0x1d8)](_0x18b643))_0xb8924d[_0x8b8853(0x204)](_0x18b643);else{if(this[_0x8b8853(0x133)][_0x8b8853(0x222)](_0x877ec0)&&_0x18b643[_0x877ec0]&&_0x18b643[_0x877ec0]instanceof Array&&CollectionUtil[_0x8b8853(0x176)](new Set(_0x18b643[_0x877ec0]),this['_SET_PHYSICAL_DAMAGE'])&&_0x18b643[_0x8b8853(0x16e)]&&_0x18b643[_0x8b8853(0x1da)])_0xb8924d[_0x8b8853(0x204)](_0x8b8853(0x1c3));else{const _0x30fe56=_0x19fc57([_0x18b643]);_0xb8924d[_0x8b8853(0x204)]('custom'),_0x1af472[_0x8b8853(0x165)](_0x30fe56);}}});}static async[_0x376be6(0x20c)](_0x36dfad,{propBrew:_0x3bef34,fnLoadJson:_0x1ecd4b,propJson:_0xd023b6,fnMatch:_0xe02929}){const _0x48c6b7=_0x376be6;let _0x39297b=(MiscUtil[_0x48c6b7(0x1f3)](BrewUtil,_0x48c6b7(0x1ff),_0x3bef34)||[])['find'](_0xa2e8e4=>(_0xe02929||this[_0x48c6b7(0x1b8)])(_0x36dfad,_0xa2e8e4));if(!_0x39297b){const _0x2a50ce=await _0x1ecd4b();_0x39297b=(_0x2a50ce[_0xd023b6]||[])['find'](_0x11449a=>(_0xe02929||this[_0x48c6b7(0x1b8)])(_0x36dfad,_0x11449a));}return _0x39297b;}static['_pGetAdditional_fnMatch'](_0x230cdc,_0x3fd87c){const _0x183146=_0x376be6;return _0x230cdc['name']===_0x3fd87c[_0x183146(0x14c)]&&_0x230cdc[_0x183146(0x19f)]===_0x3fd87c[_0x183146(0x19f)];}static async[_0x376be6(0x17a)](_0x44fdb4,{propBrew:_0x370356,fnLoadJson:_0x50dc93,propJson:_0x1d55aa,fnMatch:_0x70a28f}){const _0x521849=_0x376be6;return this[_0x521849(0x236)](_0x44fdb4,{'propBrew':_0x370356,'fnLoadJson':_0x50dc93,'propJson':_0x1d55aa,'fnMatch':_0x70a28f,'propFromEntity':'foundryData','propFromSideLoaded':_0x521849(0x13e)});}static async['pGetAdditionalEffectsRaw_'](_0x3b8e1e,{propBrew:_0x1ac4fc,fnLoadJson:_0x1aa9b6,propJson:_0x688b73,fnMatch:_0x4a4c7f}){const _0x5aa475=_0x376be6;return this['_pGetAdditionalStar'](_0x3b8e1e,{'propBrew':_0x1ac4fc,'fnLoadJson':_0x1aa9b6,'propJson':_0x688b73,'fnMatch':_0x4a4c7f,'propFromEntity':_0x5aa475(0x211),'propFromSideLoaded':_0x5aa475(0x1ca)});}static async[_0x376be6(0x236)](_0x167925,{propBrew:_0x4cc68e,fnLoadJson:_0x263990,propJson:_0x15958c,fnMatch:_0x594a00,propFromEntity:_0x37a1a2,propFromSideLoaded:_0x40057a}){const _0x65acfe=_0x376be6,_0x12bc0c=await this['pGetSideData_'](_0x167925,{'propBrew':_0x4cc68e,'fnLoadJson':_0x263990,'propJson':_0x15958c,'fnMatch':_0x594a00});return this[_0x65acfe(0x1be)](_0x167925,{'propFromEntity':_0x37a1a2,'propFromSideLoaded':_0x40057a,'found':_0x12bc0c});}static async[_0x376be6(0x1be)](_0x341fa3,{propFromEntity:_0x10790d,propFromSideLoaded:_0x1c71d0,found:_0x376ca7}){const _0x5e8563=_0x376be6,_0x408229=_0x341fa3[_0x10790d];if((!_0x376ca7||!_0x376ca7[_0x1c71d0])&&!_0x408229)return null;const _0xbb9ee7=MiscUtil[_0x5e8563(0x1a9)](_0x376ca7?_0x376ca7[_0x1c71d0]:_0x408229);if(_0x376ca7&&_0x408229){if(_0xbb9ee7 instanceof Array)_0xbb9ee7[_0x5e8563(0x165)](...MiscUtil[_0x5e8563(0x1a9)](_0x408229));else Object[_0x5e8563(0x194)](_0xbb9ee7,MiscUtil[_0x5e8563(0x1a9)](_0x408229));}return _0xbb9ee7;}static async[_0x376be6(0x202)](_0x3d2371){const _0x1b5f7c=_0x376be6;_0x3d2371=_0x3d2371[_0x1b5f7c(0x17c)]()['trim']();if(UtilActors['WEAPONS_MARTIAL'][_0x1b5f7c(0x1d8)](_0x3d2371))return _0x1b5f7c(0x1cd);if(UtilActors['WEAPONS_SIMPLE'][_0x1b5f7c(0x1d8)](_0x3d2371))return _0x1b5f7c(0x16d);let [_0x5bfe80,_0x235dc4]=Renderer['splitTagByPipe'](_0x3d2371);_0x235dc4=_0x235dc4||_0x1b5f7c(0x144);const _0xc61c0b=UrlUtil[_0x1b5f7c(0x15a)][UrlUtil[_0x1b5f7c(0x1a2)]]({'name':_0x5bfe80,'source':_0x235dc4});if(Renderer[_0x1b5f7c(0x189)][_0x1b5f7c(0x16b)](UrlUtil[_0x1b5f7c(0x1a2)],_0x235dc4,_0xc61c0b))return Renderer[_0x1b5f7c(0x189)][_0x1b5f7c(0x1bf)](UrlUtil[_0x1b5f7c(0x1a2)],_0x235dc4,_0xc61c0b)?.[_0x1b5f7c(0x175)];if(Renderer[_0x1b5f7c(0x189)][_0x1b5f7c(0x216)](UrlUtil['PG_ITEMS'],_0x235dc4))return null;const _0x309b2c=await Renderer[_0x1b5f7c(0x189)][_0x1b5f7c(0x167)](UrlUtil[_0x1b5f7c(0x1a2)],_0x235dc4,_0xc61c0b);return _0x309b2c?.[_0x1b5f7c(0x175)];}static['getImportedEmbed'](_0x5f3eb0,_0x18bf92){const _0x1db2db=_0x376be6,_0x5a59a1=_0x5f3eb0['find'](_0x3c1b83=>_0x3c1b83[_0x1db2db(0x150)]===_0x18bf92);if(!_0x5a59a1)return ui['notifications'][_0x1db2db(0x193)](_0x1db2db(0x14a)+VeCt['STR_SEE_CONSOLE']),console[_0x1db2db(0x193)](...LGT,_0x1db2db(0x21e),_0x18bf92,_0x1db2db(0x1c2),_0x5f3eb0),null;return _0x5a59a1;}}DataConverter[_0x376be6(0x149)]=MiscUtil[_0x376be6(0x19d)]({'isNoModification':!![],'keyBlacklist':MiscUtil[_0x376be6(0x1a4)]}),DataConverter[_0x376be6(0x192)]=_0x376be6(0x186),DataConverter[_0x376be6(0x1fd)]=_0x376be6(0x231),DataConverter[_0x376be6(0x1b1)]=new RegExp(DataConverter['_SOURCE_PAGE_PREFIX']+_0x376be6(0x1a7)),DataConverter[_0x376be6(0x173)]=new Set(['AT','GS',_0x376be6(0x212),'T']),DataConverter[_0x376be6(0x191)]=new Set(['M','R']),DataConverter[_0x376be6(0x206)]=new Set(['LA','MA','HA','S']),DataConverter['_PROPS_DAMAGE_IMM_VULN_RES']=new Set([_0x376be6(0x1b3),_0x376be6(0x1cf),_0x376be6(0x1ba)]),DataConverter[_0x376be6(0x210)]=new Set(['bludgeoning',_0x376be6(0x1ed),_0x376be6(0x232)]);export{DataConverter};