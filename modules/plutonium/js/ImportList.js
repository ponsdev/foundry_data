const _0x2fc4=['replace','last','sourceJsonToAbv','actor','_isInit','C_IMPORT_DRAG_DROP_MODE_NEVER','\x20entities\x20to\x20import.<br>Importing\x20a\x20large\x20number\x20of\x20entities\x20may\x20degrade\x20game\x20performance\x20(consider\x20importing\x20to\x20a\x20compendium\x20instead).<br>Do\x20you\x20wish\x20to\x20continue?','remove','entity','_isRadio','\x20Importer','Source\x20(Full)','_isClosable','Name','isModdable','.search','journal','_folderPathSpec','_pPostFilterRender','trim','mutateForFilters','pGetUserBoolean','pSyncStateFrom','/template/FolderPathBuilder.handlebars','pInit','find','_isModdable','661440bitClT','doShowImportedNotification','copy','[name=\x22btn-toggle-summary\x22]','C_IMPORT_DEDUPE_MODE_NONE','_activateListeners_initList','_getDuplicateMeta_getEntityKey','pHandleEditFolderPathClick','compendium','checked','notifications','activateListeners','bind','2vWPkxV','sourceShort','pInitFilterBox','isFolderOnly','_fnResolve','_titleButtonRun','toLowerCase','gameProp','_list','details','hideVe','bindPreviewButton','error','isActorRadio','deduplicationMode','_isResolveOnClose','_activateListeners_initRunButton','URL_TO_HASH_BUILDER','set','isClosable','constructor','classList','map','_gameProp','_actor','sidebarTab','isOverwrite','_pImportEntry_pDoUpdateExistingPackEntity','join','sourceClassName','close','props','1jCBjmQ','tables','Warning:\x20Large\x20Import','_namespace','You\x20have\x20selected\x20','preCreateOwnedItem','isDisableLargeImportWarning','_isNonCacheableInstance','getStateFromString','488949JmIqXA','_pHandleClickRunButton','546726dnPruO','\x22\x20via\x20','length','update','doAbsorbItems','_isFolderOnly','_pFnPostProcessEntries','Ambiguous\x20folder\x20path!\x20Found\x20multiple\x20folders\x20for\x20','_defaultFolderPath','absorbFnGetData','_content','titleButtonRun','Yes,\x20use\x20the\x20importer','_pImportEntry_pDoUpdateExistingDirectoryEntity','_displayName','initBtnSortHandlers','isSkip','pack','C_IMPORT_DEDUPE_MODE_OVERWRITE','page','content','getMaxWindowHeight','isPreviewable','Edit\x20Folder\x20Path','isDedupable','pImportEntry','name','pGetUserChoice','[name=\x22btn-filter\x22]','entities','status','getValues','First\x20Letter\x20of\x20Name','toString','_page','flags','parent','_activateListeners_initPreviewHoversAndImportButtons','_$btnRunWithMods','[name=\x22btn-reset\x22]','importer_','C_IMPORT_DRAG_DROP_MODE_PROMPT','selectedProp','MODULE_LOCATION','TASK_EXIT_COMPLETE','existing','isTemp','getNameWithSourcePart','_getFullFolderPathSpecKey','getContent','_$btnRun','EVNT_VALCHANGE','_uploadedFile','data','slice','push','_$cbAll','createEmbeddedEntity','_$iptSearch','filterValues','Imported\x20\x22','_initCreateSheetItemHook','_fnListSort','[name=\x22btn-run-mods\x22]','_STO_K_FOLDER_PATH_SPEC','create','MODULE_TITLE','imported','pGetCompendiumData','554754vslYqq','entries','stopPropagation','getSourceWithPagePart','_pGetUseImporterDragDrop','click','[name=\x22btn-toggle-all-previews\x22]','namespace','list-multi-selected','_pHandleClickRunButton_doDumpPackCache','_activateListeners_initPreviewImportButton','_$btnReset','then','children','isEscapeable','pageFilter','addEventListener','Import\x20exited\x20with\x20status\x20\x22','isFreeText','_getDuplicateMeta_getCleanName','_$wrpMiniPills','_comp','pPreRender','isStrictMatching','MODULE_NAME','_$btnTogglePreviewAll','_sidebarTab','userData','render','preventDefault','Source','_isHidden','_props','_$btnToggleSummary','sorting','getFolderPathMeta','_pLoadFolderPathSpec','filter','_$wrpList','_pImportEntry_pImportToDirectoryGeneric_pGetImportableData','SRD\x20Importer','activateSidebarTab','activateTab','C_IMPORT_DEDUPE_MODE_SKIP','import','showVe','_getDuplicateMeta','folder','cbSel','_activateListeners_absorbListItems','text-center','info','Unimplemented!','_getFilterNamespace','_activateListeners_pInitFilteredList','actors','_pageFilter','_$bntFilter','isStreamerMode','_isDedupable','_$wrpRun','STR_SEE_CONSOLE','bindSelectAllCheckbox','./ChooseImporter.js','val','pGetClient','TASK_EXIT_COMPLETE_UPDATE_OVERWRITE','init','TASK_EXIT_SKIPPED_DUPLICATE','_pHandleClickRunButton_pDoPreCachePack','TASK_EXIT_COMPLETE_DATA_ONLY','absorbFnBindListenersRadio','_$wrpBtnsSort','get','path','/template/ImportList.handlebars','_pImportEntry_pGetFolderId','sourceJsonToColor','Failed\x20to\x20import\x20\x22','updateEntity','firstElementChild','Continue','sourceJsonToFull','sort','source','fnListSort','sidebar','prop','assign','ele','_titleSearch','showAndRender','items','_pack','\x22!\x20','\x22\x20is\x20not\x20supported!','_fnReject','_isPreviewable','_userData','text','17DGPtCl','_folderType','No,\x20use\x20normal\x20drag-drop','\x20>\x20','Task','Import','insert','pSetFolderPathSpec','OwnedItem','285559ZARcFI','absorbFnBindListeners','element','filterBox','_isUseMods','238076WXStgf','toDisplay','forEach','pSetClient','_packCache','_pImportEntry_pImportToDirectoryGeneric','44579BmWCnh','warn','_activateListeners_initPreviewButton','_id','isStandardDragDrop'];const _0x2e76=function(_0x5cea76,_0x221973){_0x5cea76=_0x5cea76-0x127;let _0x2fc422=_0x2fc4[_0x5cea76];return _0x2fc422;};const _0x3a10b1=_0x2e76;(function(_0x36b921,_0x1ba169){const _0x347074=_0x2e76;while(!![]){try{const _0xb0f1ca=parseInt(_0x347074(0x1c6))*-parseInt(_0x347074(0x1f9))+-parseInt(_0x347074(0x219))*-parseInt(_0x347074(0x1c1))+parseInt(_0x347074(0x1cc))*parseInt(_0x347074(0x1b8))+-parseInt(_0x347074(0x154))+parseInt(_0x347074(0x222))+-parseInt(_0x347074(0x1ec))+parseInt(_0x347074(0x224));if(_0xb0f1ca===_0x1ba169)break;else _0x36b921['push'](_0x36b921['shift']());}catch(_0x5694e2){_0x36b921['push'](_0x36b921['shift']());}}}(_0x2fc4,0x5e6ab));import{SharedConsts}from'../shared/SharedConsts.js';import{UtilApplications}from'./UtilApplications.js';import{Util}from'./Util.js';import{UtilList2}from'./UtilList2.js';import{FolderPathBuilder,FolderPathBuilderRow}from'./FolderPathBuilder.js';import{GameStorage}from'./GameStorage.js';import{Config}from'./Config.js';import{Vetools}from'./Vetools.js';import{DataConverter}from'./DataConverter.js';import{UtilCompendium}from'./UtilCompendium.js';import{ConfigConsts}from'./ConfigConsts.js';class ImportList extends Application{static[_0x3a10b1(0x14c)](_0x5d2c17){const _0x21b4b9=_0x3a10b1;Hooks['on'](_0x21b4b9(0x21e),(_0x5ac1f2,_0x52ebed)=>{const _0x3b8c9d=_0x21b4b9,_0x5244f3=_0x52ebed[_0x3b8c9d(0x132)]?.[SharedConsts['MODULE_NAME_FAKE']]||_0x52ebed[_0x3b8c9d(0x132)]?.[SharedConsts[_0x3b8c9d(0x16c)]];if(!_0x5244f3||!_0x5244f3?.[_0x3b8c9d(0x144)]?.[_0x5d2c17[_0x3b8c9d(0x1ab)]])return;if(_0x5244f3[_0x3b8c9d(0x1d0)])return;return this[_0x3b8c9d(0x158)]()[_0x3b8c9d(0x160)](async _0xe0cb03=>{const _0x3f9c25=_0x3b8c9d,_0x122054=_0x5244f3[_0x3f9c25(0x144)][_0x5d2c17['prop']];try{if(_0xe0cb03){const _0x50db50=new this({'actor':_0x5ac1f2});await _0x50db50[_0x3f9c25(0x1e9)](),await _0x50db50[_0x3f9c25(0x128)](_0x122054,{'filterValues':_0x5244f3[_0x3f9c25(0x14a)]}),ui[_0x3f9c25(0x1f6)][_0x3f9c25(0x187)](_0x3f9c25(0x14b)+_0x122054['name']+_0x3f9c25(0x225)+_0x5d2c17['importerName']+_0x3f9c25(0x1db));return;}_0x52ebed=MiscUtil['copy'](_0x52ebed),MiscUtil['set'](_0x52ebed[_0x3f9c25(0x132)],SharedConsts['MODULE_NAME_FAKE'],'isStandardDragDrop',!![]),await _0x5ac1f2[_0x3f9c25(0x148)](_0x3f9c25(0x1c0),_0x52ebed);}catch(_0x5d717a){ui[_0x3f9c25(0x1f6)][_0x3f9c25(0x205)](_0x3f9c25(0x1a2)+_0x122054[_0x3f9c25(0x129)]+_0x3f9c25(0x1b2)+VeCt[_0x3f9c25(0x191)]);throw _0x5d717a;}}),![];});}static async[_0x3a10b1(0x158)](){const _0x232dee=_0x3a10b1,_0x2a714d=Config[_0x232dee(0x19d)](_0x232dee(0x180),'dragDropMode');if(_0x2a714d===ConfigConsts[_0x232dee(0x1d6)])return![];if(_0x2a714d===ConfigConsts[_0x232dee(0x138)]){const _0x4805df=await InputUiUtil[_0x232dee(0x1e6)]({'title':'Import\x20via\x20'+(Config[_0x232dee(0x19d)]('ui',_0x232dee(0x18e))?_0x232dee(0x17c):SharedConsts[_0x232dee(0x151)])+'?\x20Note\x20that\x20this\x20will\x20ignore\x20any\x20in-Foundry\x20modifications\x20made\x20to\x20the\x20item.','textYes':_0x232dee(0x230),'textNo':_0x232dee(0x1ba)});if(!_0x4805df)return![];}return!![];}constructor(_0x105cd9,_0x28acca,_0x1155f1){const _0x63f14e=_0x3a10b1;_0x1155f1=_0x1155f1||{};if(!_0x1155f1[_0x63f14e(0x218)]&&!_0x1155f1[_0x63f14e(0x15b)])throw new Error('One\x20of\x20\x22props\x22\x20or\x20\x22namespace\x22\x20must\x20be\x20provided!');const _0x3f4b62={'template':SharedConsts[_0x63f14e(0x13a)]+_0x63f14e(0x19f),'width':0x3c0,'height':Util[_0x63f14e(0x239)](),'resizable':!![]};Object[_0x63f14e(0x1ac)](_0x3f4b62,_0x105cd9||{}),super(_0x3f4b62),this[_0x63f14e(0x174)]=_0x1155f1[_0x63f14e(0x218)],this[_0x63f14e(0x1ae)]=_0x1155f1['titleSearch']||_0x63f14e(0x155),this[_0x63f14e(0x16e)]=_0x1155f1[_0x63f14e(0x212)],this[_0x63f14e(0x210)]=_0x1155f1[_0x63f14e(0x200)],this[_0x63f14e(0x22c)]=_0x1155f1['defaultFolderPath'],this[_0x63f14e(0x1b9)]=_0x1155f1['folderType'],this[_0x63f14e(0x14d)]=_0x1155f1[_0x63f14e(0x1a9)],this[_0x63f14e(0x18c)]=_0x1155f1[_0x63f14e(0x163)],this[_0x63f14e(0x21c)]=_0x1155f1['namespace'],this[_0x63f14e(0x229)]=!!_0x1155f1[_0x63f14e(0x1fc)],this[_0x63f14e(0x220)]=_0x1155f1['isNonCacheableInstance'],this[_0x63f14e(0x131)]=_0x1155f1['page'],this['_isPreviewable']=_0x1155f1[_0x63f14e(0x23a)],this[_0x63f14e(0x1eb)]=_0x1155f1[_0x63f14e(0x1df)],this[_0x63f14e(0x1fe)]=_0x1155f1[_0x63f14e(0x22f)]||_0x63f14e(0x1bd),this[_0x63f14e(0x18f)]=!!_0x1155f1['isDedupable'],this[_0x63f14e(0x211)]=_0x28acca[_0x63f14e(0x1d4)],this[_0x63f14e(0x1da)]=!!_0x28acca[_0x63f14e(0x1d4)]&&_0x1155f1[_0x63f14e(0x206)],this[_0x63f14e(0x1b1)]=null,this[_0x63f14e(0x1ca)]=null,this[_0x63f14e(0x1e2)]=[],this[_0x63f14e(0x1dd)]=!![],this[_0x63f14e(0x173)]=![],this[_0x63f14e(0x1d5)]=![],this[_0x63f14e(0x22e)]=null,this[_0x63f14e(0x201)]=null,this[_0x63f14e(0x143)]=null,this['_$bntFilter']=null,this[_0x63f14e(0x15f)]=null,this[_0x63f14e(0x175)]=null,this['_$iptSearch']=null,this['_$cbAll']=null,this['_$btnTogglePreviewAll']=null,this[_0x63f14e(0x190)]=null,this[_0x63f14e(0x141)]=null,this[_0x63f14e(0x135)]=null,this['_$wrpBtnsSort']=null,this[_0x63f14e(0x17a)]=null,this[_0x63f14e(0x168)]=null,this['_userData']=null;}get[_0x3a10b1(0x237)](){const _0x17462b=_0x3a10b1;return this[_0x17462b(0x131)];}get['folderType'](){const _0x464acc=_0x3a10b1;return this[_0x464acc(0x1b9)];}set[_0x3a10b1(0x20c)](_0x347bc8){this['_isClosable']=_0x347bc8;}get[_0x3a10b1(0x15b)](){return this['_namespace'];}get[_0x3a10b1(0x218)](){const _0x10a637=_0x3a10b1;return this[_0x10a637(0x174)];}set[_0x3a10b1(0x238)](_0x4ea126){this['_content']=_0x4ea126;}set[_0x3a10b1(0x235)](_0x18ca8a){const _0xd7ff86=_0x3a10b1;this[_0xd7ff86(0x1b1)]=_0x18ca8a;}get['folderPathSpec'](){const _0x14d35e=_0x3a10b1;return this[_0x14d35e(0x1e2)];}get['isFolderOnly'](){const _0x4ab235=_0x3a10b1;return this[_0x4ab235(0x229)];}get['isNonCacheableInstance'](){const _0x135c2d=_0x3a10b1;return!!this[_0x135c2d(0x220)];}get[_0x3a10b1(0x127)](){return!!this['_isDedupable'];}set[_0x3a10b1(0x16f)](_0x5270b9){const _0x516b82=_0x3a10b1;this[_0x516b82(0x1b6)]=_0x5270b9;}get[_0x3a10b1(0x200)](){const _0x433622=_0x3a10b1;return this[_0x433622(0x210)];}get[_0x3a10b1(0x162)](){const _0x2d393a=_0x3a10b1;if(this[_0x2d393a(0x1dd)])return!![];else return!this[_0x2d393a(0x173)];}async[_0x3a10b1(0x1e7)](_0x4d400b){const _0x2eacb4=_0x3a10b1;this['_actor']=_0x4d400b[_0x2eacb4(0x211)],this[_0x2eacb4(0x1b1)]=_0x4d400b[_0x2eacb4(0x1b1)],await this['pSetFolderPathSpec'](_0x4d400b[_0x2eacb4(0x1e2)]);}[_0x3a10b1(0x217)](..._0x342cf5){const _0x3430fc=_0x3a10b1;if(this[_0x3430fc(0x220)]){if(this[_0x3430fc(0x18c)]&&this[_0x3430fc(0x18c)][_0x3430fc(0x1c4)])this[_0x3430fc(0x18c)][_0x3430fc(0x1c4)]['teardown']();return super[_0x3430fc(0x217)](..._0x342cf5);}if(!this[_0x3430fc(0x1dd)]){this['_isHidden']=!![],this['element'][_0x3430fc(0x203)]();return;}if(this[_0x3430fc(0x18c)]&&this[_0x3430fc(0x18c)][_0x3430fc(0x1c4)])this[_0x3430fc(0x18c)][_0x3430fc(0x1c4)]['teardown']();return super[_0x3430fc(0x217)](..._0x342cf5);}async['pPreRender'](){}['render'](..._0x4766cf){const _0x2d22d1=_0x3a10b1;if(this[_0x2d22d1(0x173)]){this[_0x2d22d1(0x1c3)][_0x2d22d1(0x181)](),this[_0x2d22d1(0x173)]=![];return;}return super['render'](..._0x4766cf);}[_0x3a10b1(0x1af)](..._0x1110da){const _0x2ce7aa=_0x3a10b1;return this[_0x2ce7aa(0x173)]&&(this['element'][_0x2ce7aa(0x181)](),this[_0x2ce7aa(0x173)]=![]),this['render'](..._0x1110da);}[_0x3a10b1(0x17d)](){const _0x183fd0=_0x3a10b1;if(this[_0x183fd0(0x1b1)])ui[_0x183fd0(0x1aa)][_0x183fd0(0x17e)](_0x183fd0(0x1f4));else{if(!this[_0x183fd0(0x211)]&&this[_0x183fd0(0x16e)])ui[_0x183fd0(0x1aa)][_0x183fd0(0x17e)](this[_0x183fd0(0x16e)]);}}async[_0x3a10b1(0x1e9)](){const _0xa31ea0=_0x3a10b1;if(this['_isInit'])return;this[_0xa31ea0(0x1d5)]=!![],await this['_pLoadFolderPathSpec']();}async[_0x3a10b1(0x178)](){const _0x1f41aa=_0x3a10b1;this['_folderPathSpec']=MiscUtil['get'](await GameStorage[_0x1f41aa(0x195)](this[_0x1f41aa(0x13f)]()),_0x1f41aa(0x19e));if(this[_0x1f41aa(0x1e2)]==null)await this[_0x1f41aa(0x1bf)]((this[_0x1f41aa(0x22c)]||[])['map'](_0x3fe9dc=>FolderPathBuilderRow[_0x1f41aa(0x221)](_0x3fe9dc)));}async[_0x3a10b1(0x1bf)](_0x496828){const _0x329c00=_0x3a10b1;return this['_folderPathSpec']=_0x496828,GameStorage[_0x329c00(0x1c9)](this[_0x329c00(0x13f)](),{'path':this[_0x329c00(0x1e2)]});}[_0x3a10b1(0x13f)](){const _0x51e0a6=_0x3a10b1;return ImportList[_0x51e0a6(0x14f)]+'.'+this['constructor']['name'];}['getData'](){const _0x34b31a=_0x3a10b1;return{'isRadio':this[_0x34b31a(0x1da)],'isPreviewable':this['_isPreviewable'],'titleButtonRun':this[_0x34b31a(0x1fe)],'titleSearch':this['_titleSearch'],'cols':[{'name':_0x34b31a(0x1de),'width':0x9,'field':_0x34b31a(0x129)},{'name':_0x34b31a(0x172),'width':0x2,'field':_0x34b31a(0x1a8),'titleProp':'sourceLong','displayProp':_0x34b31a(0x1fa),'classNameProp':_0x34b31a(0x216),'rowClassName':_0x34b31a(0x186)}],'rows':this[_0x34b31a(0x22e)][_0x34b31a(0x20f)]((_0x44822d,_0x4046bb)=>{const _0x3d5f72=_0x34b31a;if(this[_0x3d5f72(0x18c)])this[_0x3d5f72(0x18c)][_0x3d5f72(0x20d)][_0x3d5f72(0x1e5)](_0x44822d);return{'name':_0x44822d['name'],'source':_0x44822d[_0x3d5f72(0x1a8)],'sourceShort':Parser[_0x3d5f72(0x1d3)](_0x44822d[_0x3d5f72(0x1a8)]),'sourceLong':Parser[_0x3d5f72(0x1a6)](_0x44822d[_0x3d5f72(0x1a8)]),'sourceClassName':Parser[_0x3d5f72(0x1a1)](_0x44822d[_0x3d5f72(0x1a8)]),'ix':_0x4046bb};})};}['_activateListeners_doFindUiElements'](_0x56956f){const _0x2cbdcb=_0x3a10b1,_0x250f06=_0x56956f[0x0],_0x45ef9a=$(_0x250f06[_0x2cbdcb(0x161)][0x0]);this[_0x2cbdcb(0x18d)]=_0x45ef9a[_0x2cbdcb(0x1ea)](_0x2cbdcb(0x12b)),this['_$btnReset']=_0x45ef9a['find'](_0x2cbdcb(0x136)),this[_0x2cbdcb(0x175)]=_0x45ef9a[_0x2cbdcb(0x1ea)](_0x2cbdcb(0x1ef)),this[_0x2cbdcb(0x149)]=_0x45ef9a[_0x2cbdcb(0x1ea)](_0x2cbdcb(0x1e0)),this[_0x2cbdcb(0x168)]=$(_0x250f06[_0x2cbdcb(0x161)][0x1]);const _0x400751=$(_0x250f06[_0x2cbdcb(0x161)][0x2]);this['_$cbAll']=_0x400751[_0x2cbdcb(0x1ea)]('[name=\x22cb-select-all\x22]'),this[_0x2cbdcb(0x16d)]=_0x400751['find'](_0x2cbdcb(0x15a)),this[_0x2cbdcb(0x19c)]=_0x400751,this[_0x2cbdcb(0x17a)]=$(_0x250f06[_0x2cbdcb(0x161)][0x3]),this[_0x2cbdcb(0x190)]=$(_0x250f06[_0x2cbdcb(0x161)][0x4]),this[_0x2cbdcb(0x141)]=this[_0x2cbdcb(0x190)]['find']('[name=\x22btn-run\x22]'),this[_0x2cbdcb(0x1eb)]&&(this['_$btnRunWithMods']=this[_0x2cbdcb(0x190)][_0x2cbdcb(0x1ea)](_0x2cbdcb(0x14e)));}[_0x3a10b1(0x1f7)](_0x64c34b){const _0x166379=_0x3a10b1;super[_0x166379(0x1f7)](_0x64c34b),this['_activateListeners_doFindUiElements'](_0x64c34b),this[_0x166379(0x209)](),this[_0x166379(0x15f)][_0x166379(0x159)](()=>{const _0x5d565a=_0x166379;this[_0x5d565a(0x149)][_0x5d565a(0x194)]('');if(this[_0x5d565a(0x201)])this[_0x5d565a(0x201)]['reset']();});this[_0x166379(0x18c)]?this['_activateListeners_pInitFilteredList']()['then'](()=>this[_0x166379(0x134)]()):this[_0x166379(0x1f1)]();ListUiUtil[_0x166379(0x192)](this[_0x166379(0x147)],this[_0x166379(0x201)]),ListUiUtil['bindPreviewAllButton'](this['_$btnTogglePreviewAll'],this[_0x166379(0x201)]);if(this[_0x166379(0x15f)])this[_0x166379(0x15f)]['click']();}[_0x3a10b1(0x134)](){const _0x5e96b7=_0x3a10b1;if(!this[_0x5e96b7(0x1b5)])return;const _0x1ce810=this[_0x5e96b7(0x201)][_0x5e96b7(0x1b0)],_0x590a0e=_0x1ce810[_0x5e96b7(0x226)];for(let _0x89a0b8=0x0;_0x89a0b8<_0x590a0e;++_0x89a0b8){const _0x46e67f=_0x1ce810[_0x89a0b8],_0x4c645a=_0x46e67f[_0x5e96b7(0x1ad)][_0x5e96b7(0x1a4)]['children'][0x1],_0x3f352f=_0x4c645a['children'][0x0],_0xe09d99=_0x4c645a['children'][0x1];this['_activateListeners_initPreviewButton'](_0x46e67f,_0x3f352f),this[_0x5e96b7(0x15e)](_0x46e67f,_0xe09d99);}}[_0x3a10b1(0x1ce)](_0x2c58ee,_0xe7c642){const _0x20b387=_0x3a10b1;ListUiUtil[_0x20b387(0x204)](this['_page'],this[_0x20b387(0x22e)],_0x2c58ee,_0xe7c642);}[_0x3a10b1(0x15e)](_0x27fdae,_0x54c85b){const _0x83bb38=_0x3a10b1;_0x54c85b[_0x83bb38(0x164)](_0x83bb38(0x159),async _0x31ac81=>{const _0x2b9642=_0x83bb38;_0x31ac81[_0x2b9642(0x156)](),_0x31ac81[_0x2b9642(0x171)]();if(this[_0x2b9642(0x1da)])this[_0x2b9642(0x217)]();const _0x2be589=this[_0x2b9642(0x22e)][_0x27fdae['ix']];try{await this[_0x2b9642(0x199)]();let _0x3b6162;try{_0x3b6162=await this[_0x2b9642(0x128)](_0x2be589);}finally{this[_0x2b9642(0x15d)]();}if(!_0x3b6162)return;UtilApplications[_0x2b9642(0x1ed)](_0x3b6162);}catch(_0x23008b){setTimeout(()=>{throw _0x23008b;}),UtilApplications[_0x2b9642(0x1ed)]({'entity':_0x2be589,'status':UtilApplications['TASK_EXIT_FAILED']});}});}['_activateListeners_initRunButton'](){const _0x3078c2=_0x3a10b1;this[_0x3078c2(0x141)][_0x3078c2(0x159)](()=>this[_0x3078c2(0x223)]()),this['_isModdable']&&this[_0x3078c2(0x135)][_0x3078c2(0x159)](async()=>{const _0x3f9fda=_0x3078c2;try{this[_0x3f9fda(0x1c5)]=!![],await this[_0x3f9fda(0x223)]();}finally{this['_isUseMods']=![];}});}async[_0x3a10b1(0x22a)](_0x587c6d){return _0x587c6d;}async[_0x3a10b1(0x223)](){const _0x58f6c9=_0x3a10b1;if(!this['_list'])return;const _0x22cae2=this['_list'][_0x58f6c9(0x1b0)][_0x58f6c9(0x179)](_0x17a8b6=>_0x17a8b6[_0x58f6c9(0x144)][_0x58f6c9(0x184)][_0x58f6c9(0x1f5)])[_0x58f6c9(0x20f)](_0x4ae2c7=>_0x4ae2c7['ix']);if(!_0x22cae2[_0x58f6c9(0x226)])return ui[_0x58f6c9(0x1f6)][_0x58f6c9(0x1cd)]('Please\x20select\x20something\x20to\x20import!');if(!this[_0x58f6c9(0x1b1)]&&_0x22cae2[_0x58f6c9(0x226)]>0x64&&!Config['get']('ui',_0x58f6c9(0x21f))){const _0x5047ab=await InputUiUtil[_0x58f6c9(0x1e6)]({'title':_0x58f6c9(0x21b),'htmlDescription':_0x58f6c9(0x21d)+_0x22cae2[_0x58f6c9(0x226)]+_0x58f6c9(0x1d7),'textYesRemember':'Continue\x20and\x20Remember','textYes':_0x58f6c9(0x1a5),'textNo':'Cancel','fnRemember':_0x5efef7=>Config[_0x58f6c9(0x20b)]('ui',_0x58f6c9(0x21f),_0x5efef7)});if(_0x5047ab==null||_0x5047ab===![])return;}this[_0x58f6c9(0x217)](),this[_0x58f6c9(0x17d)]();let _0x179ae0=_0x22cae2[_0x58f6c9(0x20f)](_0x4d9800=>this[_0x58f6c9(0x22e)][_0x4d9800]);_0x179ae0=await this['_pFnPostProcessEntries'](_0x179ae0);if(_0x179ae0==null)return;await this[_0x58f6c9(0x199)]();const _0x238ca0=_0x179ae0[_0x58f6c9(0x20f)](_0x8aecc4=>{const _0x2cb8a1=_0x58f6c9;return new Util[(_0x2cb8a1(0x1bc))]((_0x8aecc4[_0x2cb8a1(0x232)]||_0x8aecc4[_0x2cb8a1(0x129)])+'\x20('+Parser[_0x2cb8a1(0x1d3)](_0x8aecc4[_0x2cb8a1(0x1a8)])+')',()=>this[_0x2cb8a1(0x128)](_0x8aecc4));});await UtilApplications['pRunTasks'](_0x238ca0);if(!this[_0x58f6c9(0x211)])game[this['_gameProp']]['render']();this[_0x58f6c9(0x15d)](),this[_0x58f6c9(0x147)]['prop'](_0x58f6c9(0x1f5),![]),this['_list'][_0x58f6c9(0x1b0)][_0x58f6c9(0x1c8)](_0x17ae27=>{const _0x48d1d1=_0x58f6c9;_0x17ae27[_0x48d1d1(0x144)]['cbSel'][_0x48d1d1(0x1f5)]=![],_0x17ae27[_0x48d1d1(0x1ad)][_0x48d1d1(0x20e)][_0x48d1d1(0x1d8)](_0x48d1d1(0x15c));});}[_0x3a10b1(0x18a)](){const _0x3cc5ec=_0x3a10b1;return this[_0x3cc5ec(0x201)]=new List({'$iptSearch':this[_0x3cc5ec(0x149)],'$wrpList':this[_0x3cc5ec(0x17a)],'fnSort':this['_fnListSort']}),SortUtil[_0x3cc5ec(0x233)](this[_0x3cc5ec(0x19c)],this[_0x3cc5ec(0x201)]),this[_0x3cc5ec(0x18c)][_0x3cc5ec(0x1fb)]({'$iptSearch':this['_$iptSearch'],'$btnReset':this[_0x3cc5ec(0x15f)],'$btnOpen':this[_0x3cc5ec(0x18d)],'$btnToggleSummaryHidden':this[_0x3cc5ec(0x175)],'$wrpMiniPills':this[_0x3cc5ec(0x168)],'namespace':this[_0x3cc5ec(0x189)]()})['then'](async()=>{const _0x4922a3=_0x3cc5ec;this[_0x4922a3(0x22e)][_0x4922a3(0x1c8)](_0x522695=>this[_0x4922a3(0x18c)]['addToFilters'](_0x522695)),this[_0x4922a3(0x185)](),this[_0x4922a3(0x201)][_0x4922a3(0x197)](),this[_0x4922a3(0x18c)]['filterBox'][_0x4922a3(0x170)](),await this[_0x4922a3(0x1e3)](),this[_0x4922a3(0x18c)]['filterBox']['on'](FilterBox[_0x4922a3(0x142)],this['_handleFilterChange'][_0x4922a3(0x1f8)](this)),this['_handleFilterChange']();});}async[_0x3a10b1(0x1e3)](){}[_0x3a10b1(0x1f1)](){const _0x9122a5=_0x3a10b1;this[_0x9122a5(0x201)]=new List({'$iptSearch':this[_0x9122a5(0x149)],'$wrpList':this[_0x9122a5(0x17a)],'fnSort':this[_0x9122a5(0x14d)]}),SortUtil['initBtnSortHandlers'](this[_0x9122a5(0x19c)],this[_0x9122a5(0x201)]),this['_activateListeners_absorbListItems'](),this[_0x9122a5(0x201)][_0x9122a5(0x197)]();}['_activateListeners_absorbListItems'](){const _0x35e091=_0x3a10b1;this[_0x35e091(0x201)][_0x35e091(0x228)](this['_content'],{'fnGetName':_0x2c0d63=>_0x2c0d63[_0x35e091(0x129)],'fnGetValues':_0x2b9e8e=>({'source':_0x2b9e8e[_0x35e091(0x1a8)],'hash':UrlUtil[_0x35e091(0x20a)][this[_0x35e091(0x131)]](_0x2b9e8e)}),'fnGetData':UtilList2[_0x35e091(0x22d)],'fnBindListeners':_0x4d16a3=>this[_0x35e091(0x1da)]?UtilList2[_0x35e091(0x19b)](this['_list'],_0x4d16a3):UtilList2[_0x35e091(0x1c2)](this[_0x35e091(0x201)],_0x4d16a3)});}['_handleFilterChange'](){const _0x92f5b1=_0x3a10b1,_0x33d409=this[_0x92f5b1(0x18c)][_0x92f5b1(0x1c4)][_0x92f5b1(0x12e)]();this['_list'][_0x92f5b1(0x179)](_0x4fe16f=>this[_0x92f5b1(0x18c)][_0x92f5b1(0x1c7)](_0x33d409,this[_0x92f5b1(0x22e)][_0x4fe16f['ix']]));}async[_0x3a10b1(0x128)](){const _0x5d59e5=_0x3a10b1;throw new Error(_0x5d59e5(0x188));}['getFolderPathMeta'](){const _0x3f8c3e=_0x3a10b1;return{'alpha':{'label':_0x3f8c3e(0x12f),'getter':_0x262512=>_0x262512['name'][_0x3f8c3e(0x145)](0x0,0x1)['toUpperCase']()},'source':{'label':_0x3f8c3e(0x1dc),'getter':_0x120d72=>Parser[_0x3f8c3e(0x1a6)](_0x120d72[_0x3f8c3e(0x1a8)])},'sourceAbbreviation':{'label':'Source\x20(Abbreviation)','getter':_0x3a492e=>Parser[_0x3f8c3e(0x1d3)](_0x3a492e['source'])}};}async[_0x3a10b1(0x1a0)](_0xd53f40,_0x599e6f){const _0x16e8d3=_0x3a10b1;_0x599e6f=_0x599e6f||{};const _0x540b56=_0x599e6f['folderType']||this[_0x16e8d3(0x1b9)];if(!this[_0x16e8d3(0x1e2)][_0x16e8d3(0x226)]||!_0x540b56)return null;const _0x46a274=this[_0x16e8d3(0x177)](),_0x5c6705=this[_0x16e8d3(0x1e2)][_0x16e8d3(0x179)](_0x4d05ae=>_0x4d05ae[_0x16e8d3(0x166)]?_0x4d05ae[_0x16e8d3(0x1b7)]&&_0x4d05ae[_0x16e8d3(0x1b7)][_0x16e8d3(0x1e4)]():_0x4d05ae[_0x16e8d3(0x139)])[_0x16e8d3(0x20f)](_0xfee310=>_0xfee310[_0x16e8d3(0x166)]?_0xfee310[_0x16e8d3(0x1b7)]:_0x46a274[_0xfee310[_0x16e8d3(0x139)]]['getter'](_0xd53f40)),_0x54d84b=[],_0x34908b=(_0x5b1a25,_0x584bda)=>{const _0xb4f90c=_0x16e8d3,_0x5d91c6=Folder['collection'][_0xb4f90c(0x12c)][_0xb4f90c(0x179)](_0x416548=>{const _0x43b694=_0xb4f90c,_0x9eb045=_0x416548['data'][_0x43b694(0x129)]===_0x5b1a25,_0x1c5186=_0x416548[_0x43b694(0x144)]['type']===_0x540b56,_0x366fc2=_0x584bda?_0x416548[_0x43b694(0x144)][_0x43b694(0x133)]===_0x584bda:_0x416548[_0x43b694(0x144)][_0x43b694(0x133)]==null;return _0x9eb045&&_0x1c5186&&_0x366fc2;});if(_0x5d91c6[_0xb4f90c(0x226)]>0x1){const _0x4e2347=_0xb4f90c(0x22b)+_0x54d84b[_0xb4f90c(0x20f)](_0x2ae62f=>_0x2ae62f['data'][_0xb4f90c(0x129)])['join'](_0xb4f90c(0x1bb));ui[_0xb4f90c(0x1f6)][_0xb4f90c(0x205)](_0x4e2347);throw new Error(_0x4e2347);}else{if(_0x5d91c6[_0xb4f90c(0x226)])return _0x5d91c6[0x0];else return null;}};for(let _0x3e1471=0x0;_0x3e1471<_0x5c6705[_0x16e8d3(0x226)];++_0x3e1471){const _0x20c7a5=_0x5c6705[_0x3e1471],_0x47713a=_0x3e1471===_0x5c6705[_0x16e8d3(0x226)]-0x1,_0x15fcd4=_0x54d84b[_0x16e8d3(0x226)]?_0x54d84b[_0x16e8d3(0x1d2)]()[_0x16e8d3(0x1cf)]||_0x54d84b[_0x16e8d3(0x1d2)]()[_0x16e8d3(0x144)][_0x16e8d3(0x1cf)]:null,_0x2a544f=_0x34908b(_0x20c7a5,_0x15fcd4);if(_0x2a544f)_0x54d84b[_0x16e8d3(0x146)](_0x2a544f);else{const _0x356b66={'name':_0x20c7a5,'parent':_0x15fcd4,'type':_0x540b56};if(_0x47713a&&_0x599e6f[_0x16e8d3(0x176)])_0x356b66[_0x16e8d3(0x176)]=_0x599e6f[_0x16e8d3(0x176)];const _0xe376c3=await Folder['create'](_0x356b66,{});_0x54d84b[_0x16e8d3(0x146)](_0xe376c3);}}if(_0x54d84b[_0x16e8d3(0x226)])return _0x54d84b[_0x16e8d3(0x1d2)]()[_0x16e8d3(0x1cf)];return null;}async[_0x3a10b1(0x1f3)](){const _0x36babf=_0x3a10b1;await this[_0x36babf(0x178)]();const _0x47e4ef=new FolderPathBuilderApp(this);_0x47e4ef['render'](!![]);}[_0x3a10b1(0x140)](_0x1cc8dc){const _0x3fa538=_0x3a10b1;return Vetools[_0x3fa538(0x140)](_0x1cc8dc,this[_0x3fa538(0x174)]);}[_0x3a10b1(0x189)](){const _0x2454a7=_0x3a10b1;return _0x2454a7(0x137)+(this[_0x2454a7(0x21c)]||this['_props'][_0x2454a7(0x215)]('_'));}[_0x3a10b1(0x182)](_0x30564c){const _0x430854=_0x3a10b1;_0x30564c=_0x30564c||{};const _0x3f2cc7=_0x30564c[_0x430854(0x200)]||this[_0x430854(0x210)],_0x38d2f7=_0x3f2cc7===this['_gameProp']?this['_pack']:null;let _0x487c13=null;switch(_0x3f2cc7){case _0x430854(0x18b):case _0x430854(0x1b0):{if(!(_0x30564c['name']&&_0x30564c[_0x430854(0x1a8)]||_0x30564c[_0x430854(0x1d9)]))throw new Error('Either\x20\x22name\x22\x20and\x20\x22source\x22,\x20or\x20\x22entity\x22,\x20must\x20be\x20provided!');const _0x8ce6c7=(_0x30564c[_0x430854(0x129)]||DataConverter[_0x430854(0x13e)](_0x30564c[_0x430854(0x1d9)]))[_0x430854(0x1ff)]()[_0x430854(0x1e4)](),_0x288449=(_0x30564c[_0x430854(0x1a8)]||DataConverter[_0x430854(0x157)](_0x30564c['entity']))['toLowerCase']()['trim']();switch(_0x3f2cc7){case _0x430854(0x18b):{if(_0x38d2f7){const _0x150855=this['_getDuplicateMeta_getEntityKey']({'name':_0x8ce6c7,'source':_0x288449});_0x487c13=(this[_0x430854(0x1ca)]||{})[_0x150855];}else _0x487c13=game[_0x3f2cc7][_0x430854(0x1ea)](_0x45e301=>this[_0x430854(0x20d)][_0x430854(0x167)](_0x45e301)===_0x8ce6c7&&(!Config[_0x430854(0x19d)]('import',_0x430854(0x16b))||(MiscUtil['get'](_0x45e301,_0x430854(0x144),_0x430854(0x144),_0x430854(0x202),_0x430854(0x1a8))||'')[_0x430854(0x1ff)]()['trim']()===_0x288449));break;}case _0x430854(0x1b0):{if(_0x38d2f7){const _0x2b3efb=this['_getDuplicateMeta_getEntityKey']({'name':_0x8ce6c7,'source':_0x288449});_0x487c13=(this[_0x430854(0x1ca)]||{})[_0x2b3efb];}else _0x487c13=game[_0x3f2cc7][_0x430854(0x1ea)](_0x3beb5e=>this[_0x430854(0x20d)][_0x430854(0x167)](_0x3beb5e)===_0x8ce6c7&&(!Config[_0x430854(0x19d)](_0x430854(0x180),_0x430854(0x16b))||(MiscUtil[_0x430854(0x19d)](_0x3beb5e,_0x430854(0x144),_0x430854(0x144),'source')||'')[_0x430854(0x1ff)]()[_0x430854(0x1e4)]()===_0x288449));break;}}break;}case _0x430854(0x1e1):case _0x430854(0x21a):{const _0x1b5ab0=_0x30564c['name'][_0x430854(0x1ff)]()[_0x430854(0x1e4)]();if(_0x38d2f7){const _0x1de298=this[_0x430854(0x1f2)]({'name':_0x1b5ab0});_0x487c13=(this['_packCache']||{})[_0x1de298];}else _0x487c13=game[_0x3f2cc7][_0x430854(0x1ea)](_0x3e6e57=>this[_0x430854(0x20d)][_0x430854(0x167)](_0x3e6e57)===_0x1b5ab0);break;}default:throw new Error('Game\x20property\x20\x22'+_0x3f2cc7+_0x430854(0x1b3));}const _0x1d5183=Config['get'](_0x430854(0x180),'deduplicationMode');return{'mode':_0x1d5183,'existing':_0x487c13,'isSkip':_0x1d5183===ConfigConsts[_0x430854(0x17f)]&&_0x487c13!=null,'isOverwrite':_0x1d5183===ConfigConsts[_0x430854(0x236)]&&_0x487c13!=null};}static[_0x3a10b1(0x167)](_0x501318){const _0x3b9133=_0x3a10b1;let _0x2179f0=(MiscUtil[_0x3b9133(0x19d)](_0x501318,_0x3b9133(0x144),_0x3b9133(0x129))||'')[_0x3b9133(0x1ff)]()['trim']();return _0x2179f0=_0x2179f0[_0x3b9133(0x1d1)](/\[[^\]]+]/g,'')[_0x3b9133(0x1e4)](),_0x2179f0;}['_getDuplicateMeta_getEntityKey'](_0x57d9fd){const _0x108914=_0x3a10b1;return Object[_0x108914(0x155)](_0x57d9fd)[_0x108914(0x1a7)](([_0x36f04a],[_0x106ee3])=>SortUtil['ascSortLower'](_0x36f04a,_0x106ee3))[_0x108914(0x20f)](([_0x696acf,_0xcb7f0a])=>(_0x696acf+'='+(''+_0xcb7f0a)['trim']())[_0x108914(0x1ff)]())['join']('::');}async[_0x3a10b1(0x199)](){const _0xb893e6=_0x3a10b1;if(!this[_0xb893e6(0x1b1)]||Config[_0xb893e6(0x19d)](_0xb893e6(0x180),_0xb893e6(0x207))===ConfigConsts[_0xb893e6(0x1f0)])return;this[_0xb893e6(0x1ca)]={};const _0x12295a=await UtilCompendium[_0xb893e6(0x153)](this['_pack'],!![]);_0x12295a[_0xb893e6(0x1c8)](_0x12e0d4=>{const _0x5bc211=_0xb893e6;switch(this[_0x5bc211(0x210)]){case _0x5bc211(0x18b):{const _0x3474f8=(MiscUtil[_0x5bc211(0x19d)](_0x12e0d4,_0x5bc211(0x144),'name')||'')[_0x5bc211(0x1ff)]()[_0x5bc211(0x1e4)](),_0x15079b=(MiscUtil[_0x5bc211(0x19d)](_0x12e0d4,_0x5bc211(0x144),_0x5bc211(0x144),'details',_0x5bc211(0x1a8))||'')[_0x5bc211(0x1ff)]()['trim'](),_0x24d9e3=this[_0x5bc211(0x1f2)]({'name':_0x3474f8,'source':_0x15079b});this[_0x5bc211(0x1ca)][_0x24d9e3]=_0x12e0d4;break;}case _0x5bc211(0x1b0):{const _0x29e16a=(MiscUtil['get'](_0x12e0d4,_0x5bc211(0x144),'name')||'')['toLowerCase']()[_0x5bc211(0x1e4)](),_0x5636eb=(MiscUtil[_0x5bc211(0x19d)](_0x12e0d4,_0x5bc211(0x144),'data','source')||'')['toLowerCase']()[_0x5bc211(0x1e4)](),_0x8e8c44=this[_0x5bc211(0x1f2)]({'name':_0x29e16a,'source':_0x5636eb});this['_packCache'][_0x8e8c44]=_0x12e0d4;break;}case _0x5bc211(0x1e1):case _0x5bc211(0x21a):{const _0x25f3e8=(MiscUtil[_0x5bc211(0x19d)](_0x12e0d4,'data',_0x5bc211(0x129))||'')[_0x5bc211(0x1ff)]()[_0x5bc211(0x1e4)](),_0x363d4f=this[_0x5bc211(0x1f2)]({'name':_0x25f3e8});this[_0x5bc211(0x1ca)][_0x363d4f]=_0x12e0d4;break;}default:throw new Error('Game\x20property\x20\x22'+this[_0x5bc211(0x210)]+_0x5bc211(0x1b3));}});}[_0x3a10b1(0x15d)](){this['_packCache']=null;}async[_0x3a10b1(0x214)](_0x195912,_0x5f3dcf){const _0x4c7991=_0x3a10b1,_0x1aa93e=MiscUtil[_0x4c7991(0x1ee)](_0x195912[_0x4c7991(0x13c)][_0x4c7991(0x144)]);return Object[_0x4c7991(0x1ac)](_0x1aa93e,_0x5f3dcf),await this[_0x4c7991(0x1b1)][_0x4c7991(0x1a3)](MiscUtil[_0x4c7991(0x1ee)](_0x1aa93e)),{'imported':_0x195912[_0x4c7991(0x13c)],'status':UtilApplications[_0x4c7991(0x196)]};}async[_0x3a10b1(0x231)](_0x5d1e6b,_0x3637da){const _0x379e22=_0x3a10b1;return await _0x5d1e6b[_0x379e22(0x13c)][_0x379e22(0x227)](_0x3637da),{'imported':_0x5d1e6b[_0x379e22(0x13c)],'status':UtilApplications[_0x379e22(0x196)]};}async[_0x3a10b1(0x1cb)](_0xa5d675,_0x3e2d62,_0x34102e){const _0x3215ad=_0x3a10b1,_0x440285=await this[_0x3215ad(0x17b)](_0xa5d675,{'isAddDataFlags':!![],'filterValues':_0x3e2d62['filterValues'],..._0x34102e,'isAddPermission':!![]}),_0x3b4157=this[_0x3215ad(0x182)]({'name':_0x440285[_0x3215ad(0x129)],'source':MiscUtil['get'](_0x440285,_0x3215ad(0x144),_0x3215ad(0x1a8))});if(_0x3b4157[_0x3215ad(0x234)])return{'existing':_0x3b4157[_0x3215ad(0x13c)],'status':UtilApplications[_0x3215ad(0x198)]};let _0x4b5436;switch(this[_0x3215ad(0x210)]){case _0x3215ad(0x1b0):_0x4b5436=Item;break;case _0x3215ad(0x1e1):_0x4b5436=JournalEntry;break;case _0x3215ad(0x21a):_0x4b5436=RollTable;break;}if(_0x3e2d62[_0x3215ad(0x13d)]){const _0x434271=await _0x4b5436[_0x3215ad(0x150)](_0x440285,{'renderSheet':!![],'temporary':!![]});return{'imported':_0x434271,'status':UtilApplications[_0x3215ad(0x13b)]};}else{if(this[_0x3215ad(0x1b1)]){if(_0x3b4157[_0x3215ad(0x213)])return this[_0x3215ad(0x214)](_0x3b4157,_0x440285);const _0x359541=new _0x4b5436(_0x440285);return await this['_pack']['importEntity'](_0x359541),{'imported':_0x359541,'status':UtilApplications[_0x3215ad(0x13b)]};}else{if(_0x3b4157[_0x3215ad(0x213)])return this[_0x3215ad(0x231)](_0x3b4157,_0x440285);const _0x1aa7bb=await this[_0x3215ad(0x1a0)](_0xa5d675);if(_0x1aa7bb)_0x440285[_0x3215ad(0x183)]=_0x1aa7bb;const _0x66c96e=await _0x4b5436[_0x3215ad(0x150)](_0x440285,{'renderSheet':![],'temporary':![]});return await game[this['_gameProp']][_0x3215ad(0x1be)](_0x66c96e),{'imported':_0x66c96e,'status':UtilApplications[_0x3215ad(0x13b)]};}}}['_pImportEntry_pImportToDirectoryGeneric_pGetImportableData'](_0x716d1c,_0x433515){const _0x48708a=_0x3a10b1;throw new Error(_0x48708a(0x188));}async['pGetChooseImporterUserDataForSources'](){}}ImportList[_0x3a10b1(0x14f)]='ImportList.folderKeyPathSpec';class FolderPathBuilderApp extends Application{constructor(_0x451cd7){const _0x665b11=_0x3a10b1;super({'width':0x1e0,'height':0x1e0,'title':_0x665b11(0x23b),'template':SharedConsts[_0x665b11(0x13a)]+_0x665b11(0x1e8),'resizable':!![]}),this[_0x665b11(0x169)]=new FolderPathBuilder(_0x451cd7);}['activateListeners'](_0x2058de){const _0x514344=_0x3a10b1;super[_0x514344(0x1f7)](_0x2058de),this['_comp'][_0x514344(0x170)](_0x2058de);}}const MixinUserChooseImporter=_0x1b130e=>class extends _0x1b130e{constructor(..._0x49814f){const _0x43f0c4=_0x3a10b1;super(..._0x49814f),this[_0x43f0c4(0x1da)]=!![],this['_isResolveOnClose']=!![],this['_fnResolve']=null,this[_0x43f0c4(0x1b4)]=null,this['pResult']=null;}async[_0x3a10b1(0x223)](){const _0x214a82=_0x3a10b1;if(!this['_list'])return;try{const _0x423782=this['_list']['items'][_0x214a82(0x1ea)](_0x59084a=>_0x59084a[_0x214a82(0x144)][_0x214a82(0x184)][_0x214a82(0x1f5)]);if(!_0x423782)return ui[_0x214a82(0x1f6)][_0x214a82(0x1cd)]('Please\x20select\x20something\x20from\x20the\x20list!');this[_0x214a82(0x208)]=![],this[_0x214a82(0x217)]();let _0x3b9b47=[this[_0x214a82(0x22e)][_0x423782['ix']]];_0x3b9b47=await this[_0x214a82(0x22a)](_0x3b9b47);if(_0x3b9b47==null)return;const _0x18ff80=await this[_0x214a82(0x128)](_0x3b9b47[0x0],{'isTemp':!![],'isDataOnly':!![]});if(_0x18ff80[_0x214a82(0x12d)]===UtilApplications['TASK_EXIT_COMPLETE_DATA_ONLY'])this[_0x214a82(0x1fd)](_0x18ff80[_0x214a82(0x152)]);else this['_fnReject'](new Error(_0x214a82(0x165)+_0x18ff80[_0x214a82(0x12d)][_0x214a82(0x130)]()+'\x22'));_0x423782[_0x214a82(0x144)][_0x214a82(0x184)][_0x214a82(0x1f5)]=![],_0x423782[_0x214a82(0x1ad)][_0x214a82(0x20e)]['remove'](_0x214a82(0x15c));}catch(_0x4e8147){this['_fnReject'](_0x4e8147);}}[_0x3a10b1(0x15e)](_0x5f31e3,_0x35725){const _0x2e3c70=_0x3a10b1;_0x35725[_0x2e3c70(0x164)](_0x2e3c70(0x159),async _0x3d7f71=>{const _0x2ae54b=_0x2e3c70;_0x3d7f71[_0x2ae54b(0x156)](),_0x3d7f71[_0x2ae54b(0x171)]();try{let _0x180d32=[this[_0x2ae54b(0x22e)][_0x5f31e3['ix']]];_0x180d32=await this[_0x2ae54b(0x22a)](_0x180d32);if(_0x180d32==null)return;const _0xdc34f0=await this[_0x2ae54b(0x128)](_0x180d32[0x0],{'isTemp':!![],'isDataOnly':!![]});if(_0xdc34f0[_0x2ae54b(0x12d)]===UtilApplications[_0x2ae54b(0x19a)])this[_0x2ae54b(0x1fd)](_0xdc34f0[_0x2ae54b(0x152)]);else this[_0x2ae54b(0x1b4)](new Error(_0x2ae54b(0x165)+_0xdc34f0[_0x2ae54b(0x12d)]['toString']()+'\x22'));this[_0x2ae54b(0x217)]();}catch(_0x560241){this[_0x2ae54b(0x1b4)](_0x560241);}});}async[_0x3a10b1(0x217)](..._0x18d3b4){const _0x4070f8=_0x3a10b1;await super['close'](..._0x18d3b4);if(this[_0x4070f8(0x208)])this[_0x4070f8(0x1fd)](null);}async['pPreRender'](_0x207ab7){const _0x1a523c=_0x3a10b1;await super[_0x1a523c(0x16a)](_0x207ab7);if(!_0x207ab7)return;const {fnResolve:_0xe54188,fnReject:_0x34b824,pResult:_0x406407}=_0x207ab7;this[_0x1a523c(0x208)]=!![],this[_0x1a523c(0x1fd)]=_0xe54188,this[_0x1a523c(0x1b4)]=_0x34b824,this['pResult']=_0x406407;}static async[_0x3a10b1(0x12a)](_0x2b8408,_0x1e6fbd){const _0x2c3f07=_0x3a10b1,{ChooseImporter:_0x5af52a}=await import(_0x2c3f07(0x193)),_0x108aa7=new this({});await _0x108aa7[_0x2c3f07(0x1e9)]();let _0x386b7e=null,_0x226a60=null;const _0x50e503=new Promise((_0x76dbaa,_0x786870)=>{_0x386b7e=_0x76dbaa,_0x226a60=_0x786870;}),_0x3b2501=new _0x5af52a(null,{'mode':{..._0x2b8408,'importerInstance':_0x108aa7},'namespace':_0x1e6fbd,'isAlwaysCloseWindow':!![],'isTemp':!![],'isNoImport':!![],'importerPreRenderArgs':{'fnResolve':_0x386b7e,'fnReject':_0x226a60,'pResult':_0x50e503}});return _0x3b2501[_0x2c3f07(0x170)](!![]),_0x50e503;}};export{ImportList,MixinUserChooseImporter};