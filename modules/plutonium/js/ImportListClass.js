const _0x14c3=['_pImportSubclass_pImportToActor','last','RequiresEffects','_cntStartingSkillChoicesMutliclass','wis','pGetUserBoolean',').\x20Would\x20you\x20like\x20to\x20import\x20level','getItemEffects','spellHashToItemIdMap','_gameProp','getAbilityModNumber','pAddActorEffects','pGetWithCache','dexBonus','_pAddLoadedFeature','/template/ImportListClassAbilityScoreIncrease.handlebars','<div\x20class=\x22col-2\x20text-center\x22></div>','88039zKehwQ','set','getCurrentAbilityScores','ability\x20score\x20improvement','(Create\x20New\x20Feature)','_pImportEntry_pGetFolderId','isToken','_getDefaultState','wisBonus','DATA_URL_OPTIONALFEATURES','value','get','sortDir','Import\x20Level\x20','_list','activateSidebarTab','_render_ability','length','pGetClassSubclassFeatureAdditionalEntities','isSkip','dataType','LEVEL_XP_REQUIRED','getMaxCasterProgression','_getFeatData','hash','Yes','currency','_pImportEntry_pDoUpdateCharacter_pPopulateLevelOneProficienciesAndEquipment','_$wrpBtnsSort','createEmbeddedEntity','Unknown\x20proficiency\x20import\x20mode\x20\x22','addEventListener','classSubclassRequiresEffects','Feat','_addHookBase','<button\x20class=\x22btn\x20btn-primary\x20btn-5et\x22>Confirm</button>','getSourceWithPagePart','Configure\x20and\x20Open\x20List','3673hCLxxl','\x22\x20(from\x20\x22','_comp','Import\x20Class?','add','subclassName','sourceLong','_pImportSubclass_pImportToItems','doAbsorbItems','isStubSubclass','isHpAvailable','pGetUserInput','/media/icon/laurels.svg','Task','link','notifications','TASK_EXIT_COMPLETE_UPDATE_OVERWRITE','pGetHomebrewSources','classFeature','intBonus','render','MODULE_NAME_FAKE','1470906sepShS','classList','$getHoverContent_stats','applyFormDataToActorUpdate','Champion','isStubClass','then','ability','languages','You\x20have\x20selected\x20a\x20subclass\x20to\x20import,\x20but\x20have\x20no\x20class\x20levels.\x20Would\x20you\x20like\x20to\x20import\x20the\x20class\x20too?','<div></div>','subclasses','section','page','_$iptSearch','_pImportEntry_pDoUpdateCharacter_pPopulateMulticlassProficiencies','isTemp','_$btnReset','postItemActorUpdate','1ZZBdlB','(Unnamed\x20class)','_pImportClass_pGetProficiencyImportMode','_pGetSelectedLevelIndices','rows','getExistingProficienciesFvttSavingThrows','join','Fighter','127949MEaxqS','Ability\x20Score\x20Improvementâ€”Level\x20','split','className','getMaxWindowHeight','toDisplay','getData','subclass','_pGetUserClassItem','SRD','_titleSearch','empty','isRadio','pGetUserChoice','activateListeners','subRows','log','pFillActorSkillData','content','entries','error','URL_TO_HASH_BUILDER','Base/Unarmored\x20AC','MODE_DO_NOT_INCREASE','preparedSpells','getCasterProgressionMeta','featData','pGetSubclassItem','_pValidateUserLevelIndices','test','1XQEolN','_ancestorSubclassName','getMappedCasterType','forEach','getCasterProgression','cls','_pImportEntry_pFillItemArrayFeatures','total','prof','getTotalClassLevels','push','sourceJsonToAbv','sortName','con','name','warn','ImportEntryOpts','$iptBonus','sourceJsonToColor','includes','Select\x20Source','10\x20+\x20@abilities.dex.mod','_ancestorClassName','_foundryAllFeatures','_reject','getUnarmoredDefenseFormula','_getFilterNamespace','update','PG_FEATS','Upload\x20File','_state','_content','doApplyFilterToFeatureEntries','armorProf','slice','subclassFeatures','_pImportClass_pImportToItems','actorUpdate','<button\x20class=\x22btn\x20btn-default\x20mr-3\x22>Skip</button>','optionalfeature','desc','_$btnRun','details','Unhandled\x20Hit\x20Points\x20increase\x20mode\x20\x22','items','20xrXcUf','classFeatures','EVNT_VALCHANGE','getOrSet','targetLevel','_fnClose','toggleVe','isStreamerMode','sourceJsonToFull','close','addPlugin','attributes','<p>Do\x20you\x20want\x20to\x20populate\x20the\x20spellbook\x20for\x20this\x20class\x20(for\x20class\x20level','_pImportClass_pImportToActor','some','numLevelsPrev','_activateListeners_initRunButton','DataSourceUrl','_pImportEntry_pFinalise','floor','toLowerCase','updateEmbeddedEntity','flat','244TgzRwr','_pack','dnd5e','_pImportClass_pGetHpImportMode','_pImportEntry_pFillItemArrayAdditionalSpells','ACTIVE_EFFECT_MODES','pGetClasses','trim','DataSourceSpecial','description','constructor','init','_pImportEntry_pGetCurLevelFillClassData','entity','LoadedRequiresEffects','UPGRADE','insert','_pPostLoad','_foundryHpIncreaseMode','OwnedItem','chaBonus','pGetUserEnum','_pImportEntry_pDoUpdateCharacter_pPopulateProficienciesFrom','_pImportEntry_pFillItemArrayPredefinedFeatures','ExistingFeatureChecker','DND5E','hpIncreaseMode','pFillActorLanguageData','weaponProf','isOverwrite','origin','importEntity','DataSourceFile','ticker','full','ele','_pUserInput','fnBindListeners','getActorSpell','sort','getCleanEntityName','pHasClassSubclassFeatureSideLoadedEffects','isImportDescription','withUnpatchedDiceRendering','levels','Unarmored\x20Defense','getImportableFeatures','_id','strBonus','sheet','_handleFilterChange','info','pSerialAwaitMap','ixSub','pPostLoad','active','hover','flags','pImportSubclass','20337kuxXTr','_pHandleAbilityScoreIncrease','addImportFeature','Importing\x20class\x20\x22','faces','source','create','proficienciesGained','Open\x20List','getAbilityModifier','_pImportEntry_handleConDifference','Import\x20Only\x20Subclass','pGetRenderedClassTable','_pDoResolve','multiclassing','addToFilters','MODE_NONE','Importing\x20subclass\x20\x22','_activateListeners_pInitFilteredList','absorbFnBindListeners','isCharactermancer','pGetClassSubclassFeatureItem','casterProgression','12GIBhXZ','_pImportEntry_pHandleFeatures','doHookSpellLinkRender','Unhandled\x20sub-feature\x20type\x20\x22','Feats',')?</p>','catch','_pImportPreparedCasterSpells','_isDataEntered','_pImportEntry_pDoUpdateExistingPackEntity','_pImportEntry_pDoUpdateExistingDirectoryEntity','isDataEntered','TASK_EXIT_COMPLETE','_getExistingClassItems','pRunTasks','_pageFilter','max','isIncludesLevelOne','</h3>','dex','spellcastingAbility','loadedsRequiresEffects','features','getActorSpellItemOpts','Please\x20select\x20a\x20feat!','SOURCE_TYP_CUSTOM','_render_feat','HP\x20Increase','jackOfAllTrades','values','skills','_getDuplicateMeta','CASTER_TYPE_TO_PROGRESSION','importClass','getImportedEmbed','filterValues','select','isAddBaseAcActiveEffect','UserChoose','toolProf','pact','class_subclass','\x20via\x20Class\x20Importer','Please\x20select\x20something\x20to\x20import!','_$cbAll','conInitial','numLevels','_foundryConFinal','requiresEffects','pGetSources','_foundryStartingProficiencyMode','prop','Component','classSource','_pAddLoadedFeature_pDddLinkedActiveEffects_classSubclassFeature','veapp__msg-error','toUpperCase','_getClassFlags','Import\x20Lower\x20Levels?','\x20Levels\x20To','$getIptNumber','_$btnToggleSummary','loaded','effects','spells','spacer','spell','type','_ancestorType','Custom\x20URL','_getActorUpdate','_titleButtonRun','Select\x20Existing\x20Feature\x20to\x20Import\x20','SOURCE_TYP_BREW','pWaitForUserInput','5etools','You\x20have\x20selected\x20a\x20single\x20level\x20to\x20import\x20(level\x20','map','int','_pImportEntry_setActorFlags','pInitFilterBox','<div\x20class=\x22text-center\x22\x20title=\x22Remaining\x22></div>','toMessage','MODULE_LOCATION','proficiencyImportMode','actor','_resolve','_AE_LABEL_BASE_AC','removePlugin','TASK_EXIT_SKIPPED_DUPLICATE','Import\x20Classes','SYM_UI_SKIP','\x20SOURCE\x20','text','str','min','AbilityScoreIncrease','filterBox','find','conBonus','folder','effect','isCancelled','preCreateOwnedItem','pInit','traits','filter','number','click','Monk','bind','startingEquipment','<button\x20class=\x22btn\x20btn-default\x20btn-5et\x20w-100\x20mr-2\x22>Choose\x20Feat</button>','$row','<button\x20class=\x22btn\x20btn-primary\x20mr-2\x22>Confirm</button>','fnGetData','_$bntFilter','SOURCE_TYP_OFFICIAL_ALL','getFilteredFeatures','Item','itemData','list-multi-selected','pAddActorItems','5etools-classes','getValues','curLevel','level','Populate\x20Spellbook','chosenProficiencies','reduce','change','_importOpts','pMutActorUpdateClassSubclassFeatureItem','remove','_foundrySelectedLevelIndices','_doMergeExistingSkillData','pMutActorUpdateOptionalFeature','_$wrpMiniPills','checked','70wABJxO','fluff','TASK_EXIT_CANCELLED','firstElementChild','You\x20can\x27t\x20increase\x20an\x20ability\x20score\x20above\x2020\x20using\x20this\x20feature.','itemsToUpdate','_pImportEntry_getApproxPreviousMaxLevel','data.attributes.ac.value','feat','html','_fMisc','553217ZQbFkp','reliableTalent','_actor','keys','ClassSubclassRequiresEffects','getNameWithSourcePart','cha','<div\x20class=\x22flex-col\x20w-100\x20h-100\x22></div>','title','pImportClass','Please\x20enter\x20a\x20combination\x20of\x20ability\x20score\x20changes\x20which\x20adds\x20up\x20to\x20two!','isClassImport','Import\x20Class\x20and\x20Subclass','data','MODE_PRIMARY','contains','PG_SPELLS','mode','languageProficiencies','toggleClass','_pImportEntry_pDoUpdateCharacter','46708wXlSbK','formDataEquipment','custom','getBaseAbilityScores','sourceClassName','pct','absorbFnGetData','MODE_MULTICLASS','tglSel','getGenericEffect','class','ascSortLower','_cachedData','copy'];const _0x2eef=function(_0xf1bc08,_0x4f3960){_0xf1bc08=_0xf1bc08-0xf2;let _0x14c325=_0x14c3[_0xf1bc08];return _0x14c325;};const _0x182f4b=_0x2eef;(function(_0x331681,_0x312ef2){const _0x3a5da1=_0x2eef;while(!![]){try{const _0x55826b=parseInt(_0x3a5da1(0x17b))*parseInt(_0x3a5da1(0x20e))+parseInt(_0x3a5da1(0x1f7))*parseInt(_0x3a5da1(0x136))+parseInt(_0x3a5da1(0x260))*-parseInt(_0x3a5da1(0x1ac))+-parseInt(_0x3a5da1(0x121))*-parseInt(_0x3a5da1(0x1a4))+parseInt(_0x3a5da1(0x155))+parseInt(_0x3a5da1(0x1ca))*-parseInt(_0x3a5da1(0x191))+-parseInt(_0x3a5da1(0x249))*-parseInt(_0x3a5da1(0x116));if(_0x55826b===_0x312ef2)break;else _0x331681['push'](_0x331681['shift']());}catch(_0x443a67){_0x331681['push'](_0x331681['shift']());}}}(_0x14c3,0xd905c));import{Vetools}from'./Vetools.js';import{LGT,Util}from'./Util.js';import{DataConverter}from'./DataConverter.js';import{DataConverterSpell}from'./DataConverterSpell.js';import{DataConverterClass}from'./DataConverterClass.js';import{UtilActors}from'./UtilActors.js';import{UtilApplications}from'./UtilApplications.js';import{SharedConsts}from'../shared/SharedConsts.js';import{Config}from'./Config.js';import{UtilList2}from'./UtilList2.js';import{DataConverterOptionalfeature}from'./DataConverterOptionalfeature.js';import{ImportListFeat}from'./ImportListFeat.js';import{ImportListCharacter}from'./ImportListCharacter.js';import{Charactermancer_Class_FeatureOptionsSelect,Charactermancer_Class_HpIncreaseModeSelect,Charactermancer_Class_LevelSelect,Charactermancer_Class_ProficiencyImportModeSelect,Charactermancer_Class_StartingProficiencies,Charactermancer_Class_Util,PageFilterClassesFoundry}from'./UtilCharactermancerClass.js';import{Charactermancer_StartingEquipment}from'./UtilCharactermancerEquipment.js';import{Charactermancer_AdditionalSpellsSelect}from'./UtilCharactermancerAdditionalSpells.js';import{UtilDataSource}from'./UtilDataSource.js';import{UtilActiveEffects}from'./UtilActiveEffects.js';import{Charactermancer_Util}from'./UtilCharactermancer.js';import{UtilCompendium}from'./UtilCompendium.js';class ImportListClass extends ImportListCharacter{static[_0x182f4b(0x219)](){const _0x38189d=_0x182f4b;Hooks['on'](_0x38189d(0xf2),(_0x22fb5b,_0x3f5abc)=>{const _0x413836=_0x38189d,_0x33fe18=_0x3f5abc[_0x413836(0x247)]?.[SharedConsts[_0x413836(0x190)]]||_0x3f5abc[_0x413836(0x247)]?.[SharedConsts['MODULE_NAME']];if(!_0x33fe18||!_0x33fe18?.[_0x413836(0x12e)]?.[_0x413836(0x140)])return;const _0x55ffb4=_0x33fe18[_0x413836(0x12e)][_0x413836(0x140)],_0x42ebf2=_0x33fe18[_0x413836(0x12e)][_0x413836(0x1b3)];return(async()=>{const _0x496d91=_0x413836,_0x47413f=new ImportListClass({'actor':_0x22fb5b});await _0x47413f[_0x496d91(0xf3)](),_0x42ebf2?await _0x47413f['pImportSubclass'](_0x55ffb4,_0x42ebf2,{'filterValues':_0x33fe18['filterValues']}):await _0x47413f[_0x496d91(0x12a)](_0x55ffb4,{'filterValues':_0x33fe18['filterValues']});})()[_0x413836(0x197)](()=>ui[_0x413836(0x18a)][_0x413836(0x241)]('Imported\x20\x22'+_0x55ffb4['name']+'\x22'+(_0x42ebf2?'\x20('+_0x42ebf2['name']+')':'')+_0x413836(0x28a)))[_0x413836(0x266)](_0x2dae88=>{const _0x12f735=_0x413836;ui[_0x12f735(0x18a)]['error']('Failed\x20to\x20import\x20\x22'+_0x55ffb4[_0x12f735(0x1d8)]+'\x22'+(_0x42ebf2?'\x20('+_0x42ebf2['name']+')':'')+'!\x20'+VeCt['STR_SEE_CONSOLE']);throw _0x2dae88;}),![];});}constructor(_0x3c0074){const _0x251878=_0x182f4b;_0x3c0074=_0x3c0074||{},super({'title':_0x251878(0x2ba),'template':SharedConsts['MODULE_LOCATION']+'/template/ImportListClass.handlebars','height':Util[_0x251878(0x1b0)](),'resizable':!![]},_0x3c0074,{'namespace':_0x251878(0x289),'defaultFolderPath':['Classes'],'folderType':_0x251878(0x102),'sidebarTab':_0x251878(0x1f6),'gameProp':_0x251878(0x1f6),'pageFilter':new PageFilterClassesFoundry(),'isDedupable':!![]}),this[_0x251878(0x142)]=null;}set[_0x182f4b(0x1be)](_0x2a7f75){const _0x3d95dc=_0x182f4b;super[_0x3d95dc(0x1be)]=_0x2a7f75,this[_0x3d95dc(0x142)]=null;}static async[_0x182f4b(0x21f)](_0x43d347){const _0x4466fc=_0x182f4b,_0x3261b2=await PageFilterClassesFoundry[_0x4466fc(0x244)](_0x43d347),_0x36308e=await Vetools[_0x4466fc(0x150)](Vetools[_0x4466fc(0x15e)]);return Charactermancer_Class_Util['addFauxOptionalFeatureFeatures'](_0x3261b2,_0x36308e['optionalfeature']),_0x3261b2;}async[_0x182f4b(0x291)](){const _0x4444a1=_0x182f4b;return[new UtilDataSource[(_0x4444a1(0x216))](Config[_0x4444a1(0x160)]('ui',_0x4444a1(0x1fe))?_0x4444a1(0x1b5):_0x4444a1(0x2ab),Vetools[_0x4444a1(0x214)],{'cacheKey':_0x4444a1(0x106),'pPostLoad':this['constructor']['_pPostLoad']['bind'](this['constructor']),'filterTypes':[UtilDataSource[_0x4444a1(0x100)]],'isDefault':!![]}),new UtilDataSource['DataSourceUrl'](_0x4444a1(0x2a5),'',{'pPostLoad':this[_0x4444a1(0x218)][_0x4444a1(0x21f)][_0x4444a1(0xf9)](this[_0x4444a1(0x218)]),'filterTypes':[UtilDataSource[_0x4444a1(0x279)]]}),new UtilDataSource[(_0x4444a1(0x22e))](_0x4444a1(0x1e7),{'pPostLoad':this[_0x4444a1(0x218)]['_pPostLoad']['bind'](this['constructor']),'filterTypes':[UtilDataSource[_0x4444a1(0x279)]]}),...(await Vetools[_0x4444a1(0x18c)]('class','subclass'))['map'](({name:_0x5afbb1,url:_0x4c79c2})=>new UtilDataSource[(_0x4444a1(0x208))](_0x5afbb1,_0x4c79c2,{'pPostLoad':this[_0x4444a1(0x218)][_0x4444a1(0x21f)]['bind'](this[_0x4444a1(0x218)]),'filterTypes':[UtilDataSource[_0x4444a1(0x2a9)]]}))];}[_0x182f4b(0x1b2)](){const _0x318214=_0x182f4b;if(this[_0x318214(0x142)]&&this[_0x318214(0x142)]['isRadio']!==!!this[_0x318214(0x123)])this[_0x318214(0x142)]=null;this[_0x318214(0x142)]=this[_0x318214(0x142)]||{'titleButtonRun':this[_0x318214(0x2a7)],'titleSearch':this[_0x318214(0x1b6)],'rows':this['_content'][_0x318214(0x235)]((_0xaba4d9,_0x55a6ec)=>SortUtil['ascSortLower'](_0xaba4d9[_0x318214(0x1d8)],_0x55a6ec[_0x318214(0x1d8)])||SortUtil[_0x318214(0x141)](Parser[_0x318214(0x1ff)](_0xaba4d9[_0x318214(0x24e)]||SRC_PHB),Parser[_0x318214(0x1ff)](_0x55a6ec[_0x318214(0x24e)]||SRC_PHB)))['map']((_0x31ed7b,_0x4cc4a5)=>{const _0x36d945=_0x318214;return this[_0x36d945(0x26f)][_0x36d945(0x218)]['mutateForFilters'](_0x31ed7b),{'name':_0x31ed7b[_0x36d945(0x1d8)],'source':_0x31ed7b[_0x36d945(0x24e)],'sourceShort':Parser['sourceJsonToAbv'](_0x31ed7b[_0x36d945(0x24e)]),'sourceLong':Parser['sourceJsonToFull'](_0x31ed7b[_0x36d945(0x24e)]),'sourceClassName':Parser[_0x36d945(0x1dc)](_0x31ed7b[_0x36d945(0x24e)]),'ix':_0x4cc4a5,'disabled':!_0x31ed7b[_0x36d945(0x1f8)],'subRows':(_0x31ed7b[_0x36d945(0x19c)]||[])[_0x36d945(0x2ad)]((_0x56480e,_0x468924)=>({'name':_0x56480e[_0x36d945(0x1d8)],'source':_0x56480e[_0x36d945(0x24e)]||_0x31ed7b[_0x36d945(0x24e)],'sourceShort':Parser[_0x36d945(0x1d5)](_0x56480e[_0x36d945(0x24e)]||_0x31ed7b[_0x36d945(0x24e)]),'sourceLong':Parser['sourceJsonToFull'](_0x56480e[_0x36d945(0x24e)]||_0x31ed7b[_0x36d945(0x24e)]),'sourceClassName':Parser[_0x36d945(0x1dc)](_0x56480e['source']||_0x31ed7b[_0x36d945(0x24e)]),'ixSub':_0x468924}))};})};if(this[_0x318214(0x123)])this[_0x318214(0x142)][_0x318214(0x1b8)]=!![];return this[_0x318214(0x142)];}[_0x182f4b(0x207)](){const _0x556f18=_0x182f4b;this[_0x556f18(0x1f3)]['click'](async()=>{const _0x135fce=_0x556f18;if(!this[_0x135fce(0x163)])return;const _0x4d18ed=this[_0x135fce(0x123)]?this[_0x135fce(0x163)][_0x135fce(0x1f6)][_0x135fce(0xf5)](_0x543e49=>_0x543e49[_0x135fce(0x12e)]['tglSel']&&_0x543e49[_0x135fce(0x12e)][_0x135fce(0x13e)][_0x135fce(0x192)][_0x135fce(0x130)](_0x135fce(0x245)))[_0x135fce(0x2ad)](_0x4d01b3=>({'ix':_0x4d01b3[_0x135fce(0x27d)]['ix'],'ixSub':_0x4d01b3['values'][_0x135fce(0x243)]})):this[_0x135fce(0x163)][_0x135fce(0x1f6)]['filter'](_0x2b1388=>_0x2b1388[_0x135fce(0x12e)]['cbSel'][_0x135fce(0x115)])[_0x135fce(0x2ad)](_0x17eeb3=>({'ix':_0x17eeb3[_0x135fce(0x27d)]['ix'],'ixSub':_0x17eeb3[_0x135fce(0x27d)][_0x135fce(0x243)]}));if(!_0x4d18ed[_0x135fce(0x166)])return ui[_0x135fce(0x18a)][_0x135fce(0x1d9)](_0x135fce(0x28b));this[_0x135fce(0x200)](),this[_0x135fce(0x164)]();const _0x41515a=_0x4d18ed[_0x135fce(0x2ad)](({ix:_0x1b7c09,ixSub:_0xabb94d})=>{const _0x993e46=_0x135fce,_0xf8345c=MiscUtil[_0x993e46(0x143)](this[_0x993e46(0x1e9)][_0x1b7c09]);return{'ix':_0x1b7c09,'cls':_0xf8345c,'ixSub':_0xabb94d,'sc':_0xabb94d!=null?_0xf8345c[_0x993e46(0x19c)][_0xabb94d]:null};});_0x41515a['filter'](_0x2bebc4=>!_0x2bebc4['sc'])['forEach'](_0x509a8f=>_0x509a8f[_0x135fce(0x1cf)]['subclasses']=[]),_0x41515a[_0x135fce(0x235)]((_0x200a85,_0x53ceb6)=>!!_0x200a85['sc']-!!_0x53ceb6['sc']);const _0x70a9c9=[],_0x462494=[];_0x41515a['forEach'](_0x1cbc90=>{const _0x3c2031=_0x135fce;if(_0x1cbc90['sc']){const _0x5cc866=_0x70a9c9['find'](_0x503bef=>_0x503bef[_0x3c2031(0x1d8)]['toLowerCase']()===_0x1cbc90['sc'][_0x3c2031(0x1af)][_0x3c2031(0x20b)]()&&_0x503bef['source']['toLowerCase']()===_0x1cbc90['sc'][_0x3c2031(0x295)]['toLowerCase']());if(_0x5cc866)_0x5cc866[_0x3c2031(0x19c)][_0x3c2031(0x1d4)](_0x1cbc90['sc']);else _0x462494[_0x3c2031(0x1d4)]({'cls':_0x1cbc90[_0x3c2031(0x1cf)],'sc':_0x1cbc90['sc']});}else _0x70a9c9['push'](_0x1cbc90['cls']);});const _0x40c77d=[..._0x70a9c9[_0x135fce(0x2ad)](_0x1e0396=>{const _0x24e536=_0x135fce;return new Util[(_0x24e536(0x188))](_0x1e0396[_0x24e536(0x1d8)]+'\x20('+Parser['sourceJsonToAbv'](_0x1e0396[_0x24e536(0x24e)])+')',()=>this[_0x24e536(0x12a)](_0x1e0396));}),..._0x462494[_0x135fce(0x2ad)](({cls:_0x5af122,sc:_0x2bdd14})=>{const _0x4d068f=_0x135fce;return new Util[(_0x4d068f(0x188))](_0x2bdd14[_0x4d068f(0x1d8)]+'\x20('+Parser[_0x4d068f(0x1d5)](_0x2bdd14[_0x4d068f(0x24e)])+')',()=>this[_0x4d068f(0x248)](_0x5af122,_0x2bdd14));})];await UtilApplications[_0x135fce(0x26e)](_0x40c77d);if(!this[_0x135fce(0x123)])game[this[_0x135fce(0x14d)]][_0x135fce(0x18f)]();this[_0x135fce(0x28c)][_0x135fce(0x293)](_0x135fce(0x115),![])[_0x135fce(0x10d)]();});}[_0x182f4b(0x25b)](){const _0x5b1fbb=_0x182f4b;this[_0x5b1fbb(0x163)]=new List({'$iptSearch':this[_0x5b1fbb(0x19f)],'$wrpList':this['_$wrpList'],'fnSort':(_0x20dcee,_0x35ad5f,_0x2dd859)=>{const _0x4229f8=_0x5b1fbb;if(_0x2dd859[_0x4229f8(0x161)]===_0x4229f8(0x1f2)&&_0x20dcee[_0x4229f8(0x27d)]['ix']===_0x35ad5f[_0x4229f8(0x27d)]['ix']&&(_0x20dcee[_0x4229f8(0x27d)]['ixSub']!=null||_0x35ad5f[_0x4229f8(0x27d)]['ixSub']!=null))return _0x20dcee[_0x4229f8(0x27d)][_0x4229f8(0x243)]!=null?-0x1:0x1;return SortUtil[_0x4229f8(0x141)](_0x20dcee[_0x4229f8(0x27d)][_0x4229f8(0x1d6)],_0x35ad5f[_0x4229f8(0x27d)]['sortName']);}}),SortUtil['initBtnSortHandlers'](this[_0x5b1fbb(0x171)],this[_0x5b1fbb(0x163)]);const _0x5ac093=this[_0x5b1fbb(0x142)][_0x5b1fbb(0x1a8)]['map'](_0x216dce=>{const _0x5ebd90=_0x5b1fbb,_0x2e3792={..._0x216dce};delete _0x2e3792[_0x5ebd90(0x1bb)];const _0x421746=_0x216dce['subRows'][_0x5ebd90(0x2ad)](_0x20fce9=>({..._0x20fce9,'ix':_0x216dce['ix'],'className':_0x216dce[_0x5ebd90(0x1d8)],'classSourceLong':_0x216dce[_0x5ebd90(0x181)],'classSourceClassName':_0x216dce[_0x5ebd90(0x13a)]}));return[_0x2e3792,..._0x421746];})[_0x5b1fbb(0x20d)]();return this[_0x5b1fbb(0x26f)][_0x5b1fbb(0x2b0)]({'$iptSearch':this[_0x5b1fbb(0x19f)],'$btnReset':this[_0x5b1fbb(0x1a2)],'$btnOpen':this[_0x5b1fbb(0xff)],'$btnToggleSummaryHidden':this[_0x5b1fbb(0x29d)],'$wrpMiniPills':this[_0x5b1fbb(0x114)],'namespace':this[_0x5b1fbb(0x1e4)]()})[_0x5b1fbb(0x197)](()=>{const _0x2c30bd=_0x5b1fbb;this[_0x2c30bd(0x1e9)][_0x2c30bd(0x1cd)](_0x1310a5=>this[_0x2c30bd(0x26f)][_0x2c30bd(0x258)](_0x1310a5));const _0x5e1afb={'fnGetName':_0x270ec8=>_0x270ec8['name'],'fnGetValues':_0x5dae73=>{const _0x59a868=_0x2c30bd;return _0x5dae73[_0x59a868(0x243)]!=null?{'ix':_0x5dae73['ix'],'ixSub':_0x5dae73[_0x59a868(0x243)],'sortName':_0x5dae73[_0x59a868(0x1af)]+_0x59a868(0x2bc)+_0x5dae73['classSourceLong']+'\x20SUBCLASS\x20'+_0x5dae73['name']+'\x20SOURCE\x20'+_0x5dae73[_0x59a868(0x181)],'source':_0x5dae73[_0x59a868(0x24e)]}:{'ix':_0x5dae73['ix'],'sortName':_0x5dae73[_0x59a868(0x1d8)]+_0x59a868(0x2bc)+_0x5dae73['sourceLong']};}};this[_0x2c30bd(0x123)]?(_0x5e1afb[_0x2c30bd(0xfe)]=_0xf20c53=>({'tglSel':_0xf20c53['ele'][_0x2c30bd(0x119)][_0x2c30bd(0x119)]}),_0x5e1afb[_0x2c30bd(0x233)]=_0x52c0e7=>{const _0x728d34=_0x2c30bd;_0x52c0e7['ele'][_0x728d34(0x174)](_0x728d34(0xf7),()=>{const _0x1837b=_0x728d34,_0x1a0a62=_0x52c0e7[_0x1837b(0x27d)][_0x1837b(0x243)]!=null,_0x3b6d41=_0x1a0a62?this[_0x1837b(0x163)]['items'][_0x1837b(0x2c2)](_0xe2d895=>_0xe2d895['values']['ix']===_0x52c0e7[_0x1837b(0x27d)]['ix']&&_0xe2d895['values']['ixSub']==null):null,_0x309d06=this[_0x1837b(0x163)][_0x1837b(0x1f6)][_0x1837b(0xf5)](_0x59278c=>_0x59278c['data']['tglSel'][_0x1837b(0x192)][_0x1837b(0x130)](_0x1837b(0x245)));if(!_0x309d06[_0x1837b(0x166)]){_0x52c0e7['data'][_0x1837b(0x13e)][_0x1837b(0x192)][_0x1837b(0x17f)]('active'),_0x52c0e7[_0x1837b(0x231)][_0x1837b(0x192)][_0x1837b(0x17f)](_0x1837b(0x104));_0x1a0a62&&(_0x3b6d41[_0x1837b(0x12e)][_0x1837b(0x13e)]['classList']['add'](_0x1837b(0x245)),_0x3b6d41[_0x1837b(0x231)][_0x1837b(0x192)]['add'](_0x1837b(0x104)));return;}if(_0x52c0e7['data'][_0x1837b(0x13e)][_0x1837b(0x192)][_0x1837b(0x130)]('active')){_0x52c0e7['data'][_0x1837b(0x13e)]['classList'][_0x1837b(0x110)]('active'),_0x52c0e7[_0x1837b(0x231)]['classList'][_0x1837b(0x110)](_0x1837b(0x104));_0x1a0a62?(_0x3b6d41['data'][_0x1837b(0x13e)][_0x1837b(0x192)][_0x1837b(0x110)](_0x1837b(0x245)),_0x3b6d41['ele'][_0x1837b(0x192)][_0x1837b(0x110)](_0x1837b(0x104))):_0x309d06[_0x1837b(0x1cd)](_0xf3218d=>{const _0x23938=_0x1837b;_0xf3218d[_0x23938(0x12e)][_0x23938(0x13e)][_0x23938(0x192)][_0x23938(0x110)]('active'),_0xf3218d['ele'][_0x23938(0x192)][_0x23938(0x110)](_0x23938(0x104));});return;}_0x309d06[_0x1837b(0x1cd)](_0x38cdc9=>{const _0x47bbcf=_0x1837b;_0x38cdc9[_0x47bbcf(0x12e)][_0x47bbcf(0x13e)][_0x47bbcf(0x192)][_0x47bbcf(0x110)]('active'),_0x38cdc9[_0x47bbcf(0x231)]['classList']['remove'](_0x47bbcf(0x104));}),_0x52c0e7[_0x1837b(0x12e)][_0x1837b(0x13e)][_0x1837b(0x192)][_0x1837b(0x17f)](_0x1837b(0x245)),_0x52c0e7[_0x1837b(0x231)][_0x1837b(0x192)][_0x1837b(0x17f)](_0x1837b(0x104)),_0x1a0a62&&(_0x3b6d41[_0x1837b(0x12e)][_0x1837b(0x13e)][_0x1837b(0x192)]['add'](_0x1837b(0x245)),_0x3b6d41[_0x1837b(0x231)][_0x1837b(0x192)][_0x1837b(0x17f)](_0x1837b(0x104)));});}):(_0x5e1afb[_0x2c30bd(0xfe)]=UtilList2[_0x2c30bd(0x13c)],_0x5e1afb['fnBindListeners']=_0xe92c4d=>UtilList2[_0x2c30bd(0x25c)](this[_0x2c30bd(0x163)],_0xe92c4d)),this[_0x2c30bd(0x163)][_0x2c30bd(0x183)](_0x5ac093,_0x5e1afb),this[_0x2c30bd(0x163)]['init'](),this['_pageFilter'][_0x2c30bd(0x2c1)]['render'](),this[_0x2c30bd(0x26f)][_0x2c30bd(0x2c1)]['on'](FilterBox[_0x2c30bd(0x1f9)],this[_0x2c30bd(0x240)][_0x2c30bd(0xf9)](this)),this[_0x2c30bd(0x240)]();});}[_0x182f4b(0x240)](){const _0x51de09=_0x182f4b,_0xf9a0b=this[_0x51de09(0x26f)]['filterBox'][_0x51de09(0x107)]();this[_0x51de09(0x163)][_0x51de09(0xf5)](_0x2ae4ef=>{const _0x35f71e=_0x51de09,_0x363fce=this[_0x35f71e(0x1e9)][_0x2ae4ef[_0x35f71e(0x27d)]['ix']];if(_0x2ae4ef['values'][_0x35f71e(0x243)]!=null){const _0x4a7918=_0x363fce['subclasses'][_0x2ae4ef[_0x35f71e(0x27d)][_0x35f71e(0x243)]];return this[_0x35f71e(0x26f)][_0x35f71e(0x1b1)](_0xf9a0b,_0x363fce)&&this[_0x35f71e(0x26f)][_0x35f71e(0x2c1)][_0x35f71e(0x1b1)](_0xf9a0b,_0x4a7918[_0x35f71e(0x24e)],_0x4a7918[_0x35f71e(0x120)]);}else return this[_0x35f71e(0x26f)][_0x35f71e(0x1b1)](_0xf9a0b,_0x363fce);});}async[_0x182f4b(0x12a)](_0xa67f3,_0x170687){const _0xd7dfb5=_0x182f4b;_0x170687=_0x170687||{},console[_0xd7dfb5(0x1bc)](...LGT,_0xd7dfb5(0x24c)+_0xa67f3[_0xd7dfb5(0x1d8)]+'\x22\x20(from\x20\x22'+Parser[_0xd7dfb5(0x1d5)](_0xa67f3['source'])+'\x22)');if(DataConverterClass[_0xd7dfb5(0x196)](_0xa67f3))return{'imported':[],'status':UtilApplications['TASK_EXIT_COMPLETE']};if(_0x170687['isTemp'])return this[_0xd7dfb5(0x1ee)](_0xa67f3,_0x170687);else{if(this[_0xd7dfb5(0x123)])return this[_0xd7dfb5(0x204)](_0xa67f3,_0x170687);else return this[_0xd7dfb5(0x1ee)](_0xa67f3,_0x170687);}}async['_pImportClass_pImportToActor'](_0x4364cb,_0x3c38ab){const _0x215d8d=_0x182f4b;MiscUtil[_0x215d8d(0x1fa)](CONFIG[_0x215d8d(0x227)],_0x215d8d(0x1f8),_0x4364cb[_0x215d8d(0x1d8)][_0x215d8d(0x20b)]()[_0x215d8d(0x215)](),{'features':{},'subclasses':{}});const _0x349c38=new ImportListClass[(_0x215d8d(0x1da))]({'isClassImport':!![],'isCharactermancer':_0x3c38ab['isCharactermancer']});let _0x4028e6;!_0x4364cb[_0x215d8d(0x1e1)]&&(_0x4028e6=Charactermancer_Class_Util['getAllFeatures'](_0x4364cb),_0x4028e6=Charactermancer_Class_Util[_0x215d8d(0x101)](_0x4028e6,this['_pageFilter'],_0x3c38ab[_0x215d8d(0x283)]||this['_pageFilter']['filterBox'][_0x215d8d(0x107)]()));const _0x4e69ae=await this[_0x215d8d(0x1a7)](_0x4364cb,_0x4028e6,_0x349c38,!![]);if(_0x349c38[_0x215d8d(0x2c6)])return{'status':UtilApplications[_0x215d8d(0x118)]};await this[_0x215d8d(0x1c8)](_0x4e69ae,_0x349c38);if(_0x349c38[_0x215d8d(0x2c6)])return{'status':UtilApplications[_0x215d8d(0x118)]};_0x349c38['targetLevel']=Math[_0x215d8d(0x270)](..._0x4e69ae)+0x1,_0x349c38['numLevels']=_0x349c38[_0x215d8d(0x1fb)]-Math[_0x215d8d(0x2bf)](..._0x4e69ae),_0x349c38[_0x215d8d(0x206)]=UtilActors[_0x215d8d(0x1d3)](this[_0x215d8d(0x123)]),_0x349c38[_0x215d8d(0x271)]=_0x4e69ae[_0x215d8d(0x1dd)](0x0),_0x349c38[_0x215d8d(0x274)]=_0x4364cb[_0x215d8d(0x274)],_0x349c38['proficiencyImportMode']=await this[_0x215d8d(0x1a6)](_0x4364cb,_0x349c38);if(_0x349c38[_0x215d8d(0x2c6)])return{'status':UtilApplications[_0x215d8d(0x118)]};_0x349c38['hpIncreaseMode']=await this[_0x215d8d(0x211)](_0x4364cb,_0x349c38);if(_0x349c38[_0x215d8d(0x2c6)])return{'status':UtilApplications[_0x215d8d(0x118)]};const _0x21a775=_0x4364cb['subclasses']?_0x4364cb[_0x215d8d(0x19c)][0x0]:null,_0x53c125=(_0x4364cb['subclasses']||[])[_0x215d8d(0xf5)](_0x52a5b6=>_0x52a5b6[_0x215d8d(0x274)]||_0x52a5b6[_0x215d8d(0x25f)]),_0x28d76c=_0x53c125[0x0]||_0x21a775,_0x2a5fe3={'data':{}},_0x5d9141=await this[_0x215d8d(0x21a)](_0x2a5fe3,_0x4364cb,_0x28d76c,_0x349c38);if(_0x349c38['isCancelled'])return{'status':UtilApplications[_0x215d8d(0x118)]};const {curLevel:_0x2d8359,existingClassItem:_0x207f0e}=_0x5d9141;this[_0x215d8d(0x2af)](_0x2a5fe3,_0x4364cb,_0x4364cb['subclasses'],_0x2d8359,_0x349c38),await this[_0x215d8d(0x135)](_0x2a5fe3,_0x4364cb,_0x28d76c,_0x2d8359,_0x207f0e,_0x349c38);if(_0x349c38['isCancelled'])return{'status':UtilApplications['TASK_EXIT_CANCELLED']};if(_0x4364cb[_0x215d8d(0x1c4)])await this[_0x215d8d(0x267)](_0x4364cb,null,_0x2d8359,_0x349c38);await this[_0x215d8d(0x212)](_0x4364cb,_0x4364cb[_0x215d8d(0x19c)],_0x2d8359,_0x349c38);if(_0x349c38[_0x215d8d(0x2c6)])return{'status':UtilApplications['TASK_EXIT_CANCELLED']};await this[_0x215d8d(0x261)](_0x4364cb,_0x4028e6,_0x4e69ae,_0x3c38ab,_0x349c38);if(_0x349c38[_0x215d8d(0x2c6)])return{'status':UtilApplications[_0x215d8d(0x118)]};await this[_0x215d8d(0x209)](_0x349c38);if(this[_0x215d8d(0x123)][_0x215d8d(0x15b)])this[_0x215d8d(0x123)]['sheet'][_0x215d8d(0x18f)]();return{'status':UtilApplications[_0x215d8d(0x26c)]};}async[_0x182f4b(0x1a7)](_0x21d4fa,_0x1129b5,_0x41c9a3,_0x4844cb){const _0x10ee9f=_0x182f4b;if(_0x21d4fa[_0x10ee9f(0x111)])return _0x21d4fa[_0x10ee9f(0x111)];const _0xedb003=await Charactermancer_Class_LevelSelect['pGetUserInput']({'features':_0x1129b5,'isSubclass':_0x4844cb,'maxPreviousLevel':this[_0x10ee9f(0x11c)](_0x21d4fa)});if(_0xedb003==null)return _0x41c9a3[_0x10ee9f(0x2c6)]=!![];return _0xedb003[_0x10ee9f(0x12e)];}['_pImportEntry_getApproxPreviousMaxLevel'](_0xb2528a){const _0x4d6e79=_0x182f4b,_0x4442d4=this[_0x4d6e79(0x26d)](_0xb2528a);if(!_0x4442d4[_0x4d6e79(0x166)])return 0x0;return Math[_0x4d6e79(0x270)](..._0x4442d4[_0x4d6e79(0x2ad)](_0x582b16=>MiscUtil['get'](_0x582b16,_0x4d6e79(0x12e),'levels')||0x0));}['_pImportEntry_setActorFlags'](_0x4ee316,_0x102705,_0x1a825e,_0x3023d7,_0xa3ef99){const _0x5936f6=_0x182f4b,_0x124911={'dnd5e':{}};if(_0xa3ef99[_0x5936f6(0x12c)]&&_0x102705&&_0x102705['name']==='Bard'&&_0x102705[_0x5936f6(0x24e)]===SRC_PHB&&_0x3023d7<0x2&&_0xa3ef99[_0x5936f6(0x1fb)]>=0x2)_0x124911[_0x5936f6(0x210)][_0x5936f6(0x27c)]=!![];if(_0x102705&&_0x102705[_0x5936f6(0x1d8)]===_0x5936f6(0x1ab)&&_0x102705[_0x5936f6(0x24e)]===SRC_PHB&&_0x1a825e[_0x5936f6(0x205)](_0x5dbb8c=>_0x5dbb8c[_0x5936f6(0x1d8)]===_0x5936f6(0x195))&&_0x3023d7<0x7&&_0xa3ef99[_0x5936f6(0x1fb)]>=0x7)_0x124911[_0x5936f6(0x210)]['remarkableAthlete']=!![];if(_0x102705&&_0x102705['name']==='Rogue'&&_0x102705[_0x5936f6(0x24e)]===SRC_PHB&&_0x3023d7<0xb&&_0xa3ef99[_0x5936f6(0x1fb)]>=0xb)_0x124911['dnd5e'][_0x5936f6(0x122)]=!![];if(_0x102705&&_0x102705[_0x5936f6(0x1d8)]===_0x5936f6(0xf8)&&_0x102705[_0x5936f6(0x24e)]===SRC_PHB&&_0x3023d7<0xe&&_0xa3ef99[_0x5936f6(0x1fb)]>=0xe)_0x124911[_0x5936f6(0x210)]['diamondSoul']=!![];if(Object[_0x5936f6(0x124)](_0x124911[_0x5936f6(0x210)])[_0x5936f6(0x166)])_0x4ee316[_0x5936f6(0x247)]=_0x124911;}async[_0x182f4b(0x1a6)](_0x425276,_0x2862cb){const _0x14cc73=_0x182f4b,_0x1716db=MiscUtil[_0x14cc73(0x160)](this[_0x14cc73(0x123)],_0x14cc73(0x12e),_0x14cc73(0x1f6))||[],_0xc043e3=_0x1716db[_0x14cc73(0xf5)](_0x956e88=>_0x956e88[_0x14cc73(0x2a3)]==='class');if(!_0x2862cb[_0x14cc73(0x12c)]||!_0x2862cb[_0x14cc73(0x271)]||!_0xc043e3[_0x14cc73(0x166)])return Charactermancer_Class_ProficiencyImportModeSelect[_0x14cc73(0x12f)];if(_0x425276[_0x14cc73(0x292)]!=null)return _0x425276[_0x14cc73(0x292)];const _0x516ccf=await Charactermancer_Class_ProficiencyImportModeSelect[_0x14cc73(0x186)]();if(_0x516ccf==null)_0x2862cb[_0x14cc73(0x2c6)]=!![];return _0x516ccf[_0x14cc73(0x12e)];}async[_0x182f4b(0x211)](_0x14057e,_0x37b6a3){const _0x2eb49e=_0x182f4b;if(!Charactermancer_Class_HpIncreaseModeSelect[_0x2eb49e(0x185)](_0x14057e))return Charactermancer_Class_HpIncreaseModeSelect[_0x2eb49e(0x1c3)];if(_0x14057e[_0x2eb49e(0x220)]!=null)return _0x14057e[_0x2eb49e(0x220)];const _0x4c9cbb=await Charactermancer_Class_HpIncreaseModeSelect[_0x2eb49e(0x186)]();if(_0x4c9cbb==null)_0x37b6a3[_0x2eb49e(0x2c6)]=!![];if(_0x4c9cbb===VeCt[_0x2eb49e(0x2bb)])return Charactermancer_Class_HpIncreaseModeSelect['MODE_DO_NOT_INCREASE'];return _0x4c9cbb[_0x2eb49e(0x12e)];}async[_0x182f4b(0x1ee)](_0x5b0d57,_0x35c152){const _0x2cf005=_0x182f4b,_0x5df4b3=this[_0x2cf005(0x27f)]({'entity':_0x5b0d57});if(_0x5df4b3[_0x2cf005(0x168)])return UtilApplications[_0x2cf005(0x2b9)];const _0x2aeb1a=await DataConverterClass['pGetClassItem'](_0x5b0d57,{'isAddPermission':!![],'filterValues':this[_0x2cf005(0x26f)][_0x2cf005(0x2c1)][_0x2cf005(0x107)]()});if(_0x35c152[_0x2cf005(0x1a1)]){const _0x2902b1=await Item[_0x2cf005(0x24f)](_0x2aeb1a,{'renderSheet':!![],'temporary':!![]}),_0x257963=await(_0x5b0d57[_0x2cf005(0x19c)]||[])[_0x2cf005(0x242)](_0x1a489e=>this[_0x2cf005(0x182)](_0x5b0d57,_0x1a489e,_0x35c152));return{'imported':[_0x2902b1,..._0x257963],'status':UtilApplications[_0x2cf005(0x26c)]};}else{if(this[_0x2cf005(0x20f)]){if(_0x5df4b3['isOverwrite']){const _0x291812=await this[_0x2cf005(0x269)](_0x5df4b3,_0x2aeb1a),_0x4f39ab=await(_0x5b0d57[_0x2cf005(0x19c)]||[])[_0x2cf005(0x242)](_0x276ff4=>this[_0x2cf005(0x182)](_0x5b0d57,_0x276ff4,_0x35c152));return{'imported':[_0x291812,..._0x4f39ab],'status':UtilApplications[_0x2cf005(0x18b)]};}const _0x4bdaad=new Item(_0x2aeb1a);await this[_0x2cf005(0x20f)][_0x2cf005(0x22d)](_0x4bdaad);const _0x5886d7=await(_0x5b0d57[_0x2cf005(0x19c)]||[])[_0x2cf005(0x242)](_0x57718d=>this[_0x2cf005(0x182)](_0x5b0d57,_0x57718d,_0x35c152));return{'imported':[_0x4bdaad,..._0x5886d7],'status':UtilApplications[_0x2cf005(0x26c)]};}else{if(_0x5df4b3[_0x2cf005(0x22b)]){const _0x57ff43=await this['_pImportEntry_pDoUpdateExistingDirectoryEntity'](_0x5df4b3,_0x2aeb1a),_0x2ce9c9=await(_0x5b0d57[_0x2cf005(0x19c)]||[])['pSerialAwaitMap'](_0x5dac28=>this[_0x2cf005(0x182)](_0x5b0d57,_0x5dac28,_0x35c152));return{'imported':[_0x57ff43,..._0x2ce9c9],'status':UtilApplications[_0x2cf005(0x18b)]};}const _0x552052=await this[_0x2cf005(0x15a)](_0x5b0d57);if(_0x552052)_0x2aeb1a[_0x2cf005(0x2c4)]=_0x552052;const _0x46951e=await Item[_0x2cf005(0x24f)](_0x2aeb1a,{'renderSheet':![],'temporary':![]});await game[_0x2cf005(0x1f6)][_0x2cf005(0x21e)](_0x46951e);const _0x3fe505=await(_0x5b0d57[_0x2cf005(0x19c)]||[])[_0x2cf005(0x242)](_0x3ae6c4=>this['_pImportSubclass_pImportToItems'](_0x5b0d57,_0x3ae6c4,_0x35c152,{'folderId':_0x552052}));return{'imported':[_0x46951e,..._0x3fe505],'status':UtilApplications[_0x2cf005(0x26c)]};}}}async[_0x182f4b(0x248)](_0x291200,_0x51c2f7,_0x387264){const _0x14aba3=_0x182f4b;_0x387264=_0x387264||{},console[_0x14aba3(0x1bc)](...LGT,_0x14aba3(0x25a)+_0x51c2f7[_0x14aba3(0x1d8)]+_0x14aba3(0x17c)+Parser['sourceJsonToAbv'](_0x51c2f7[_0x14aba3(0x24e)])+'\x22)');if(DataConverterClass[_0x14aba3(0x196)](_0x291200))return{'imported':[],'status':UtilApplications[_0x14aba3(0x26c)]};if(DataConverterClass[_0x14aba3(0x184)](_0x51c2f7))return{'imported':[],'status':UtilApplications[_0x14aba3(0x26c)]};if(_0x387264[_0x14aba3(0x1a1)])return this[_0x14aba3(0x182)](_0x291200,_0x51c2f7,_0x387264);else{if(this['_actor'])return this[_0x14aba3(0x144)](_0x291200,_0x51c2f7,_0x387264);else return this[_0x14aba3(0x182)](_0x291200,_0x51c2f7,_0x387264);}}async[_0x182f4b(0x144)](_0x338e3c,_0x2e54ac,_0x3e5e5f){const _0x3977f9=_0x182f4b,_0x3af777=new ImportListClass[(_0x3977f9(0x1da))]({'isClassImport':![],'isCharactermancer':_0x3e5e5f[_0x3977f9(0x25d)]}),_0x14c539=(MiscUtil[_0x3977f9(0x160)](this['_actor'],_0x3977f9(0x12e),_0x3977f9(0x1f6))||[])[_0x3977f9(0xf5)](_0x190bc9=>_0x190bc9[_0x3977f9(0x2a3)]==='class');if(!_0x14c539['length']){const _0x2276e8=await InputUiUtil['pGetUserBoolean']({'title':_0x3977f9(0x17e),'htmlDescription':_0x3977f9(0x19a),'textYes':_0x3977f9(0x12d),'textNo':_0x3977f9(0x254)});if(_0x2276e8==null)return _0x3af777[_0x3977f9(0x2c6)]=!![],{'status':UtilApplications['TASK_EXIT_CANCELLED']};if(_0x2276e8===!![]){const _0x6defb8=MiscUtil[_0x3977f9(0x143)](_0x338e3c);return _0x6defb8['subclasses']=[_0x2e54ac],this['pImportClass'](_0x6defb8,_0x3e5e5f);}}let _0x6bd0dc=MiscUtil['copy'](_0x2e54ac[_0x3977f9(0x1ed)]);_0x6bd0dc=Charactermancer_Class_Util[_0x3977f9(0x101)](_0x6bd0dc,this['_pageFilter'],_0x3e5e5f[_0x3977f9(0x283)]||this[_0x3977f9(0x26f)]['filterBox'][_0x3977f9(0x107)]());const _0x3f5c97=await this[_0x3977f9(0x1a7)](_0x338e3c,_0x6bd0dc,_0x3af777,!![]);if(_0x3af777[_0x3977f9(0x2c6)])return{'status':UtilApplications[_0x3977f9(0x118)]};await this[_0x3977f9(0x1c8)](_0x3f5c97,_0x3af777);if(_0x3af777[_0x3977f9(0x2c6)])return{'status':UtilApplications[_0x3977f9(0x118)]};_0x3af777[_0x3977f9(0x1fb)]=Math[_0x3977f9(0x270)](..._0x3f5c97)+0x1,_0x3af777['numLevels']=_0x3af777[_0x3977f9(0x1fb)]-Math['min'](..._0x3f5c97),_0x3af777['numLevelsPrev']=UtilActors[_0x3977f9(0x1d3)](this[_0x3977f9(0x123)]),_0x3af777[_0x3977f9(0x271)]=![],_0x3af777[_0x3977f9(0x274)]=_0x2e54ac[_0x3977f9(0x274)]||_0x338e3c[_0x3977f9(0x274)],_0x3af777['proficiencyImportMode']=await this[_0x3977f9(0x1a6)](_0x338e3c,_0x3af777);if(_0x3af777[_0x3977f9(0x2c6)])return{'status':UtilApplications[_0x3977f9(0x118)]};const _0x577298={'data':{}},_0x541aee=await this['_pImportEntry_pGetCurLevelFillClassData'](_0x577298,_0x338e3c,_0x2e54ac,_0x3af777);if(_0x3af777['isCancelled'])return{'status':UtilApplications[_0x3977f9(0x118)]};const {curLevel:_0x160b89,existingClassItem:_0x53cdbf}=_0x541aee;this['_pImportEntry_setActorFlags'](_0x577298,_0x338e3c,[_0x2e54ac],_0x160b89,_0x3af777),await this[_0x3977f9(0x135)](_0x577298,_0x338e3c,_0x2e54ac,_0x160b89,_0x53cdbf,_0x3af777);if(_0x3af777[_0x3977f9(0x2c6)])return{'status':UtilApplications[_0x3977f9(0x118)]};if(_0x338e3c[_0x3977f9(0x1c4)])await this[_0x3977f9(0x267)](_0x338e3c,_0x2e54ac,_0x160b89,_0x3af777);await this[_0x3977f9(0x212)](_0x338e3c,[_0x2e54ac],_0x160b89,_0x3af777);if(_0x3af777[_0x3977f9(0x2c6)])return{'status':UtilApplications['TASK_EXIT_CANCELLED']};await this['_pImportEntry_pHandleFeatures'](_0x338e3c,_0x6bd0dc,_0x3f5c97,_0x3e5e5f,_0x3af777);if(_0x3af777[_0x3977f9(0x2c6)])return{'status':UtilApplications[_0x3977f9(0x118)]};await this[_0x3977f9(0x209)](_0x3af777);if(this[_0x3977f9(0x123)][_0x3977f9(0x15b)])this['_actor'][_0x3977f9(0x23f)][_0x3977f9(0x18f)]();return{'status':UtilApplications[_0x3977f9(0x26c)]};}async[_0x182f4b(0x182)](_0x63b95c,_0x4f8853,_0x1b04e2,_0x562f22){const _0xa1298b=_0x182f4b;_0x562f22=_0x562f22||{};const _0x4ef5a8=await DataConverterClass[_0xa1298b(0x1c7)](_0x63b95c,_0x4f8853,{'isAddPermission':!![],'filterValues':this[_0xa1298b(0x26f)]['filterBox'][_0xa1298b(0x107)]()}),_0x20c61e=this[_0xa1298b(0x27f)]({'name':_0x4ef5a8['name'],'source':_0x4ef5a8[_0xa1298b(0x12e)][_0xa1298b(0x24e)]});if(_0x20c61e[_0xa1298b(0x168)])return{'status':UtilApplications[_0xa1298b(0x2b9)]};if(_0x1b04e2[_0xa1298b(0x1a1)]){const _0x506c36=Item['create'](_0x4ef5a8,{'renderSheet':!![],'temporary':!![]});return{'imported':_0x506c36,'status':UtilApplications['TASK_EXIT_COMPLETE']};}else{if(this['_pack']){if(_0x20c61e[_0xa1298b(0x22b)])return this['_pImportEntry_pDoUpdateExistingPackEntity'](_0x20c61e,_0x4ef5a8);const _0x4a2e83=new Item(_0x4ef5a8);return await this[_0xa1298b(0x20f)][_0xa1298b(0x22d)](_0x4a2e83),{'imported':_0x4a2e83,'status':UtilApplications['TASK_EXIT_COMPLETE']};}else{if(_0x20c61e[_0xa1298b(0x22b)])return this[_0xa1298b(0x26a)](_0x20c61e,_0x4ef5a8);const _0x3eddb7=_0x562f22['folderId']||await this[_0xa1298b(0x15a)](_0x4f8853);if(_0x3eddb7)_0x4ef5a8[_0xa1298b(0x2c4)]=_0x3eddb7;const _0x11795a=await Item[_0xa1298b(0x24f)](_0x4ef5a8,{'renderSheet':![],'temporary':![]});return await game[_0xa1298b(0x1f6)][_0xa1298b(0x21e)](_0x11795a),{'imported':_0x11795a,'status':UtilApplications['TASK_EXIT_COMPLETE']};}}}async['_pImportEntry_pDoUpdateCharacter'](_0x347396,_0x4aa845,_0x430613,_0x1d3735,_0x3f38a9,_0xd0d6ba){const _0x5cb971=_0x182f4b,_0x6187a=MiscUtil['get'](this[_0x5cb971(0x123)],_0x5cb971(0x12e),_0x5cb971(0x1f6))||[],_0x409fe0=_0x6187a['filter'](_0x34e991=>_0x34e991['type']==='class'),_0x20c04e=_0x409fe0[_0x5cb971(0xf5)](_0x250783=>_0x250783!==_0x3f38a9),_0x1b8921=_0x20c04e['map'](_0x4ea57d=>MiscUtil[_0x5cb971(0x160)](_0x4ea57d,_0x5cb971(0x12e),'levels')||0x0)[_0x5cb971(0x10c)]((_0x4038a9,_0x475085)=>_0x4038a9+_0x475085,0x0)+(_0xd0d6ba[_0x5cb971(0x1fb)]||0x0);if(_0x1b8921>0x0){const _0x6f9180=(_0x347396['data']['details']=_0x347396[_0x5cb971(0x12e)]['details']||{})['xp']=_0x347396[_0x5cb971(0x12e)][_0x5cb971(0x1f4)]['xp']||{},_0x5db2a3=MiscUtil['get'](this[_0x5cb971(0x123)],_0x5cb971(0x12e),_0x5cb971(0x12e),_0x5cb971(0x1f4),'xp',_0x5cb971(0x15f))||0x0,_0x3d935e=Parser['LEVEL_XP_REQUIRED'][_0x1b8921-0x1],_0x450949=Parser[_0x5cb971(0x16a)][Math[_0x5cb971(0x2bf)](_0x1b8921,0x13)];_0x5db2a3<_0x3d935e?(_0x6f9180[_0x5cb971(0x13b)]=0x0,_0x6f9180[_0x5cb971(0x15f)]=_0x3d935e):_0x6f9180['pct']=_0x5db2a3/_0x450949*0x64,_0x6f9180[_0x5cb971(0x270)]=_0x450949;}const _0x333c5f=MiscUtil[_0x5cb971(0x160)](this[_0x5cb971(0x123)],_0x5cb971(0x12e),_0x5cb971(0x12e),'attributes',_0x5cb971(0x1d2)),_0x4f91ff=Math[_0x5cb971(0x20a)]((_0xd0d6ba[_0x5cb971(0x1fb)]-0x1)/0x4)+0x2;if(_0x333c5f<_0x4f91ff)(_0x347396[_0x5cb971(0x12e)][_0x5cb971(0x202)]=_0x347396[_0x5cb971(0x12e)][_0x5cb971(0x202)]||{})[_0x5cb971(0x1d2)]=_0x4f91ff;const {casterProgression:_0x3d3f3d,spellAbility:_0x463155,totalSpellcastingLevels:_0x40ba36,maxPactCasterLevel:_0x5cc97d}=Charactermancer_Class_Util[_0x5cb971(0x1ce)](_0x4aa845,_0x430613,{'targetLevel':_0xd0d6ba[_0x5cb971(0x1fb)],'otherExistingClassItems':_0x20c04e});if(_0x40ba36||_0x3d3f3d==='pact'){let _0x1e6bd5=![];_0x347396[_0x5cb971(0x12e)][_0x5cb971(0x2a0)]=_0x347396[_0x5cb971(0x12e)]['spells']||{};const _0x5b93df=MiscUtil['getOrSet'](_0xd0d6ba[_0x5cb971(0x1a3)],_0x5cb971(0x12e),_0x5cb971(0x2a0),{});if(_0x40ba36){const _0x2637b5=UtilActors[_0x5cb971(0x280)][_0x5cb971(0x230)],_0x54bfd0=_0x2637b5[_0x40ba36-0x1]||_0x2637b5[_0x5cb971(0x145)]();_0x54bfd0[_0x5cb971(0x1cd)]((_0x132f03,_0x47fe60)=>{const _0xa192b8=_0x5cb971;if(_0x132f03===0x0)return;const _0x24cbfb=_0xa192b8(0x2a2)+(_0x47fe60+0x1),_0x34027b=MiscUtil[_0xa192b8(0x160)](this['_actor'],_0xa192b8(0x12e),_0xa192b8(0x12e),_0xa192b8(0x2a0),_0x24cbfb,'max'),_0x3c8b71=MiscUtil['get'](this[_0xa192b8(0x123)],'data',_0xa192b8(0x12e),_0xa192b8(0x2a0),_0x24cbfb,_0xa192b8(0x15f));if(_0x34027b!=null){if(_0x34027b<_0x132f03){_0x1e6bd5=!![];const _0x5e0b3d=_0x132f03-_0x34027b;_0x347396[_0xa192b8(0x12e)][_0xa192b8(0x2a0)][_0x24cbfb]={'max':_0x132f03,'value':_0x3c8b71+_0x5e0b3d},_0x5b93df[_0x24cbfb]={'max':_0x132f03,'value':_0x3c8b71+_0x5e0b3d};}}else _0x1e6bd5=!![],_0x347396[_0xa192b8(0x12e)]['spells'][_0x24cbfb]={'max':_0x132f03,'value':_0x132f03},_0x5b93df[_0x24cbfb]={'max':_0x132f03,'value':_0x132f03};});}else{if(_0x3d3f3d==='pact'){const _0x4117f4=MiscUtil[_0x5cb971(0x160)](this['_actor'],_0x5cb971(0x12e),_0x5cb971(0x12e),'spells',_0x5cb971(0x288),_0x5cb971(0x270)),_0x53e09d=MiscUtil[_0x5cb971(0x160)](this[_0x5cb971(0x123)],_0x5cb971(0x12e),_0x5cb971(0x12e),_0x5cb971(0x2a0),_0x5cb971(0x288),_0x5cb971(0x15f)),_0x57c306=UtilActors[_0x5cb971(0x280)][_0x5cb971(0x288)][_0x5cc97d-0x1][_0x5cb971(0x2c2)](Boolean);if(_0x4117f4!=null){if(_0x4117f4<_0x57c306){_0x1e6bd5=!![];const _0x2b947b=_0x57c306-_0x4117f4;_0x347396[_0x5cb971(0x12e)][_0x5cb971(0x2a0)][_0x5cb971(0x288)]={'max':_0x57c306,'value':_0x53e09d+_0x2b947b},_0x5b93df[_0x5cb971(0x288)]={'max':_0x57c306,'value':_0x53e09d+_0x2b947b};}}else _0x1e6bd5=!![],_0x347396['data'][_0x5cb971(0x2a0)][_0x5cb971(0x288)]={'max':_0x57c306,'value':_0x57c306},_0x5b93df[_0x5cb971(0x288)]={'max':_0x57c306,'value':_0x57c306};}}!_0x1e6bd5&&(delete _0x347396['data']['spells'],delete _0xd0d6ba['postItemActorUpdate'][_0x5cb971(0x12e)][_0x5cb971(0x2a0)]);}if(_0x463155)(_0x347396[_0x5cb971(0x12e)][_0x5cb971(0x202)]=_0x347396[_0x5cb971(0x12e)]['attributes']||{})['spellcasting']=_0x463155;if(_0xd0d6ba['isClassImport']&&Charactermancer_Class_HpIncreaseModeSelect[_0x5cb971(0x185)](_0x4aa845)){const _0x530587=Parser[_0x5cb971(0x14e)](Charactermancer_Util['getCurrentAbilityScores'](this['_actor'])[_0x5cb971(0x1d7)]);let _0x382b58=_0xd0d6ba[_0x5cb971(0x271)]?_0x4aa845['hd'][_0x5cb971(0xf6)]*_0x4aa845['hd']['faces']+_0x530587:0x0;const _0x380b01=_0xd0d6ba[_0x5cb971(0x271)]?_0xd0d6ba[_0x5cb971(0x28e)]-0x1:_0xd0d6ba[_0x5cb971(0x28e)];switch(_0xd0d6ba['hpIncreaseMode']){case Charactermancer_Class_HpIncreaseModeSelect['MODE_TAKE_AVERAGE']:{const _0x1b49e1=Math['ceil'](_0x4aa845['hd']['number']*((_0x4aa845['hd'][_0x5cb971(0x24d)]+0x1)/0x2));_0x382b58+=_0x380b01*Math[_0x5cb971(0x270)](_0x1b49e1+_0x530587,0x1);break;}case Charactermancer_Class_HpIncreaseModeSelect['MODE_ROLL']:{for(let _0x4a8828=0x0;_0x4a8828<_0x380b01;++_0x4a8828){const _0x4489ee=new Roll(_0x4aa845['hd'][_0x5cb971(0xf6)]+'d'+_0x4aa845['hd'][_0x5cb971(0x24d)]+'\x20+\x20'+_0x530587);_0x4489ee['roll'](),_0x382b58+=Math['max'](_0x4489ee[_0x5cb971(0x1d1)],0x1),await _0x4489ee[_0x5cb971(0x2b2)]({'flavor':_0x5cb971(0x27b),'speaker':{'actor':this['_actor']['id'],'alias':this[_0x5cb971(0x123)][_0x5cb971(0x1d8)],'scene':null,'token':null}});}break;}case Charactermancer_Class_HpIncreaseModeSelect[_0x5cb971(0x1c3)]:{_0x382b58=0x0;break;}default:throw new Error(_0x5cb971(0x1f5)+_0xd0d6ba[_0x5cb971(0x228)]+'\x22');}if(_0x382b58)switch(_0xd0d6ba[_0x5cb971(0x2b4)]){case Charactermancer_Class_ProficiencyImportModeSelect[_0x5cb971(0x13d)]:{const _0x1bd602=(this[_0x5cb971(0x123)]?.[_0x5cb971(0x12e)]?.['data']?.[_0x5cb971(0x202)]?.['hp']?.[_0x5cb971(0x15f)]||0x0)+_0x382b58,_0x57e32b=(this[_0x5cb971(0x123)]?.['data']?.[_0x5cb971(0x12e)]?.['attributes']?.['hp']?.[_0x5cb971(0x270)]||0x0)+_0x382b58;MiscUtil[_0x5cb971(0x156)](_0x347396,_0x5cb971(0x12e),'attributes','hp',_0x5cb971(0x15f),_0x1bd602),MiscUtil[_0x5cb971(0x156)](_0x347396,_0x5cb971(0x12e),_0x5cb971(0x202),'hp',_0x5cb971(0x270),_0x57e32b);break;}case Charactermancer_Class_ProficiencyImportModeSelect[_0x5cb971(0x12f)]:{const _0x133308=(_0xd0d6ba[_0x5cb971(0x271)]?0x0:this[_0x5cb971(0x123)]?.[_0x5cb971(0x12e)]?.[_0x5cb971(0x12e)]?.[_0x5cb971(0x202)]?.['hp']?.[_0x5cb971(0x15f)]||0x0)+_0x382b58,_0x1eca55=(_0xd0d6ba[_0x5cb971(0x271)]?0x0:this[_0x5cb971(0x123)]?.[_0x5cb971(0x12e)]?.[_0x5cb971(0x12e)]?.[_0x5cb971(0x202)]?.['hp']?.[_0x5cb971(0x270)]||0x0)+_0x382b58;MiscUtil['set'](_0x347396,_0x5cb971(0x12e),'attributes','hp',_0x5cb971(0x15f),_0x133308),MiscUtil['set'](_0x347396,_0x5cb971(0x12e),_0x5cb971(0x202),'hp',_0x5cb971(0x270),_0x1eca55);break;}case Charactermancer_Class_ProficiencyImportModeSelect[_0x5cb971(0x259)]:break;default:throw new Error('Unknown\x20proficiency\x20import\x20mode\x20\x22'+_0xd0d6ba[_0x5cb971(0x2b4)]+'\x22');}}await DataConverter[_0x5cb971(0x229)](MiscUtil['get'](this[_0x5cb971(0x123)],_0x5cb971(0x12e),_0x5cb971(0x12e),_0x5cb971(0xf4),'languages'),_0x4aa845[_0x5cb971(0x133)],_0x347396[_0x5cb971(0x12e)],_0xd0d6ba);if(_0xd0d6ba[_0x5cb971(0x2c6)])return;if(Object[_0x5cb971(0x124)](_0x347396[_0x5cb971(0x12e)])[_0x5cb971(0x166)])await this[_0x5cb971(0x123)][_0x5cb971(0x1e5)](_0x347396);}async[_0x182f4b(0x170)](_0x36afcf,_0x505578,_0x56601f,_0x175c69){const _0x1d4f6e=_0x182f4b,_0x44dfb9={'chosenProficiencies':{}};_0x44dfb9[_0x1d4f6e(0x10b)]=await this[_0x1d4f6e(0x224)](_0x36afcf,_0x505578['startingProficiencies'],_0x505578['proficiency'],Charactermancer_Class_ProficiencyImportModeSelect['MODE_PRIMARY'],_0x175c69);if(_0x175c69[_0x1d4f6e(0x2c6)])return;await this['_pImportEntry_pDoUpdateCharacter_pPopulateEquipment'](_0x505578,_0x175c69);if(_0x175c69['isCancelled'])return;return _0x44dfb9;}async[_0x182f4b(0x224)](_0x435817,_0x3e0214,_0x11340e,_0x50adb2,_0x248b23){const _0x31a87b=_0x182f4b,_0x538fa2={'skills':{}};if(_0x3e0214?.[_0x31a87b(0x27e)]){const _0x5657db=await DataConverter[_0x31a87b(0x1bd)](MiscUtil[_0x31a87b(0x160)](this[_0x31a87b(0x123)],'data','data',_0x31a87b(0x27e)),_0x3e0214[_0x31a87b(0x27e)],_0x435817[_0x31a87b(0x12e)],_0x248b23);if(_0x248b23[_0x31a87b(0x2c6)])return _0x538fa2;_0x538fa2['skills']=_0x5657db;}const _0x283f57=await Charactermancer_Class_StartingProficiencies['pGetUserInput']({'mode':_0x50adb2,'primaryProficiencies':_0x50adb2===Charactermancer_Class_ProficiencyImportModeSelect[_0x31a87b(0x12f)]?_0x3e0214:null,'multiclassProficiencies':_0x50adb2===Charactermancer_Class_ProficiencyImportModeSelect[_0x31a87b(0x13d)]?_0x3e0214:null,'savingThrowsProficiencies':_0x11340e,'existingProficienciesFvttArmor':MiscUtil[_0x31a87b(0x160)](this[_0x31a87b(0x123)],_0x31a87b(0x12e),_0x31a87b(0x12e),_0x31a87b(0xf4),_0x31a87b(0x1eb)),'existingProficienciesFvttWeapons':MiscUtil[_0x31a87b(0x160)](this[_0x31a87b(0x123)],_0x31a87b(0x12e),'data',_0x31a87b(0xf4),_0x31a87b(0x22a)),'existingProficienciesFvttTools':MiscUtil[_0x31a87b(0x160)](this[_0x31a87b(0x123)],_0x31a87b(0x12e),_0x31a87b(0x12e),'traits',_0x31a87b(0x287)),'existingProficienciesFvttSavingThrows':Charactermancer_Class_StartingProficiencies[_0x31a87b(0x1a9)](this[_0x31a87b(0x123)])});if(_0x283f57==null)return _0x248b23[_0x31a87b(0x2c6)]=!![];if(_0x283f57===VeCt[_0x31a87b(0x2bb)])return;return Charactermancer_Class_StartingProficiencies[_0x31a87b(0x194)](_0x435817,_0x283f57),_0x538fa2;}async[_0x182f4b(0x1a0)](_0x5cb931,_0x505064,_0x4c1d48,_0x11d1ce){const _0x106fa3=_0x182f4b,_0x254757={'chosenProficiencies':{}};if(_0x505064[_0x106fa3(0x257)]&&_0x505064[_0x106fa3(0x257)][_0x106fa3(0x250)]){_0x254757[_0x106fa3(0x10b)]=await this[_0x106fa3(0x224)](_0x5cb931,_0x505064[_0x106fa3(0x257)][_0x106fa3(0x250)],null,Charactermancer_Class_ProficiencyImportModeSelect[_0x106fa3(0x13d)],_0x11d1ce);if(_0x11d1ce['isCancelled'])return;}return _0x254757;}[_0x182f4b(0x26d)](_0x3b1ff5){const _0x5a5f24=_0x182f4b;return Charactermancer_Class_Util['getExistingClassItems'](this[_0x5a5f24(0x123)],_0x3b1ff5);}async[_0x182f4b(0x21a)](_0x58f6ef,_0x4954b5,_0x5b44aa,_0x235a19){const _0x19b429=_0x182f4b,_0xc0de1b={'curLevel':0x0,'existingClassItem':null};let _0x35b160={};if(_0x235a19[_0x19b429(0x12c)]&&_0x235a19[_0x19b429(0x271)])switch(_0x235a19[_0x19b429(0x2b4)]){case Charactermancer_Class_ProficiencyImportModeSelect['MODE_MULTICLASS']:{_0x35b160=await this[_0x19b429(0x1a0)](_0x58f6ef,_0x4954b5,_0x5b44aa,_0x235a19);break;}case Charactermancer_Class_ProficiencyImportModeSelect[_0x19b429(0x12f)]:{_0x35b160=await this[_0x19b429(0x170)](_0x58f6ef,_0x4954b5,_0x5b44aa,_0x235a19);if(_0x235a19[_0x19b429(0x2c6)])return;break;}case Charactermancer_Class_ProficiencyImportModeSelect['MODE_NONE']:{break;}default:throw new Error(_0x19b429(0x173)+_0x235a19[_0x19b429(0x2b4)]+'\x22');}let _0x879c14=await DataConverterClass[_0x19b429(0x255)](_0x4954b5,_0x5b44aa);if(Config[_0x19b429(0x160)](_0x19b429(0x281),_0x19b429(0x238))&&_0x4954b5[_0x19b429(0x117)]&&_0x4954b5['fluff'][_0x19b429(0x166)])_0x879c14+=Renderer[_0x19b429(0x160)]()['setFirstSection'](!![])[_0x19b429(0x18f)]({'type':_0x4954b5[_0x19b429(0x117)][0x0][_0x19b429(0x2a3)]||_0x19b429(0x19d),'entries':_0x4954b5[_0x19b429(0x117)][0x0][_0x19b429(0x1bf)]||[]});const _0x51251a=this[_0x19b429(0x26d)](_0x4954b5),_0x25c71a=await(async()=>{const _0x28e1be=_0x19b429;if(!_0x51251a[_0x28e1be(0x166)])return null;if(!_0x5b44aa&&_0x51251a['length']===0x1)return _0x51251a[0x0];if(!_0x5b44aa)return this[_0x28e1be(0x1b4)](_0x4954b5,_0x5b44aa,_0x51251a);const _0x43ced0=_0x51251a[_0x28e1be(0xf5)](_0x421a3a=>MiscUtil['get'](_0x421a3a,_0x28e1be(0x12e),_0x28e1be(0x1b3)));if(!_0x43ced0[_0x28e1be(0x166)]&&_0x51251a[_0x28e1be(0x166)]===0x1)return _0x51251a[0x0];if(!_0x43ced0[_0x28e1be(0x166)])return this[_0x28e1be(0x1b4)](_0x4954b5,_0x5b44aa,_0x51251a);const _0x327aed=_0x51251a[_0x28e1be(0xf5)](_0xddd5d7=>(MiscUtil[_0x28e1be(0x160)](_0xddd5d7,_0x28e1be(0x12e),_0x28e1be(0x1b3))||'')===_0x5b44aa[_0x28e1be(0x1d8)]);if(!_0x327aed[_0x28e1be(0x166)])return this[_0x28e1be(0x1b4)](_0x4954b5,_0x5b44aa,_0x51251a);if(_0x327aed[_0x28e1be(0x166)]===0x1)return _0x327aed[0x0];return this[_0x28e1be(0x1b4)](_0x4954b5,_0x5b44aa,_0x327aed);})();if(_0x25c71a){let _0x14a8c8=![];const _0x2bbdbc={'_id':_0x25c71a[_0x19b429(0x23d)]||_0x25c71a[_0x19b429(0x12e)]['_id']};_0x879c14&&!(MiscUtil[_0x19b429(0x160)](_0x25c71a,_0x19b429(0x12e),_0x19b429(0x217),_0x19b429(0x15f))||''['trim']())&&(_0x14a8c8=!![],((_0x2bbdbc[_0x19b429(0x12e)]=_0x2bbdbc[_0x19b429(0x12e)]||{})['description']=_0x2bbdbc[_0x19b429(0x12e)][_0x19b429(0x217)]||{})[_0x19b429(0x15f)]=_0x879c14);let _0x2bfa3e=MiscUtil[_0x19b429(0x160)](_0x25c71a,'data',_0x19b429(0x23a));_0x2bfa3e&&(_0x235a19['targetLevel']>_0x2bfa3e&&(_0x14a8c8=!![],(_0x2bbdbc[_0x19b429(0x12e)]=_0x2bbdbc[_0x19b429(0x12e)]||{})[_0x19b429(0x23a)]=_0x235a19['targetLevel']));if(_0x5b44aa&&_0x5b44aa['name']){const _0x5c24d7=MiscUtil[_0x19b429(0x160)](_0x25c71a,_0x19b429(0x12e),_0x19b429(0x1b3));_0x5c24d7!==_0x5b44aa[_0x19b429(0x1d8)]&&(_0x14a8c8=!![],(_0x2bbdbc['data']=_0x2bbdbc[_0x19b429(0x12e)]||{})['subclass']=_0x5b44aa[_0x19b429(0x1d8)]);}if(_0x14a8c8)_0x235a19['itemsToUpdate'][_0x19b429(0x1d4)](_0x2bbdbc);_0xc0de1b[_0x19b429(0x108)]=_0x2bfa3e||0x0,_0xc0de1b['existingClassItem']=_0x25c71a;}else{const _0x561965=(_0x5b44aa||{})['casterProgression']||_0x4954b5['casterProgression'],_0x51fdf9=await UtilCompendium['pGetCompendiumImage'](_0x19b429(0x140),_0x4954b5)||'modules/'+SharedConsts['MODULE_NAME']+_0x19b429(0x187),_0x23fedb=_0x35b160[_0x19b429(0x10b)]&&_0x35b160[_0x19b429(0x10b)][_0x19b429(0x27e)]?Object[_0x19b429(0x124)](_0x35b160['chosenProficiencies'][_0x19b429(0x27e)]):[],_0x4575bf={'name':UtilApplications[_0x19b429(0x236)](DataConverter[_0x19b429(0x126)](_0x4954b5,{'isActorItem':!![]})),'type':_0x19b429(0x140),'data':{'description':{'value':_0x879c14,'chat':'','unidentified':''},'source':DataConverter[_0x19b429(0x179)](_0x4954b5),'levels':_0x235a19[_0x19b429(0x1fb)],'subclass':_0x5b44aa?_0x5b44aa[_0x19b429(0x1d8)]:'','hitDice':DataConverterClass['getDataHitDice'](_0x4954b5),'hitDiceUsed':0x0,'spellcasting':UtilActors[_0x19b429(0x1cc)](_0x561965)||_0x561965,'skills':{'number':_0x235a19[_0x19b429(0x2b4)]===Charactermancer_Class_ProficiencyImportModeSelect[_0x19b429(0x13d)]?_0x4954b5[_0x19b429(0x147)]||0x0:_0x4954b5['_cntStartingSkillChoices']||0x0,'value':_0x23fedb}},'flags':this[_0x19b429(0x299)](_0x4954b5,_0x5b44aa,_0x235a19),'img':_0x51fdf9};_0x235a19['items'][_0x19b429(0x1d4)](_0x4575bf),await DataConverterClass['pHasClassSubclassSideLoadedEffects'](this[_0x19b429(0x123)],_0x4954b5,_0x5b44aa)&&_0x235a19[_0x19b429(0x175)][_0x19b429(0x1d4)](new ImportListClass[(_0x19b429(0x125))]({'actor':this['_actor'],'class':_0x4954b5,'subclass':_0x5b44aa,'itemData':_0x4575bf}));}if(Config[_0x19b429(0x160)](_0x19b429(0x281),_0x19b429(0x285))){const _0x55e9d1=MiscUtil['get'](this[_0x19b429(0x123)],_0x19b429(0x12e),'effects')||[],_0x547037=_0x55e9d1[_0x19b429(0x205)](_0x6cfa5=>_0x6cfa5['label']===ImportListClass[_0x19b429(0x2b7)]&&(!_0x6cfa5[_0x19b429(0x22c)]||/^Actor\.[^.]+$/['test'](_0x6cfa5[_0x19b429(0x22c)]||'')));if(!_0x547037){const _0xff0e00=CONST[_0x19b429(0x213)][_0x19b429(0x21d)];_0x235a19[_0x19b429(0x29f)][_0x19b429(0x1d4)](UtilActiveEffects[_0x19b429(0x13f)]({'key':_0x19b429(0x11d),'value':_0x19b429(0x1df),'mode':_0xff0e00,'priority':UtilActiveEffects['getPriority'](_0xff0e00),'label':ImportListClass[_0x19b429(0x2b7)],'icon':'icons/environment/people/commoner.webp'}));}}return _0xc0de1b;}['_getClassFlags'](_0x4d6a4f,_0x2eb436,_0x2855a1){const _0xd0d6f6=_0x182f4b;if(_0x2855a1[_0xd0d6f6(0x2b4)]===Charactermancer_Class_ProficiencyImportModeSelect['MODE_PRIMARY'])return{[SharedConsts['MODULE_NAME_FAKE']]:{'isPrimaryClass':!![]}};return{};}async[_0x182f4b(0x1b4)](_0x503f8e,_0x15b97c,_0x23c017){const _0x51be6d=_0x182f4b,_0x540310=''+(_0x503f8e[_0x51be6d(0x1d8)]||_0x51be6d(0x1a5))+(_0x15b97c?'\x20('+(_0x15b97c[_0x51be6d(0x1d8)]||'(Unnamed\x20subclass)')+')':''),_0x1cc566=await InputUiUtil[_0x51be6d(0x223)]({'values':_0x23c017,'placeholder':'Select\x20Existing\x20Feature...','title':_0x51be6d(0x2a8)+_0x540310+_0x51be6d(0x29b),'fnDisplay':_0x318797=>{const _0x1c42c9=_0x51be6d;if(_0x318797==null)return _0x1c42c9(0x159);const _0x4cfe3a=(MiscUtil['get'](_0x318797,'data',_0x1c42c9(0x1b3))||'')[_0x1c42c9(0x215)]();return''+(_0x318797[_0x1c42c9(0x1d8)]||_0x1c42c9(0x1a5))+(_0x4cfe3a?':\x20'+_0x4cfe3a:'');},'isAllowNull':!![]});if(_0x1cc566==null)return null;return _0x23c017[_0x1cc566];}async['_pImportPreparedCasterSpells'](_0x8f44ad,_0x517eed,_0x380aa6,_0x3159fd){const _0x2e6d00=_0x182f4b;if(_0x8f44ad['_foundryIsSkipImportPreparedSpells'])return;const _0x4f0033=Charactermancer_Util[_0x2e6d00(0x1c5)]({'casterProgression':DataConverterClass[_0x2e6d00(0x16b)](_0x8f44ad[_0x2e6d00(0x25f)],_0x517eed?.['casterProgression']),'curLevel':_0x380aa6,'targetLevel':_0x3159fd[_0x2e6d00(0x1fb)],'isBreakpointsOnly':!![]});if(!_0x4f0033)return;const {spellLevelLow:_0x45a3e5,spellLevelHigh:_0x2a1101,deltaLevels:_0xa5c118}=_0x4f0033,_0x328e59=await InputUiUtil[_0x2e6d00(0x149)]({'title':_0x2e6d00(0x10a),'htmlDescription':_0x2e6d00(0x203)+(_0xa5c118===0x1?'':'s')+'\x20'+(_0xa5c118===0x1?_0x3159fd[_0x2e6d00(0x1fb)]:_0x380aa6+0x1+'-'+_0x3159fd[_0x2e6d00(0x1fb)])+_0x2e6d00(0x265),'textYes':_0x2e6d00(0x16e),'textNo':'No'});if(!_0x328e59)return;const _0x347397=(await Vetools['pGetAllSpells'](!![]))[_0x2e6d00(0x2a2)],_0x30ca17=Charactermancer_Class_Util['getPreparableSpells'](_0x347397,_0x8f44ad,_0x45a3e5,_0x2a1101);for(const _0x3355ad of _0x30ca17){const _0x102a4c=UrlUtil[_0x2e6d00(0x1c1)][UrlUtil[_0x2e6d00(0x131)]](_0x3355ad),_0x4ba9a7=DataConverterSpell[_0x2e6d00(0x234)](this[_0x2e6d00(0x123)],_0x3355ad[_0x2e6d00(0x1d8)],_0x3355ad[_0x2e6d00(0x24e)]);if(_0x4ba9a7){_0x3159fd[_0x2e6d00(0x14c)][_0x102a4c]=_0x4ba9a7['_id']||_0x4ba9a7[_0x2e6d00(0x12e)][_0x2e6d00(0x23d)];continue;}const _0x53be4e=await DataConverterSpell['pGetSpellItem'](_0x3355ad,{...UtilActors[_0x2e6d00(0x277)](),'casterLevel':_0x3159fd['targetLevel'],'abilityAbv':_0x8f44ad[_0x2e6d00(0x274)]}),_0x22f5ed=await this[_0x2e6d00(0x123)][_0x2e6d00(0x172)](_0x2e6d00(0x221),_0x53be4e,{});_0x3159fd['spellHashToItemIdMap'][_0x102a4c]=_0x22f5ed[_0x2e6d00(0x23d)]||_0x22f5ed['data'][_0x2e6d00(0x23d)];}}async[_0x182f4b(0x212)](_0x558497,_0x5d8285,_0x3c908b,_0x33471c){const _0x3d760a=_0x182f4b;if(!_0x5d8285||!_0x5d8285[_0x3d760a(0x166)])return;for(const _0x2638c9 of _0x5d8285){const _0x75e17d=Charactermancer_Util['getCasterProgressionMeta']({'casterProgression':_0x2638c9?.[_0x3d760a(0x25f)]||_0x558497[_0x3d760a(0x25f)],'curLevel':_0x3c908b,'targetLevel':_0x33471c[_0x3d760a(0x1fb)]}),_0x38cf6d=await Charactermancer_AdditionalSpellsSelect['pGetUserInput']({'additionalSpells':_0x2638c9['additionalSpells'],'sourceHintText':_0x2638c9[_0x3d760a(0x1d8)],'curLevel':_0x3c908b,'targetLevel':_0x33471c['targetLevel'],'spellLevelLow':_0x75e17d?_0x75e17d['spellLevelLow']:null,'spellLevelHigh':_0x75e17d?_0x75e17d['spellLevelHigh']:null});if(_0x38cf6d==null)return _0x33471c[_0x3d760a(0x2c6)]=!![];if(_0x38cf6d===VeCt['SYM_UI_SKIP'])continue;await Charactermancer_AdditionalSpellsSelect['pApplyFormDataToActor'](this[_0x3d760a(0x123)],_0x38cf6d,{'abilityAbv':_0x33471c[_0x3d760a(0x274)],'casterLevel':_0x33471c[_0x3d760a(0x1fb)],'hashToIdMap':_0x33471c[_0x3d760a(0x14c)]});}}async[_0x182f4b(0x261)](_0x9d1b0f,_0x511149,_0x4ec80a,_0x5d444e,_0x291f1d){const _0x33c279=_0x182f4b;if(_0x9d1b0f['_foundryAllFeatures'])await this[_0x33c279(0x225)]({'allPreloadedFeatures':_0x9d1b0f[_0x33c279(0x1e1)],'importOpts':_0x5d444e,'dataBuilderOpts':_0x291f1d}),this[_0x33c279(0x253)]({'conInitial':_0x9d1b0f['_foundryConInitial'],'conFinal':_0x9d1b0f[_0x33c279(0x28f)],'isConPreApplied':!![],'dataBuilderOpts':_0x291f1d});else{const _0x5f2854=_0x511149[_0x33c279(0xf5)](_0x2a92a1=>_0x4ec80a[_0x33c279(0x1dd)](_0x2a92a1[_0x33c279(0x109)]-0x1)),_0x22d6e0=await this[_0x33c279(0x1d0)](_0x5f2854,_0x5d444e,_0x291f1d);if(_0x291f1d['isCancelled'])return;this[_0x33c279(0x253)]({'conInitial':_0x22d6e0[_0x33c279(0x28d)],'conFinal':_0x22d6e0['conFinal'],'dataBuilderOpts':_0x291f1d});}}async[_0x182f4b(0x225)]({allPreloadedFeatures:_0x1937a1,importOpts:_0x178f49,dataBuilderOpts:_0x358d1e}){const _0x500c28=_0x182f4b,_0x4c1a60=DataConverterSpell[_0x500c28(0x262)][_0x500c28(0xf9)](null,this[_0x500c28(0x123)]['id'],_0x358d1e[_0x500c28(0x14c)]);Renderer['get']()[_0x500c28(0x201)](_0x500c28(0x189),'*',_0x4c1a60);for(const _0x5a8a48 of _0x1937a1){await this[_0x500c28(0x152)](_0x5a8a48,_0x358d1e);if(_0x358d1e[_0x500c28(0x2c6)])return;}Renderer[_0x500c28(0x160)]()[_0x500c28(0x2b8)](_0x500c28(0x189),'*',_0x4c1a60);}async['_pImportEntry_pFillItemArrayFeatures'](_0x135803,_0x1514ee,_0x1e4cda){const _0x4861e6=_0x182f4b,_0x1fbf38=Charactermancer_Util[_0x4861e6(0x157)](this['_actor'])['con'],_0x327492=DataConverterSpell[_0x4861e6(0x262)][_0x4861e6(0xf9)](null,this[_0x4861e6(0x123)]['id'],_0x1e4cda[_0x4861e6(0x14c)]);Renderer[_0x4861e6(0x160)]()['addPlugin'](_0x4861e6(0x189),'*',_0x327492),_0x135803=Charactermancer_Class_Util[_0x4861e6(0x23c)](_0x135803),Charactermancer_Class_Util[_0x4861e6(0x1ea)](_0x135803,this['_pageFilter'],_0x1514ee[_0x4861e6(0x283)]||this[_0x4861e6(0x26f)][_0x4861e6(0x2c1)][_0x4861e6(0x107)]());const _0x3e2649=new Charactermancer_Class_Util[(_0x4861e6(0x226))](this['_actor']),_0x5c189b=Charactermancer_Class_Util['getFeaturesGroupedByOptionsSet'](_0x135803);for(const _0x214ad4 of _0x5c189b){const {topLevelFeature:_0x30e623,optionsSets:_0x14e582}=_0x214ad4,_0x34a56a=_0x30e623[_0x4861e6(0x1d8)][_0x4861e6(0x20b)]();if(_0x34a56a===_0x4861e6(0x158)){await this[_0x4861e6(0x24a)](_0x30e623,_0x1e4cda);if(_0x1e4cda[_0x4861e6(0x2c6)])return;continue;}for(const _0x339341 of _0x14e582){const _0x4a4848=await Charactermancer_Class_FeatureOptionsSelect[_0x4861e6(0x186)]({'actor':this[_0x4861e6(0x123)],'optionsSet':_0x339341,'level':_0x30e623[_0x4861e6(0x109)],'existingFeatureChecker':_0x3e2649});if(!_0x4a4848)return _0x1e4cda['isCancelled']=!![];if(_0x4a4848===VeCt[_0x4861e6(0x2bb)])continue;for(const _0x862471 of _0x4a4848[_0x4861e6(0x12e)]?.[_0x4861e6(0x276)]){await this[_0x4861e6(0x152)](_0x862471,_0x1e4cda,_0x3e2649);if(_0x1e4cda['isCancelled'])return;}Charactermancer_Class_FeatureOptionsSelect['doApplyProficiencyFormDataToActorUpdate'](this[_0x4861e6(0x123)],_0x1e4cda['actorUpdate'],_0x4a4848);}}Renderer[_0x4861e6(0x160)]()[_0x4861e6(0x2b8)](_0x4861e6(0x189),'*',_0x327492);const _0x4a4e03=Charactermancer_Util[_0x4861e6(0x157)](this[_0x4861e6(0x123)])[_0x4861e6(0x1d7)];return{'conInitial':_0x1fbf38,'conFinal':_0x4a4e03};}[_0x182f4b(0x253)]({conInitial:_0x5091d0,conFinal:_0x53860a,dataBuilderOpts:_0x304c01,isConPreApplied:_0x4a2b54}){const _0x3e75cd=_0x182f4b;if(_0x5091d0==null||_0x53860a==null||_0x53860a===_0x5091d0)return;const _0x445423=Parser[_0x3e75cd(0x14e)](_0x5091d0),_0x185ef1=Parser[_0x3e75cd(0x14e)](_0x53860a),_0x20b14d=(_0x304c01[_0x3e75cd(0x206)]+(_0x4a2b54?0x0:_0x304c01[_0x3e75cd(0x28e)]))*(_0x185ef1-_0x445423),_0x1e610a=(this[_0x3e75cd(0x123)]?.[_0x3e75cd(0x12e)]?.[_0x3e75cd(0x12e)]?.[_0x3e75cd(0x202)]?.['hp']?.[_0x3e75cd(0x15f)]||0x0)+_0x20b14d,_0x349e5d=(this['_actor']?.[_0x3e75cd(0x12e)]?.[_0x3e75cd(0x12e)]?.[_0x3e75cd(0x202)]?.['hp']?.[_0x3e75cd(0x270)]||0x0)+_0x20b14d;MiscUtil[_0x3e75cd(0x156)](_0x304c01['actorUpdate'],_0x3e75cd(0x12e),'attributes','hp',_0x3e75cd(0x15f),_0x1e610a),MiscUtil[_0x3e75cd(0x156)](_0x304c01['actorUpdate'],'data',_0x3e75cd(0x202),'hp','max',_0x349e5d);}['_doMergeExistingSkillData']({actorUpdate:_0x3c5b50}){const _0x59662e=_0x182f4b;_0x3c5b50[_0x59662e(0x12e)][_0x59662e(0x27e)]&&Object[_0x59662e(0x1bf)](_0x3c5b50[_0x59662e(0x12e)][_0x59662e(0x27e)])[_0x59662e(0x1cd)](([_0x2bf6a7,_0x595f3c])=>{const _0x1d282f=_0x59662e;_0x595f3c[_0x1d282f(0x15f)]=Math[_0x1d282f(0x270)](this[_0x1d282f(0x123)][_0x1d282f(0x12e)]?.[_0x1d282f(0x12e)]?.[_0x1d282f(0x27e)]?.[_0x2bf6a7]?.[_0x1d282f(0x15f)],_0x595f3c[_0x1d282f(0x15f)],0x0);});}['_doMergeExistingOtherProficiencyData']({actorUpdate:_0x23e661}){const _0x31bc8d=_0x182f4b,_0x44a705=[['data',_0x31bc8d(0x12e),_0x31bc8d(0xf4),_0x31bc8d(0x199)],['data',_0x31bc8d(0x12e),'traits','toolProf'],[_0x31bc8d(0x12e),_0x31bc8d(0x12e),_0x31bc8d(0xf4),_0x31bc8d(0x22a)],['data','data','traits',_0x31bc8d(0x1eb)]];_0x44a705['forEach'](_0x5d85ee=>{const _0x4e23cb=_0x31bc8d,_0xc3b71e=_0x5d85ee[_0x4e23cb(0x1ec)](0x1),_0x217b3e=MiscUtil['get'](this[_0x4e23cb(0x123)],..._0x5d85ee),_0x233283=MiscUtil['get'](_0x23e661,..._0xc3b71e);if(!_0x217b3e&&!_0x233283)return;if(!_0x217b3e&&_0x233283)return;if(_0x217b3e&&!_0x233283)return MiscUtil[_0x4e23cb(0x156)](_0x23e661,..._0xc3b71e,MiscUtil[_0x4e23cb(0x143)](_0x217b3e));_0x217b3e[_0x4e23cb(0x15f)]&&_0x233283[_0x4e23cb(0x15f)]?MiscUtil['set'](_0x23e661,..._0xc3b71e,_0x4e23cb(0x15f),[...new Set([..._0x217b3e['value'],..._0x233283['value']])]):MiscUtil[_0x4e23cb(0x156)](_0x23e661,..._0xc3b71e,_0x4e23cb(0x15f),MiscUtil[_0x4e23cb(0x143)](_0x217b3e[_0x4e23cb(0x15f)]||_0x233283[_0x4e23cb(0x15f)]));if(_0x217b3e[_0x4e23cb(0x138)]&&_0x217b3e['custom'][_0x4e23cb(0x215)]()[_0x4e23cb(0x166)]&&_0x233283[_0x4e23cb(0x138)]&&_0x233283['custom'][_0x4e23cb(0x215)]()['length']){const _0x131fd4=_0x217b3e[_0x4e23cb(0x138)]['trim']()[_0x4e23cb(0x1ae)](';')[_0x4e23cb(0x2ad)](_0x4ca965=>_0x4ca965[_0x4e23cb(0x215)]())['filter'](Boolean);_0x233283[_0x4e23cb(0x138)]['trim']()[_0x4e23cb(0x1ae)](';')[_0x4e23cb(0x2ad)](_0x10c801=>_0x10c801['trim']())[_0x4e23cb(0xf5)](Boolean)['filter'](_0x674cdd=>!_0x131fd4[_0x4e23cb(0x205)](_0x21a157=>_0x21a157[_0x4e23cb(0x20b)]()===_0x674cdd[_0x4e23cb(0x20b)]()))[_0x4e23cb(0x1cd)](_0x2c46d0=>_0x131fd4[_0x4e23cb(0x1d4)](_0x2c46d0)),MiscUtil[_0x4e23cb(0x156)](_0x23e661,..._0xc3b71e,_0x4e23cb(0x138),_0x131fd4[_0x4e23cb(0x1aa)](';'));}else MiscUtil[_0x4e23cb(0x156)](_0x23e661,..._0xc3b71e,_0x4e23cb(0x138),_0x217b3e[_0x4e23cb(0x138)]||_0x233283['custom']);});}async[_0x182f4b(0x209)](_0x51d188){const _0x543c41=_0x182f4b;if(_0x51d188[_0x543c41(0x137)]?.[_0x543c41(0x12e)]?.['currency'])MiscUtil[_0x543c41(0x156)](_0x51d188[_0x543c41(0x1ef)],_0x543c41(0x12e),'currency',_0x51d188['formDataEquipment'][_0x543c41(0x12e)][_0x543c41(0x16f)]);Object[_0x543c41(0x124)](_0x51d188[_0x543c41(0x1ef)])[_0x543c41(0x166)]&&(this[_0x543c41(0x112)]({'actorUpdate':_0x51d188[_0x543c41(0x1ef)]}),this['_doMergeExistingOtherProficiencyData']({'actorUpdate':_0x51d188[_0x543c41(0x1ef)]}),await this['_actor'][_0x543c41(0x1e5)](_0x51d188[_0x543c41(0x1ef)]));const _0x26a7c2=[];if(_0x51d188[_0x543c41(0x1f6)][_0x543c41(0x166)]){const _0x196a2f=_0x51d188[_0x543c41(0x1f6)][_0x543c41(0xf5)](_0x432add=>_0x432add['type']==='class'),_0x433de9=_0x51d188[_0x543c41(0x1f6)]['filter'](_0x3ccd3d=>_0x3ccd3d[_0x543c41(0x2a3)]!=='class');if(_0x196a2f[_0x543c41(0x166)]){const _0x5159ce=await UtilActors['pAddActorItems'](this['_actor'],_0x196a2f);_0x26a7c2['push'](..._0x5159ce);}if(_0x433de9[_0x543c41(0x166)]){const _0x17f692=await UtilActors[_0x543c41(0x105)](this[_0x543c41(0x123)],_0x433de9);_0x26a7c2[_0x543c41(0x1d4)](..._0x17f692);}}_0x51d188[_0x543c41(0x11b)]['length']&&await this['_actor'][_0x543c41(0x20c)]('OwnedItem',_0x51d188['itemsToUpdate']);await Charactermancer_StartingEquipment['pImportEquipmentItemEntries'](this['_actor'],_0x51d188[_0x543c41(0x137)]);_0x51d188[_0x543c41(0x29f)][_0x543c41(0x166)]&&await UtilActors['pAddActorEffects'](this[_0x543c41(0x123)],_0x51d188['effects']);const _0x53d688=[];if(_0x51d188[_0x543c41(0x290)]['length'])for(const _0x455eaf of _0x51d188['requiresEffects']){const _0x4f9e3d=DataConverter[_0x543c41(0x282)](_0x26a7c2,_0x455eaf['itemData']);if(!_0x4f9e3d)continue;_0x53d688[_0x543c41(0x1d4)](...DataConverterClass[_0x543c41(0x14b)](this['_actor'],_0x455eaf[_0x543c41(0x2c5)],_0x4f9e3d[_0x543c41(0x21b)]));}if(_0x51d188[_0x543c41(0x175)][_0x543c41(0x166)])for(const _0xc0ed0 of _0x51d188[_0x543c41(0x175)]){const _0x260c87=DataConverter['getImportedEmbed'](_0x26a7c2,_0xc0ed0['itemData']);if(!_0x260c87)continue;_0x53d688['push'](...await DataConverterClass['pGetClassSubclassItemEffects'](this[_0x543c41(0x123)],_0xc0ed0[_0x543c41(0x140)],_0xc0ed0['subclass'],_0x260c87[_0x543c41(0x21b)]));}if(_0x51d188[_0x543c41(0x275)][_0x543c41(0x166)])for(const _0x9ecf43 of _0x51d188[_0x543c41(0x275)]){const _0x110f0c=DataConverter[_0x543c41(0x282)](_0x26a7c2,_0x9ecf43[_0x543c41(0x103)]);if(!_0x110f0c)continue;_0x53d688[_0x543c41(0x1d4)](...await DataConverterClass['pGetClassSubclassFeatureItemEffects'](this[_0x543c41(0x123)],_0x9ecf43[_0x543c41(0x29e)],_0x110f0c[_0x543c41(0x21b)]));}if(_0x53d688[_0x543c41(0x166)])await UtilActors[_0x543c41(0x14f)](this[_0x543c41(0x123)],_0x53d688);Util['trimObject'](_0x51d188[_0x543c41(0x1a3)]);if(Object['keys'](_0x51d188[_0x543c41(0x1a3)])[_0x543c41(0x166)])await this[_0x543c41(0x123)][_0x543c41(0x1e5)](_0x51d188[_0x543c41(0x1a3)]);}async[_0x182f4b(0x152)](_0x570afb,_0x3144bc,_0x26cbfa){const _0x12ad42=_0x182f4b,_0x508fdf=_0x570afb['entity'];if(_0x26cbfa)_0x26cbfa[_0x12ad42(0x24b)](_0x570afb[_0x12ad42(0x19e)],_0x570afb[_0x12ad42(0x24e)],_0x570afb[_0x12ad42(0x16d)]);let _0x308e45;switch(_0x570afb[_0x12ad42(0x2a3)]){case _0x12ad42(0x18d):case'subclassFeature':{_0x308e45=await DataConverterClass[_0x12ad42(0x25e)](_0x570afb,this[_0x12ad42(0x123)]),_0x3144bc[_0x12ad42(0x1f6)]['push'](_0x308e45),_0x3144bc['items'][_0x12ad42(0x1d4)](...await DataConverterClass[_0x12ad42(0x167)](this['_actor'],_0x570afb)),await DataConverterClass[_0x12ad42(0x10f)](this[_0x12ad42(0x123)],_0x3144bc[_0x12ad42(0x1ef)],_0x570afb,_0x3144bc),MiscUtil[_0x12ad42(0x156)](_0x308e45['data'],_0x12ad42(0x247),SharedConsts[_0x12ad42(0x190)],_0x12ad42(0x169),_0x570afb[_0x12ad42(0x2a3)]),await this[_0x12ad42(0x296)](_0x570afb,_0x3144bc,_0x26cbfa,_0x308e45);break;}case _0x12ad42(0x1f1):{const _0x5ac6b3=await DataConverterOptionalfeature['pGetOptionalFeatureItem'](_0x508fdf,{'isActorItem':!![]});_0x308e45=_0x5ac6b3,_0x3144bc['items'][_0x12ad42(0x1d4)](_0x5ac6b3),await DataConverterOptionalfeature[_0x12ad42(0x113)](this[_0x12ad42(0x123)],_0x3144bc[_0x12ad42(0x1ef)],_0x508fdf,_0x3144bc),MiscUtil[_0x12ad42(0x156)](_0x5ac6b3[_0x12ad42(0x12e)],_0x12ad42(0x247),SharedConsts['MODULE_NAME_FAKE'],_0x12ad42(0x169),_0x508fdf[_0x12ad42(0x2a4)]||_0x12ad42(0x18d));break;}default:throw new Error(_0x12ad42(0x263)+_0x570afb[_0x12ad42(0x2a3)]+'\x22');}const _0x2586a7=_0x508fdf[_0x12ad42(0x1af)]||_0x508fdf[_0x12ad42(0x1e0)]||_0x570afb[_0x12ad42(0x1af)],_0x3293ad=_0x508fdf['subclassName']||_0x508fdf[_0x12ad42(0x1cb)]||_0x570afb[_0x12ad42(0x180)];if(_0x2586a7)MiscUtil[_0x12ad42(0x156)](_0x308e45[_0x12ad42(0x12e)],_0x12ad42(0x247),SharedConsts[_0x12ad42(0x190)],_0x12ad42(0x1af),_0x2586a7);if(_0x3293ad)MiscUtil[_0x12ad42(0x156)](_0x308e45['data'],_0x12ad42(0x247),SharedConsts[_0x12ad42(0x190)],'subclassName',_0x3293ad);}async['_pAddLoadedFeature_pDddLinkedActiveEffects_classSubclassFeature'](_0x1f3b39,_0x10def9,_0x27a1b7,_0x3b339e){const _0x17b1d4=_0x182f4b,{entity:_0x4899d6,type:_0x4dd097}=_0x1f3b39,_0x599fec=(_0x4899d6[_0x17b1d4(0x1d8)]||'')['toLowerCase']()['trim']();if(/^unarmored defen[sc]e/[_0x17b1d4(0x1c9)](_0x599fec)){const _0x484d1e=DataConverterClass[_0x17b1d4(0x1e3)](_0x4899d6);_0x484d1e&&_0x10def9[_0x17b1d4(0x290)]['push'](new ImportListClass[(_0x17b1d4(0x146))]({'actor':this[_0x17b1d4(0x123)],'itemData':_0x3b339e,'effect':{'name':_0x17b1d4(0x23b),'changes':[{'key':'data.attributes.ac.value','mode':_0x17b1d4(0x21d),'value':_0x484d1e}]}}));}await DataConverterClass[_0x17b1d4(0x237)](this[_0x17b1d4(0x123)],_0x1f3b39)&&_0x10def9[_0x17b1d4(0x275)]['push'](new ImportListClass[(_0x17b1d4(0x21c))]({'actor':this[_0x17b1d4(0x123)],'loaded':_0x1f3b39,'itemData':_0x3b339e}));}async[_0x182f4b(0x1c8)](_0x5aa445,_0xea07ef){const _0x35ed04=_0x182f4b;if(_0x5aa445[_0x35ed04(0x166)]>0x1)return;if(_0x5aa445[0x0]===0x0)return;const _0x40e1a0=(MiscUtil[_0x35ed04(0x160)](this['_actor'],_0x35ed04(0x12e),_0x35ed04(0x1f6))||[])[_0x35ed04(0xf5)](_0x4aedaa=>_0x4aedaa[_0x35ed04(0x2a3)]===_0x35ed04(0x140));if(_0x40e1a0['length'])return;const _0xa6967e=_0x5aa445[0x0]+0x1,_0x356bef=await InputUiUtil['pGetUserBoolean']({'title':_0x35ed04(0x29a),'htmlDescription':_0x35ed04(0x2ac)+_0xa6967e+_0x35ed04(0x14a)+(_0xa6967e===0x2?'':'s')+'\x20'+(_0xa6967e===0x2?'1':'1-'+(_0xa6967e-0x1))+'\x20too?','textYes':'Import\x20Levels\x201-'+_0xa6967e,'textNo':_0x35ed04(0x162)+_0xa6967e});if(_0x356bef==null){_0xea07ef[_0x35ed04(0x2c6)]=!![];return;}if(_0x356bef){const _0x4d3512=_0x5aa445[0x0];for(let _0x463dff=0x0;_0x463dff<=_0x4d3512;++_0x463dff){_0x5aa445[_0x463dff]=_0x463dff;}}}async[_0x182f4b(0x24a)](_0x4efce0,_0x4ea8d2){const _0x2b1900=_0x182f4b,_0x1a2154=new ImportListClass['AbilityScoreIncrease'](this[_0x2b1900(0x123)],_0x4efce0,_0x4ea8d2);_0x1a2154[_0x2b1900(0x18f)](!![]),await _0x1a2154[_0x2b1900(0x2aa)]();}async['_pImportEntry_pDoUpdateCharacter_pPopulateEquipment'](_0x1229f5,_0x104662){const _0xaf0ed7=_0x182f4b;if(!_0x1229f5['startingEquipment'])return;const _0x4d8642=new Charactermancer_StartingEquipment({'actor':this['_actor'],'startingEquipment':_0x1229f5[_0xaf0ed7(0xfa)],'appSubTitle':_0x1229f5[_0xaf0ed7(0x1d8)],'equiSpecialSource':_0x1229f5[_0xaf0ed7(0x24e)],'equiSpecialPage':_0x1229f5[_0xaf0ed7(0x19e)]}),_0x52d262=await _0x4d8642[_0xaf0ed7(0x2aa)]();if(_0x52d262==null)return _0x104662['isCancelled']=!![];if(_0x52d262===VeCt[_0xaf0ed7(0x2bb)])return;_0x104662[_0xaf0ed7(0x137)]=_0x52d262;}}ImportListClass['_AE_LABEL_BASE_AC']=_0x182f4b(0x1c2),ImportListClass['ImportEntryOpts']=class extends ImportListCharacter['ImportEntryOpts']{constructor(_0x2cd4d7){const _0x1bcf29=_0x182f4b;super(_0x2cd4d7),_0x2cd4d7=_0x2cd4d7||{},this[_0x1bcf29(0x12c)]=!!_0x2cd4d7[_0x1bcf29(0x12c)],this[_0x1bcf29(0x1ef)]={},this[_0x1bcf29(0x1a3)]={},this[_0x1bcf29(0x11b)]=[],this[_0x1bcf29(0x290)]=[],this[_0x1bcf29(0x175)]=[],this[_0x1bcf29(0x275)]=[],this[_0x1bcf29(0x14c)]={},this['formDataEquipment']=null,this[_0x1bcf29(0x1fb)]=null,this[_0x1bcf29(0x28e)]=null,this[_0x1bcf29(0x206)]=null,this['isIncludesLevelOne']=null,this[_0x1bcf29(0x274)]=null,this[_0x1bcf29(0x2b4)]=null,this[_0x1bcf29(0x228)]=null;}},ImportListClass['RequiresEffects']=class{constructor({actor:_0x46424f,effect:_0x4446e1,itemData:_0x13c80f}){const _0x49a056=_0x182f4b;this[_0x49a056(0x2b5)]=_0x46424f,this['effect']=_0x4446e1,this['itemData']=_0x13c80f;}},ImportListClass['ClassSubclassRequiresEffects']=class{constructor({actor:_0x1296b7,class:_0x3686b9,subclass:_0x1f6184,itemData:_0x55c67c}){const _0x3cb623=_0x182f4b;this['actor']=_0x1296b7,this[_0x3cb623(0x140)]=_0x3686b9,this[_0x3cb623(0x1b3)]=_0x1f6184,this['itemData']=_0x55c67c;}},ImportListClass['LoadedRequiresEffects']=class{constructor({actor:_0x5270a4,loaded:_0x117f64,itemData:_0x15e9a3}){const _0x550889=_0x182f4b;this[_0x550889(0x2b5)]=_0x5270a4,this['loaded']=_0x117f64,this[_0x550889(0x103)]=_0x15e9a3;}},ImportListClass[_0x182f4b(0x2c0)]=class extends Application{constructor(_0x3c22fe,_0x5705b6,_0x35e418){const _0x256a33=_0x182f4b;super({'title':_0x256a33(0x1ad)+_0x5705b6[_0x256a33(0x109)],'template':SharedConsts[_0x256a33(0x2b3)]+_0x256a33(0x153),'width':0x280,'resizable':!![]}),this['_importOpts']=_0x35e418,this[_0x256a33(0x2b6)]=null,this[_0x256a33(0x1e2)]=null,this[_0x256a33(0x232)]=new Promise((_0x507f68,_0x826e3f)=>{const _0x36e2a3=_0x256a33;this[_0x36e2a3(0x2b6)]=_0x507f68,this[_0x36e2a3(0x1e2)]=_0x826e3f;}),this[_0x256a33(0x17d)]=new ImportListClass['AbilityScoreIncrease'][(_0x256a33(0x294))](_0x3c22fe,_0x35e418,this[_0x256a33(0x200)][_0x256a33(0xf9)](this));}[_0x182f4b(0x1ba)](_0x2a3696){const _0x10b61f=_0x182f4b;this[_0x10b61f(0x17d)][_0x10b61f(0x18f)](_0x2a3696);}async[_0x182f4b(0x200)](){const _0x218249=_0x182f4b;await super['close']();if(!this['_comp'][_0x218249(0x26b)])this[_0x218249(0x10e)][_0x218249(0x2c6)]=!![];this[_0x218249(0x2b6)]();}[_0x182f4b(0x2aa)](){const _0x73c764=_0x182f4b;return this[_0x73c764(0x232)];}},ImportListClass[_0x182f4b(0x2c0)][_0x182f4b(0x294)]=class extends BaseComponent{constructor(_0x3ad866,_0x15d413,_0xe3d753){const _0x5b27fb=_0x182f4b;super(),this[_0x5b27fb(0x123)]=_0x3ad866,this[_0x5b27fb(0x10e)]=_0x15d413,this[_0x5b27fb(0x1fc)]=_0xe3d753,this['_isDataEntered']=![],Object['assign'](this['__state'],Charactermancer_Util[_0x5b27fb(0x139)](this[_0x5b27fb(0x123)]));}get[_0x182f4b(0x26b)](){const _0xe0f886=_0x182f4b;return this[_0xe0f886(0x268)];}[_0x182f4b(0x18f)](_0x5b7750){const _0x49efdf=_0x182f4b,_0x584b8e=$('<button\x20class=\x22btn\x20btn-default\x20w-50\x20btn-5et\x22>Ability\x20Score\x20Improvement</button>')['click'](()=>this['_state'][_0x49efdf(0x132)]=_0x49efdf(0x198)),_0x150e37=$('<button\x20class=\x22btn\x20btn-default\x20w-50\x20btn-5et\x22>Feat</button>')['click'](()=>this[_0x49efdf(0x1e8)][_0x49efdf(0x132)]='feat'),_0xbb4218=$(_0x49efdf(0x128)),_0x3b9bae=$(_0x49efdf(0x128)),_0x2d845e=()=>{const _0x152153=_0x49efdf,_0x4e0e95=this[_0x152153(0x1e8)][_0x152153(0x132)]===_0x152153(0x198);_0x584b8e['toggleClass'](_0x152153(0x245),_0x4e0e95),_0x150e37[_0x152153(0x134)]('active',!_0x4e0e95),_0xbb4218['toggleVe'](_0x4e0e95),_0x3b9bae[_0x152153(0x1fd)](!_0x4e0e95);};_0x2d845e(),this[_0x49efdf(0x177)](_0x49efdf(0x132),_0x2d845e),this[_0x49efdf(0x165)](_0xbb4218),this[_0x49efdf(0x27a)](_0x3b9bae),$$(_0x5b7750)`<div class="flex-col w-100 h-100">
			<div class="flex no-shrink btn-group mb-1">${_0x584b8e}${_0x150e37}</div>
			${_0xbb4218}
			${_0x3b9bae}
		</div>`;}['_render_ability'](_0xe92170){const _0x434b5d=_0x182f4b,_0x28ded6=[_0x434b5d(0x2be),_0x434b5d(0x273),_0x434b5d(0x1d7),_0x434b5d(0x2ae),_0x434b5d(0x148),_0x434b5d(0x127)][_0x434b5d(0x2ad)](_0xfa68cf=>{const _0x40531f=_0x434b5d,_0x4f93ca=$('<div\x20class=\x22col-2\x20text-center\x22></div>'),_0x5d7935=$(_0x40531f(0x154)),_0x29f67b=()=>{const _0x437198=_0x40531f;_0x4f93ca[_0x437198(0x2bd)](this['_state'][_0xfa68cf]),_0x5d7935[_0x437198(0x2bd)](Parser[_0x437198(0x252)](this[_0x437198(0x1e8)][_0xfa68cf]));};this[_0x40531f(0x177)](_0xfa68cf,_0x29f67b),_0x29f67b();const _0x30528d=_0xfa68cf+'Bonus',{$wrp:_0x2fc8b7,$ipt:_0x261093}=ComponentUiUtil[_0x40531f(0x29c)](this,_0x30528d,0x0,{'min':0x0,'fallbackOnNaN':0x0,'html':'<input\x20type=\x22text\x22\x20class=\x22text-center\x22\x20placeholder=\x220\x22>','asMeta':!![],'decorationRight':_0x40531f(0x22f),'decorationLeft':_0x40531f(0x2a1)});_0x261093['click'](()=>_0x261093[_0x40531f(0x284)]());const _0x49a286=$(_0x40531f(0x154)),_0x52ed16=$('<div\x20class=\x22col-2\x20text-center\x22></div>'),_0x2120ac=()=>{const _0x2b6115=_0x40531f,_0x762945=this[_0x2b6115(0x1e8)][_0xfa68cf]+this['_state'][_0x30528d];_0x49a286[_0x2b6115(0x2bd)](_0x762945),_0x52ed16[_0x2b6115(0x2bd)](Parser[_0x2b6115(0x252)](_0x762945)),_0x49a286['toggleClass'](_0x2b6115(0x297),_0x762945>0x14)[_0x2b6115(0x129)](_0x762945>0x14?_0x2b6115(0x11a):'');};this['_addHookBase'](_0x30528d,_0x2120ac),_0x2120ac();const _0x5f1bfd=$$`<div class="flex w-100 my-1">
				<div class="col-1 text-right bold">${_0xfa68cf[_0x40531f(0x298)]()}</div>
				${_0x4f93ca}
				${_0x5d7935}
				<div class="col-2">${_0x2fc8b7}</div>
				<div class="col-1 text-center">=</div>
				${_0x49a286}
				${_0x52ed16}
			</div>`;return{'$row':_0x5f1bfd,'$iptBonus':_0x261093};}),_0xd45632=$(_0x434b5d(0x2b1)),_0x3f09d2=()=>{const _0xd630d5=_0x434b5d,_0x59f7d5=[_0xd630d5(0x23e),_0xd630d5(0x151),'conBonus',_0xd630d5(0x18e),_0xd630d5(0x15d),_0xd630d5(0x222)][_0xd630d5(0x2ad)](_0x46930e=>this['_state'][_0x46930e])[_0xd630d5(0x10c)]((_0x50442b,_0x2a2766)=>_0x50442b+_0x2a2766,0x0),_0xf15757=_0x59f7d5>0x2;_0xd45632['text']('Remaining:\x20'+(0x2-_0x59f7d5))[_0xd630d5(0x134)](_0xd630d5(0x297),_0xf15757),_0x28ded6[_0xd630d5(0x1cd)](_0x1e02d0=>_0x1e02d0[_0xd630d5(0x1db)][_0xd630d5(0x134)]('form-control--error',_0xf15757));};['strBonus','dexBonus',_0x434b5d(0x2c3),'intBonus',_0x434b5d(0x15d),'chaBonus'][_0x434b5d(0x1cd)](_0x392694=>this[_0x434b5d(0x177)](_0x392694,_0x3f09d2)),_0x3f09d2();const _0x363918=$(_0x434b5d(0xfd))[_0x434b5d(0xf7)](async()=>{const _0x58b651=_0x434b5d,_0x6359e4=[this[_0x58b651(0x1e8)]['strBonus'],this['_state']['dexBonus'],this[_0x58b651(0x1e8)][_0x58b651(0x2c3)],this[_0x58b651(0x1e8)][_0x58b651(0x18e)],this[_0x58b651(0x1e8)]['wisBonus'],this[_0x58b651(0x1e8)][_0x58b651(0x222)]][_0x58b651(0x10c)]((_0x23d417,_0x471275)=>_0x23d417+_0x471275,0x0);if(_0x6359e4!==0x2)return ui['notifications'][_0x58b651(0x1c0)](_0x58b651(0x12b));await this[_0x58b651(0x256)](!![]);}),_0x57d00c=$(_0x434b5d(0x1f0))['click'](()=>this['_pDoResolve'](VeCt[_0x434b5d(0x2bb)]));$$(_0xe92170)`
		<div class="flex w-100 my-1 bold">
			<div class="text-center col-1"></div>
			<div class="text-center col-2">Current</div>
			<div class="text-center col-2 ve-muted">Mod</div>
			<div class="text-center col-2 text-center">${_0xd45632}</div>
			<div class="text-center col-1"></div>
			<div class="text-center col-2">Result</div>
			<div class="text-center col-2 ve-muted">Mod</div>
		</div>
		<div class="flex-col w-100 h-100">
			${_0x28ded6[_0x434b5d(0x2ad)](_0x1a97e6=>_0x1a97e6[_0x434b5d(0xfc)])}
		</div>
		<div class="flex-v-center flex-h-right w-100">${_0x363918}${_0x57d00c}</div>
		`;}['_render_feat'](_0x746422){const _0x1a8eb1=_0x182f4b,_0x44596e=$(_0x1a8eb1(0xfb))['click'](async()=>{const _0x3f54ed=_0x1a8eb1,_0x2b597e=await ImportListFeat[_0x3f54ed(0x286)][_0x3f54ed(0x1b9)]({'id':'feats-classAbilityScoreIncrease','name':_0x3f54ed(0x264),'singleName':_0x3f54ed(0x176),'wizardTitleWindow':_0x3f54ed(0x1de),'wizardTitlePanel3':_0x3f54ed(0x17a),'wizardTitleButtonOpenImporter':_0x3f54ed(0x251)},'classAbilityScoreIncrease');if(!_0x2b597e)return;this['_state'][_0x3f54ed(0x1c6)]=_0x2b597e;}),_0x4f04ad=$(_0x1a8eb1(0x19b)),_0x41bbd0=()=>{const _0xc87c22=_0x1a8eb1;_0x4f04ad['empty']();if(!this[_0xc87c22(0x1e8)][_0xc87c22(0x1c6)])return;_0x4f04ad[_0xc87c22(0x11f)]('<hr\x20class=\x22hr-1\x22><h3\x20class=\x22mb-2\x20mt-0\x22>Selected:\x20'+this[_0xc87c22(0x1e8)][_0xc87c22(0x1c6)]['name']+_0xc87c22(0x272));const {page:_0x4d1be0,source:_0x5094c3,hash:_0x2aa308}=MiscUtil[_0xc87c22(0x160)](this[_0xc87c22(0x1e8)]['featData'],_0xc87c22(0x247),SharedConsts[_0xc87c22(0x190)])||{};if(!_0x2aa308)return;Renderer[_0xc87c22(0x246)]['pCacheAndGet'](_0x4d1be0,_0x5094c3,_0x2aa308)[_0xc87c22(0x197)](_0x1b8eb7=>{const _0x2edadf=_0xc87c22;_0x4f04ad[_0x2edadf(0x1b7)](),$$(_0x4f04ad)`<hr class="hr-1">
					${Vetools[_0x2edadf(0x239)](()=>Renderer[_0x2edadf(0x246)][_0x2edadf(0x193)](UrlUtil[_0x2edadf(0x1e6)],_0x1b8eb7))}`;});};_0x41bbd0(),this[_0x1a8eb1(0x177)]('featData',_0x41bbd0);const _0x39fc55=$(_0x1a8eb1(0x178))[_0x1a8eb1(0xf7)](async()=>{const _0x4f8aca=_0x1a8eb1;if(!this[_0x4f8aca(0x1e8)]['featData'])return ui['notifications'][_0x4f8aca(0x1c0)](_0x4f8aca(0x278));await this['_pDoResolve'](!![]);}),_0x14704f=$('<button\x20class=\x22btn\x20btn-default\x20btn-5et\x22>Skip</button>')['click'](()=>this[_0x1a8eb1(0x256)](VeCt[_0x1a8eb1(0x2bb)]));$$(_0x746422)`
		<div class="flex-col h-100">
			<div class="flex-v-center mb-1">
				${_0x44596e}
				<div class="flex-v-center btn-group">${_0x39fc55}${_0x14704f}</div>
			</div>
			${_0x4f04ad}
		</div>
		`;}async[_0x182f4b(0x256)](_0x4c12c3){const _0x2328cb=_0x182f4b;if(!_0x4c12c3)return this['_fnClose']();if(_0x4c12c3===VeCt[_0x2328cb(0x2bb)])return this[_0x2328cb(0x268)]=!![],this[_0x2328cb(0x1fc)]();const _0x4a198e=this[_0x2328cb(0x2a6)]();_0x4a198e&&(this[_0x2328cb(0x268)]=!![],await this[_0x2328cb(0x123)][_0x2328cb(0x1e5)](_0x4a198e));const _0x38572f=this['_getFeatData']();_0x38572f&&(this['_isDataEntered']=!![],this[_0x2328cb(0x10e)]['items'][_0x2328cb(0x1d4)](_0x38572f)),this[_0x2328cb(0x1fc)]();}[_0x182f4b(0x2a6)](){const _0x2152d6=_0x182f4b;if(this[_0x2152d6(0x1e8)][_0x2152d6(0x132)]!==_0x2152d6(0x198))return null;return{'data':{'abilities':{'str':{'value':this['_state'][_0x2152d6(0x2be)]+this[_0x2152d6(0x1e8)]['strBonus']},'dex':{'value':this['_state']['dex']+this['_state'][_0x2152d6(0x151)]},'con':{'value':this[_0x2152d6(0x1e8)][_0x2152d6(0x1d7)]+this[_0x2152d6(0x1e8)][_0x2152d6(0x2c3)]},'int':{'value':this['_state'][_0x2152d6(0x2ae)]+this['_state'][_0x2152d6(0x18e)]},'wis':{'value':this[_0x2152d6(0x1e8)][_0x2152d6(0x148)]+this[_0x2152d6(0x1e8)]['wisBonus']},'cha':{'value':this[_0x2152d6(0x1e8)][_0x2152d6(0x127)]+this['_state'][_0x2152d6(0x222)]}}}};}[_0x182f4b(0x16c)](){const _0x4a159d=_0x182f4b;if(this[_0x4a159d(0x1e8)][_0x4a159d(0x132)]!==_0x4a159d(0x11e))return null;return this[_0x4a159d(0x1e8)][_0x4a159d(0x1c6)];}[_0x182f4b(0x15c)](){const _0x215734=_0x182f4b;return{'mode':_0x215734(0x198),'str':0x0,'dex':0x0,'con':0x0,'int':0x0,'wis':0x0,'cha':0x0,'strBonus':0x0,'dexBonus':0x0,'conBonus':0x0,'intBonus':0x0,'wisBonus':0x0,'chaBonus':0x0,'featData':null};}};export{ImportListClass};