const _0x2596=['scale','Upload\x20File','asText','perm','pGetChooseImporterUserDataForSources','assumedPb','escapeRegexp','style','crToPb','skills','reset','all','_list','alignment','4sBaZFS','senses','includes','Import\x20with\x20CR\x20Scaling/Renames','walk','spellDc','source','environment','pGetSpellHashToItemPosMapAndFillSpells','lower','Breath\x20Weapons:\x20','Miscellaneous','getCreatureUrl','_getFolderTypeWithTags','getAbilityModNumber','stringify','_pImportEntry_pFillData_Attributes_Ac','lair','link','absorbFnBindListenersRadio','789869iiUfai','getDamageTupleMetas','languages','_plut_legActions','importItem','getEntryDescription','prof','_pImportEntry_pFillItems_pSpellcasting_recharge','3466YsjgLq','_getItemHashesFromString','_pImportEntry_pFillToken','npc','_pImportEntry_fillData_Spells','_getItemHashesFromAcItem','replace','updateEmbeddedEntity','int','text-center','class','getItemActorPassive','263884mbVVQc','_pImportEntry_pFillItems','_isRadio','(^|[^a-zA-Z0-9])','sourceJsonToFull','legendary','pGetLairActionImage','warn','darkvision','getFolderPathMeta','tremorsense','getMovement','data','pGetHomebrewSources','fluff','from','forEach','headerEntries','flags','reaction','_pImportEntry_fillData_Traits','bind','_$btnReset','_pImportEntry_pFillData_Attributes_Ac_getAcFromItemEffects','_getAbsorbListItemOpts','mon','size','updateEntity','_getFolderCr','_initAssumedPb','doAbsorbItems','C_CREATURE_NAMETAGS_CR','_isSkipFolder','getMetaGroup','modules/','daily','toLowerCase','getSourceWithPagePart','getLegendaryActionIntro','charges','btn-run-mods','speed','find','spellClass','movement','pGetSources','[name=\x22btn-run\x22]','prepared','data/bestiary/','trait','Import\x20Creatures','attributes','val','_pImportEntry_fillData_Details','_getCasterClassFromEntry','effects','SOURCES_ADVENTURES','5sLegcR','MAX_SAFE_INTEGER','legendaryMeta','SRD','copy','5etools-creatures','biography','joinConjunct','entry','resources.legact.value','SOURCE_TYP_ARCANA','_pImportEntry_pFillItems_pLegendaryHeader','formula','Unknown\x20CR','_plut_isLegendaryResistance','sourceClassName','name','Regional\x20Effects','str','spellAbility','_titleSearch','dexterityMax','actor','_isPreviewable','Eye\x20Ray:\x20','_getSavingThrowData','monsterFluff','getWalker','min','item','legact','permissions','getNameWithSourcePart','104HfZZud','filter','VALID_LANGUAGES','MODULE_NAME','function','SOURCE_TYP_OFFICIAL_SINGLE','Actor','Name','every','crToNumber','regionalEffects','_pImportEntry_pFillItems_pAction','ele','_id','sourceJsonToColor','monster','trim','addPlugin','get','split','pGetParsedAction','sort','uppercaseFirst','legres','[name=\x22btn-reset\x22]','feat','getMaxWindowHeight','_pImportEntry_pFillItems_pActions','sortMonsters','spellLevel','initBtnSortHandlers','importCreature','_postLoadVetools','_pageFilter','postProcessFluff','sourceJsonToAbv','crToXpNumber','spelldc','SOURCE_TYP_OFFICIAL_ALL','flat','ability','_getDamageTuplesWithMod','close','cha','175606KarKwE','DataSourceFile','consume','ImportEntryOpts','dex','med','stripTags','set','_pImportEntry_pFillItems_pSpellcasting','OwnedItem','getDamagePartsAndOtherFormula','VET_SIZE_TO_ABV','pCacheAndGetHash','pact','/template/ImportListCreatureScaleRename.handlebars','getData','weaponCategory','absorbFnBindListeners','_dataList','uid','exec','C_CREATURE_NAMETAGS_TYPE','items','ABIL_ABVS','filterBox','hover','bardingType','getSpellcastingRenderedTraits','length','1yqYKFa','DataSourceUrl','truesight','resources','_pImportEntry_pFillData_Attributes','legendaryActions','rest','monTypeToFullObj','creatures','CR_CUSTOM','doHookSpellLinkRender','Scale\x20and\x20Rename\x20Creatures','_displayName','MODULE_NAME_FAKE','custom','MODULE_LOCATION','bonus','number','removePlugin','pGetAllCreatures','_isUseMods','keys','_pImportEntry_fillConditionsDamage','_activateListeners_absorbListItems','actors','_initSpellcasterData','constructor','isStreamerMode','isAddActiveEffects','_getLairActionName','lairActions','_pImportEntry_pFillItems_addTextOnlyItem','prop','Custom\x20URL','activateListeners','action','_pImportEntry_pFillItems_pAddItem','.veapp__list','ascSort','mutateForFilters','</div>','_WALER_RENAME','_pImportEntry_fillData_Currency','665562pMwwuk','URL_TO_HASH_BUILDER','entries','permission','sourceLong','_getActorSheetName','blindsight','\x20or\x20','type','_vCr','list','bonusAc','has','_resolve','creature','spellcastingPrimaryTraitMode','toTitleCase','weekly','push','_getSpellCount','_pImportEntry_pFillItems_pTraitsReactionsLegendaries','5etools','Lair:\x20','titleSearch','...','string','pGetItemItem','monCrToFull','_pImportEntry_pFillItems_pRegionalEffects','innate','fnPreProcess','139703XiMujx','pGetTraitReactionLegendaryImage','add','_pTypes','resources.legres.value','isUseTokenImageAsPortrait','alignmentListToFull','_pImportEntry_pFillItems_lairActions_addLairAction','pAddActorItems','_pImportEntry_pFillItems_pLairActions','isImportBioImages','_pack','findIndex','Type','attribute','ScaleRename','_getFolderType','constant','group','isNonstandardSource','_getRenamedMon','_getCasterLevelFromEntry','_pFnPostProcessEntries','_plut_cleanName','will','postItemItemUpdates','_pImportEntry_pGetFolderId','_titleButtonRun','average','PG_ITEMS','test','startsWith','_pImportEntry_pFillItems_pInventory','_tmpItemId','setFromValues','Type\x20(With\x20Tags)','join','Lair\x20Action','pGetFluff','spellcasting','rendered','_content','\x20+\x20@mod','_getBiographyValue','click','Challenge\x20Rating','_pImportEntry_pFillItems_getSubActions','splice','max','892087qSkmUE','nameTags','Failed\x20to\x20find\x20sheet\x20item\x20for\x20item\x20\x22','map','details','_userData','race','spells'];const _0x31aa=function(_0x3258c8,_0xc64ea8){_0x3258c8=_0x3258c8-0x14e;let _0x259600=_0x2596[_0x3258c8];return _0x259600;};const _0x2e8401=_0x31aa;(function(_0x286088,_0x548dfa){const _0x19e863=_0x31aa;while(!![]){try{const _0x3d5f24=parseInt(_0x19e863(0x21c))+-parseInt(_0x19e863(0x230))+parseInt(_0x19e863(0x1c1))*-parseInt(_0x19e863(0x269))+-parseInt(_0x19e863(0x1a2))+parseInt(_0x19e863(0x15a))*parseInt(_0x19e863(0x208))+-parseInt(_0x19e863(0x224))*parseInt(_0x19e863(0x28a))+-parseInt(_0x19e863(0x1f2))*-parseInt(_0x19e863(0x177));if(_0x3d5f24===_0x548dfa)break;else _0x286088['push'](_0x286088['shift']());}catch(_0x5fcc7d){_0x286088['push'](_0x286088['shift']());}}}(_0x2596,0x60ab3));import{ImportListActor}from'./ImportListActor.js';import{Vetools}from'./Vetools.js';import{Util,LGT}from'./Util.js';import{UtilActors}from'./UtilActors.js';import{UtilApplications}from'./UtilApplications.js';import{DataConverter}from'./DataConverter.js';import{DataConverterItem}from'./DataConverterItem.js';import{SharedConsts}from'../shared/SharedConsts.js';import{Config}from'./Config.js';import{UtilList2}from'./UtilList2.js';import{DataConverterSpell}from'./DataConverterSpell.js';import{DataConverterCreature}from'./DataConverterCreature.js';import{UtilDataSource}from'./UtilDataSource.js';import{UtilCompat}from'./UtilCompat.js';import{ConfigConsts}from'./ConfigConsts.js';import{DataConverterActor}from'./DataConverterActor.js';class ImportListCreature extends ImportListActor{constructor(_0x3d8d49,_0x2c7161,_0x50366e,_0x386fe0){const _0x5e8e43=_0x31aa;_0x3d8d49=_0x3d8d49||{},_0x2c7161=_0x2c7161||{},_0x50366e=_0x50366e||{},_0x386fe0=_0x386fe0||{},super({'title':_0x5e8e43(0x262),..._0x2c7161},_0x3d8d49,{'props':[_0x5e8e43(0x299)],'titleSearch':_0x5e8e43(0x17f),'sidebarTab':'actors','gameProp':_0x5e8e43(0x18f),'defaultFolderPath':['Creatures'],'folderType':_0x5e8e43(0x290),'fnListSort':PageFilterBestiary[_0x5e8e43(0x2a6)],'pageFilter':new PageFilterBestiary(),'isActorRadio':!![],'page':UrlUtil['PG_BESTIARY'],'isPreviewable':!![],'isModdable':!![],'isDedupable':!![],..._0x50366e},{'actorType':_0x5e8e43(0x227),..._0x386fe0}),this[_0x5e8e43(0x18b)]=![];}async[_0x2e8401(0x25d)](){const _0x4658d2=_0x2e8401,_0x231980=await Vetools['pGetCreatureIndex']();return[new UtilDataSource['DataSourceSpecial'](Config['get']('ui',_0x4658d2(0x192))?_0x4658d2(0x26c):_0x4658d2(0x1b7),async()=>(await Vetools[_0x4658d2(0x18a)]())[_0x4658d2(0x299)],{'cacheKey':_0x4658d2(0x26e),'filterTypes':[UtilDataSource[_0x4658d2(0x154)]],'isDefault':!![]}),new UtilDataSource[(_0x4658d2(0x178))](_0x4658d2(0x198),'',{'filterTypes':[UtilDataSource['SOURCE_TYP_CUSTOM']]}),new UtilDataSource[(_0x4658d2(0x15b))](_0x4658d2(0x1fb),{'filterTypes':[UtilDataSource['SOURCE_TYP_CUSTOM']]}),...Object['entries'](_0x231980)[_0x4658d2(0x1f5)](([_0x4f0af0,_0x343c6f])=>new UtilDataSource['DataSourceUrl'](Parser[_0x4658d2(0x234)](_0x4f0af0),Vetools[_0x4658d2(0x214)](_0x343c6f),{'source':_0x4f0af0,'pPostLoad':ImportListCreature[_0x4658d2(0x14e)][_0x4658d2(0x245)](ImportListCreature,_0x4f0af0),'filterTypes':SourceUtil[_0x4658d2(0x1d4)](_0x4f0af0)?[UtilDataSource[_0x4658d2(0x273)]]:[UtilDataSource[_0x4658d2(0x28f)]]})),...(await Vetools[_0x4658d2(0x23d)]('creature'))[_0x4658d2(0x1f5)](({name:_0x44da63,url:_0x183571})=>new UtilDataSource[(_0x4658d2(0x178))](_0x44da63,_0x183571,{'filterTypes':[UtilDataSource['SOURCE_TYP_BREW']]}))];}static[_0x2e8401(0x14e)](_0x500021,_0x3d49c6){const _0x56fee7=_0x2e8401;return _0x3d49c6['filter'](_0x3d906c=>_0x3d906c[_0x56fee7(0x20e)]===_0x500021);}async[_0x2e8401(0x1fe)](_0x5c0c2d){const _0x551c9d=_0x2e8401;return{'isSingletonSource_officialAdventure':_0x5c0c2d[_0x551c9d(0x176)]===0x1&&_0x5c0c2d[0x0][_0x551c9d(0x20e)]&&Parser[_0x551c9d(0x268)][_0x551c9d(0x1ae)](_0x5c0c2d[0x0][_0x551c9d(0x20e)])};}async['_pPostFilterRender'](){const _0x1f257e=_0x2e8401;if(!this['_userData'])return;const _0x1a0f1d=this[_0x1f257e(0x1f7)]['isSingletonSource_officialAdventure'];this['_userData']=null;if(!_0x1a0f1d)return;const _0xf49f90=_0x1f257e(0x213),_0x28ae3e=this[_0x1f257e(0x14f)][_0x1f257e(0x172)]['getValues']()[_0xf49f90];this[_0x1f257e(0x14f)][_0x1f257e(0x172)][_0x1f257e(0x1e3)]({[_0xf49f90]:{...Object[_0x1f257e(0x1a4)](_0x28ae3e)[_0x1f257e(0x28b)](([_0x3cad4d])=>!_0x3cad4d[_0x1f257e(0x1e0)]('_'))['mergeMap'](([_0x545719,_0x392958])=>({[_0x545719]:_0x392958})),'Adventure\x20NPC':0x0}});}[_0x2e8401(0x169)](){const _0x573c46=_0x2e8401;return{'isRadio':this[_0x573c46(0x232)],'isPreviewable':this[_0x573c46(0x280)],'titleButtonRun':this[_0x573c46(0x1dc)],'titleSearch':this[_0x573c46(0x27d)],'buttonsAdditional':[{'name':_0x573c46(0x258),'text':_0x573c46(0x20b)}],'cols':[{'name':_0x573c46(0x291),'width':0x4,'field':_0x573c46(0x279)},{'name':_0x573c46(0x1ce),'width':0x5,'field':_0x573c46(0x1aa)},{'name':'CR','width':0x1,'field':'cr','rowClassName':_0x573c46(0x22d)},{'name':'Source','width':0x1,'field':'source','titleProp':_0x573c46(0x1a6),'displayProp':'sourceShort','classNameProp':_0x573c46(0x278),'rowClassName':_0x573c46(0x22d)}],'rows':this['_content']['map']((_0x2cbae2,_0x5e6dc9)=>{const _0x4be5de=_0x573c46;return this[_0x4be5de(0x14f)][_0x4be5de(0x191)][_0x4be5de(0x19e)](_0x2cbae2),_0x2cbae2[_0x4be5de(0x1ab)]=_0x2cbae2['_pCr']||'—',{'name':_0x2cbae2[_0x4be5de(0x279)],'type':_0x2cbae2[_0x4be5de(0x1c4)][_0x4be5de(0x1fc)][_0x4be5de(0x2a0)](),'cr':_0x2cbae2[_0x4be5de(0x1ab)],'source':_0x2cbae2['source'],'sourceShort':Parser['sourceJsonToAbv'](_0x2cbae2[_0x4be5de(0x20e)]),'sourceLong':Parser[_0x4be5de(0x234)](_0x2cbae2[_0x4be5de(0x20e)]),'sourceClassName':Parser[_0x4be5de(0x298)](_0x2cbae2[_0x4be5de(0x20e)]),'ix':_0x5e6dc9};})};}[_0x2e8401(0x248)](){const _0x117c5d=_0x2e8401;return{'fnGetName':_0xabdd2f=>_0xabdd2f[_0x117c5d(0x279)],'fnGetValues':_0x5ad13b=>({'source':_0x5ad13b['source'],'type':_0x5ad13b[_0x117c5d(0x1c4)]['asText'],'cr':_0x5ad13b['_vCr'],'group':_0x5ad13b[_0x117c5d(0x1d3)]||'','alias':(_0x5ad13b['alias']||[])['map'](_0x38fc8f=>'\x22'+_0x38fc8f+'\x22')[_0x117c5d(0x1e5)](','),'hash':UrlUtil[_0x117c5d(0x1a3)][this['_page']](_0x5ad13b)}),'fnGetData':UtilList2['absorbFnGetData'],'fnBindListeners':_0x411691=>this[_0x117c5d(0x232)]?UtilList2[_0x117c5d(0x21b)](this['_list'],_0x411691):UtilList2[_0x117c5d(0x16b)](this['_list'],_0x411691)};}[_0x2e8401(0x18e)](){const _0x1d455b=_0x2e8401;this['_list'][_0x1d455b(0x24e)](this[_0x1d455b(0x1ea)],this[_0x1d455b(0x248)]());}[_0x2e8401(0x239)](){const _0x227f11=_0x2e8401;return{...super[_0x227f11(0x239)](),'cr':{'label':_0x227f11(0x1ee),'getter':_0x3fe3bd=>this[_0x227f11(0x191)][_0x227f11(0x24c)](_0x3fe3bd)},'type':{'label':'Type','getter':_0x56ec77=>this[_0x227f11(0x191)][_0x227f11(0x1d1)](_0x56ec77)},'typeTags':{'label':_0x227f11(0x1e4),'getter':_0x10a003=>this[_0x227f11(0x191)][_0x227f11(0x215)](_0x10a003)}};}static[_0x2e8401(0x24c)](_0x23894b){const _0x235608=_0x2e8401;return _0x23894b['cr']?_0x23894b['cr']['cr']||_0x23894b['cr']:_0x235608(0x276);}static['_getFolderType'](_0x289e99){const _0x115372=_0x2e8401;return Parser[_0x115372(0x17e)](_0x289e99[_0x115372(0x1aa)])[_0x115372(0x1aa)][_0x115372(0x1b2)]();}static['_getFolderTypeWithTags'](_0x3e5320){const _0x480bd2=_0x2e8401;return Parser[_0x480bd2(0x17e)](_0x3e5320[_0x480bd2(0x1aa)])[_0x480bd2(0x1fc)][_0x480bd2(0x2a0)]();}[_0x2e8401(0x1d7)](_0x7201aa){const _0x24519a=_0x2e8401;if(!this[_0x24519a(0x18b)])return _0x7201aa;return new Promise(_0x429bc3=>{const _0x48ac8c=_0x24519a,_0x96d3e1=new ImportListCreature['ScaleRename'](_0x7201aa,_0x429bc3,{'titleSearch':this[_0x48ac8c(0x27d)]});_0x96d3e1['render'](!![]);});}async['_pImportEntry_pGetImportMetadata'](_0x396049,_0x59e478,_0x1029cd){const _0x487917=_0x2e8401,_0x28e37c={},_0x92d5bb=await Renderer['utils'][_0x487917(0x1e7)]({'entity':_0x59e478,'pFnPostProcess':Renderer['monster'][_0x487917(0x150)][_0x487917(0x245)](null,_0x59e478),'fluffBaseUrl':_0x487917(0x260),'fluffProp':_0x487917(0x283)}),_0x2f5e7d=new ImportListCreature[(_0x487917(0x15d))]({'actor':_0x396049,'mon':_0x59e478,'fluff':_0x92d5bb});await this['_pImportEntry_pFillBase'](_0x59e478,_0x28e37c,_0x2f5e7d[_0x487917(0x23e)],{'isUseTokenImageAsPortrait':Config[_0x487917(0x29c)](_0x487917(0x2a9),_0x487917(0x1c6))}),_0x28e37c[_0x487917(0x23c)]={};if(!this[_0x487917(0x250)]&&!_0x1029cd['isTemp']&&!this['_pack']){const _0x527206=await this[_0x487917(0x1db)](_0x59e478);if(_0x527206)_0x28e37c['folder']=_0x527206;}return _0x28e37c[_0x487917(0x1a5)]={'default':Config['get'](_0x487917(0x2a9),_0x487917(0x288))},this['_pImportEntry_fillData_Abilities'](_0x59e478,_0x28e37c[_0x487917(0x23c)],_0x2f5e7d),await this[_0x487917(0x17b)](_0x59e478,_0x28e37c,_0x2f5e7d),this[_0x487917(0x265)](_0x59e478,_0x28e37c[_0x487917(0x23c)],_0x2f5e7d),this['_pImportEntry_fillData_Skills'](_0x59e478,_0x28e37c['data'],_0x2f5e7d),this[_0x487917(0x244)](_0x59e478,_0x28e37c['data'],_0x2f5e7d),this[_0x487917(0x1a1)](_0x59e478,_0x28e37c[_0x487917(0x23c)],_0x2f5e7d),this[_0x487917(0x228)](_0x59e478,_0x28e37c['data'],_0x2f5e7d),this['_pImportEntry_fillData_Resources'](_0x59e478,_0x28e37c[_0x487917(0x23c)],_0x2f5e7d),await this[_0x487917(0x226)](_0x59e478,_0x28e37c,_0x487917(0x2a9)),{'dataBuilderOpts':_0x2f5e7d,'actorData':_0x28e37c};}[_0x2e8401(0x1a7)](_0x1abaed){const _0x6b47a2=_0x2e8401,_0x311f4e=[DataConverter[_0x6b47a2(0x289)](_0x1abaed)],_0xbabe2f=Config['get'](_0x6b47a2(0x2a9),_0x6b47a2(0x1f3));return Object['entries'](_0xbabe2f)['filter'](([,_0x2fbe2f])=>_0x2fbe2f)[_0x6b47a2(0x240)](([_0x7779c4])=>{const _0x239fb6=_0x6b47a2;switch(Number(_0x7779c4)){case ConfigConsts[_0x239fb6(0x24f)]:_0x311f4e[_0x239fb6(0x1b4)]('['+this[_0x239fb6(0x191)][_0x239fb6(0x24c)](_0x1abaed)+']');break;case ConfigConsts[_0x239fb6(0x16f)]:_0x311f4e['push']('['+this['constructor'][_0x239fb6(0x1d1)](_0x1abaed)+']');break;case ConfigConsts['C_CREATURE_NAMETAGS_TYPE_WITH_TAGS']:_0x311f4e[_0x239fb6(0x1b4)]('['+this[_0x239fb6(0x191)][_0x239fb6(0x215)](_0x1abaed)+']');break;}}),_0x311f4e[_0x6b47a2(0x1e5)]('\x20');}async['_pImportEntry_pFillData_Attributes'](_0x385539,_0x5be17f,_0x1c0b9e){const _0x4d787b=_0x2e8401,_0x1ea84f=_0x5be17f['data'],_0x12a07b={};let _0x1f1b4b=0xa;if(_0x385539['ac']&&_0x385539['ac']['length']){const _0x5e4854=_0x385539['ac'][0x0];if(typeof _0x5e4854===_0x4d787b(0x188))_0x1f1b4b=_0x5e4854;else{if(typeof _0x5e4854['ac']===_0x4d787b(0x188))_0x1f1b4b=_0x5e4854['ac'];}_0x1f1b4b=await this[_0x4d787b(0x218)](_0x385539,_0x5be17f,_0x1c0b9e,_0x1f1b4b,_0x5e4854);}_0x12a07b['ac']={'min':0x0,'value':_0x1f1b4b};let _0x4ca574=0x0,_0x27a2cf='';if(_0x385539['hp']){if(_0x385539['hp'][_0x4d787b(0x1dd)])_0x4ca574=_0x385539['hp'][_0x4d787b(0x1dd)];if(_0x385539['hp'][_0x4d787b(0x275)])_0x27a2cf=_0x385539['hp'][_0x4d787b(0x275)];}_0x12a07b['hp']={'value':_0x4ca574,'min':0x0,'max':_0x4ca574,'temp':0x0,'tempmax':0x0,'formula':_0x27a2cf},_0x12a07b['init']={'value':0x0,'mod':0x0,'bonus':0x0,'total':Parser[_0x4d787b(0x216)](_0x385539[_0x4d787b(0x15e)]),'prof':0x0},_0x12a07b[_0x4d787b(0x222)]=_0x1c0b9e['pb'],_0x12a07b[_0x4d787b(0x25c)]=DataConverter[_0x4d787b(0x23b)](_0x385539[_0x4d787b(0x259)]),_0x12a07b['spellcasting']=_0x1c0b9e['spellAbility'],_0x12a07b[_0x4d787b(0x153)]=_0x1c0b9e['spellDc'],_0x12a07b[_0x4d787b(0x209)]={'darkvision':0x0,'blindsight':0x0,'tremorsense':0x0,'truesight':0x0,'units':'ft','special':''},_0x12a07b['senses']['special']=(_0x385539[_0x4d787b(0x209)]||[])[_0x4d787b(0x28b)](_0x55229e=>{const _0x1debd2=_0x4d787b,_0x494fed=/(blindsight|darkvision|tremorsense|truesight)\s*(\d+)/i['exec'](_0x55229e);if(!_0x494fed)return!![];const _0x5cdd45=Number(_0x494fed[0x2]);switch(_0x494fed[0x1]){case _0x1debd2(0x238):_0x12a07b[_0x1debd2(0x209)][_0x1debd2(0x238)]=_0x5cdd45;break;case _0x1debd2(0x1a8):_0x12a07b['senses'][_0x1debd2(0x1a8)]=_0x5cdd45;break;case _0x1debd2(0x23a):_0x12a07b[_0x1debd2(0x209)][_0x1debd2(0x23a)]=_0x5cdd45;break;case _0x1debd2(0x179):_0x12a07b[_0x1debd2(0x209)]['truesight']=_0x5cdd45;break;}return![];})[_0x4d787b(0x1e5)](',\x20'),_0x1ea84f[_0x4d787b(0x263)]=_0x12a07b;}async[_0x2e8401(0x218)](_0x1db37f,_0x36ef26,_0x46dce1,_0x289501,_0x85141d){const _0x56bc32=_0x2e8401;if(!_0x85141d[_0x56bc32(0x23f)])return _0x289501;if(this['_pack'])return _0x289501;const _0x4eece9=this[_0x56bc32(0x191)][_0x56bc32(0x229)](_0x85141d);if(!_0x4eece9[_0x56bc32(0x176)])return _0x289501;const _0x194b97=await this[_0x56bc32(0x247)](_0x1db37f,_0x4eece9);_0x289501!==_0x194b97&&_0x46dce1[_0x56bc32(0x267)][_0x56bc32(0x1b4)]({'label':'Other\x20AC\x20Bonus','icon':_0x56bc32(0x252)+SharedConsts[_0x56bc32(0x28d)]+'/media/icon/mighty-force.svg','changes':[{'key':'data.attributes.ac.value','value':_0x289501-_0x194b97,'mode':CONST['ACTIVE_EFFECT_MODES']['ADD'],'priority':0x7}],'flags':{}});if(!Config[_0x56bc32(0x29c)](_0x56bc32(0x220),'isAddActiveEffects'))return _0x194b97;return 0xa+Parser[_0x56bc32(0x216)](_0x1db37f[_0x56bc32(0x15e)]);}async[_0x2e8401(0x247)](_0x264c28,_0x3f7184){const _0x498b48=_0x2e8401;let _0x4688e9=0xa,_0x5a4c83=0x0,_0x527f94=0x0;for(const _0xdc0560 of _0x3f7184){const _0x1a6105=await Renderer['hover'][_0x498b48(0x166)](UrlUtil[_0x498b48(0x1de)],_0xdc0560);if(!_0x1a6105)continue;let _0x2b2416=Number(_0x1a6105[_0x498b48(0x1ad)]||0x0);if(isNaN(_0x2b2416))_0x2b2416=0x0;switch(_0x1a6105[_0x498b48(0x174)]||_0x1a6105[_0x498b48(0x1aa)]){case'HA':{_0x4688e9=Math[_0x498b48(0x1f1)](_0x4688e9,(_0x1a6105['ac']||0xa)+_0x2b2416);break;}case'MA':{const _0x1576bd=_0x1a6105['dexterityMax']===null?Number[_0x498b48(0x26a)]:_0x1a6105[_0x498b48(0x27e)]!=null?_0x1a6105[_0x498b48(0x27e)]:0x2;_0x4688e9=Math[_0x498b48(0x1f1)](_0x4688e9,(_0x1a6105['ac']||0xa)+Math[_0x498b48(0x285)](_0x1576bd,Parser[_0x498b48(0x216)](_0x264c28[_0x498b48(0x15e)]||0xa))+_0x2b2416);break;}case'LA':{_0x4688e9=Math[_0x498b48(0x1f1)](_0x4688e9,(_0x1a6105['ac']||0xa)+Parser[_0x498b48(0x216)](_0x264c28[_0x498b48(0x15e)]||0xa)+_0x2b2416);break;}case'S':{_0x5a4c83=Math['max'](_0x5a4c83,0x2+_0x2b2416);break;}default:{if(Config[_0x498b48(0x29c)](_0x498b48(0x220),_0x498b48(0x193)))_0x527f94+=_0x2b2416;}}}return _0x4688e9+_0x5a4c83+_0x527f94;}[_0x2e8401(0x265)](_0xea2ff6,_0x4a0d99,_0x432956){const _0x3731b3=_0x2e8401,_0x321d44={};_0x321d44[_0x3731b3(0x207)]=_0xea2ff6[_0x3731b3(0x207)]?Parser[_0x3731b3(0x1c7)](_0xea2ff6['alignment'])['toLowerCase']():'',_0x321d44[_0x3731b3(0x26f)]={'value':this[_0x3731b3(0x1ec)](_0x432956[_0x3731b3(0x23e)],{'isImportText':Config['get'](_0x3731b3(0x2a9),'isImportBio'),'isImportImages':Config[_0x3731b3(0x29c)]('importCreature',_0x3731b3(0x1cb))})};_0x432956[_0x3731b3(0x2a7)]||_0x432956['spellClass']?_0x321d44[_0x3731b3(0x22e)]={'level':_0x432956['spellLevel'],'name':_0x432956[_0x3731b3(0x25b)]}:_0x321d44['class']={};_0x321d44[_0x3731b3(0x2a7)]=_0x432956[_0x3731b3(0x2a7)],_0x321d44[_0x3731b3(0x1f8)]='',_0x321d44['type']=Parser[_0x3731b3(0x17e)](_0xea2ff6['type'])[_0x3731b3(0x1fc)],_0x321d44[_0x3731b3(0x20f)]=_0xea2ff6[_0x3731b3(0x20f)]?_0xea2ff6[_0x3731b3(0x20f)][_0x3731b3(0x29f)](SortUtil['ascSortLower'])[_0x3731b3(0x1f5)](_0x40f796=>_0x40f796[_0x3731b3(0x1b2)]())[_0x3731b3(0x1e5)](',\x20'):'';const _0x5dd295=Parser['crToNumber'](_0xea2ff6['cr']);_0x321d44['cr']=_0x5dd295>=VeCt[_0x3731b3(0x180)]?0x0:_0x5dd295,_0x321d44['xp']={'value':_0xea2ff6['cr']?Parser[_0x3731b3(0x152)](_0xea2ff6['cr'])||0x0:0x0},_0x321d44[_0x3731b3(0x20e)]=DataConverter[_0x3731b3(0x255)](_0xea2ff6),_0x4a0d99[_0x3731b3(0x1f6)]=_0x321d44;}['_pImportEntry_fillData_Skills'](_0xeae88f,_0x56eeb6,_0x53f4de){const _0xb734c5=_0x2e8401;_0x56eeb6[_0xb734c5(0x203)]=DataConverterCreature['getDataSkills'](_0xeae88f,_0x56eeb6,_0x53f4de);}['_pImportEntry_fillData_Traits'](_0x4683bf,_0x304eef,_0xa51dc7){const _0xb25a9=_0x2e8401,_0x172199={};_0x172199[_0xb25a9(0x24a)]=UtilActors[_0xb25a9(0x165)][_0x4683bf[_0xb25a9(0x24a)]]||_0xb25a9(0x15f);const _0x3a7539=new Set();let _0x40f0c3=[];_0x4683bf[_0xb25a9(0x21e)]&&_0x4683bf[_0xb25a9(0x21e)]['forEach'](_0x2cf550=>{const _0x4bfa40=_0xb25a9,_0x36862e=UtilActors[_0x4bfa40(0x28c)][_0x2cf550[_0x4bfa40(0x254)]()[_0x4bfa40(0x29a)]()];if(_0x36862e)_0x3a7539[_0x4bfa40(0x1c3)](_0x36862e);else _0x3a7539[_0x4bfa40(0x1c3)](_0x4bfa40(0x185)),_0x40f0c3[_0x4bfa40(0x1b4)](_0x2cf550);}),_0x172199[_0xb25a9(0x21e)]={'value':[..._0x3a7539],'custom':_0x40f0c3[_0xb25a9(0x28b)](Boolean)[_0xb25a9(0x1e5)](';\x20')},this[_0xb25a9(0x18d)](_0x4683bf,_0x172199),_0x304eef['traits']=_0x172199;}[_0x2e8401(0x1a1)](_0x1982a0,_0x3047b9,_0x251743){_0x3047b9['currency']={'pp':0x0,'gp':0x0,'ep':0x0,'sp':0x0,'cp':0x0};}['_pImportEntry_fillData_Spells'](_0xd34b51,_0x2451c0,_0x18784c){const _0x22d8c0=_0x2e8401;_0x2451c0[_0x22d8c0(0x1f9)]=DataConverterCreature['getDataSpells'](_0xd34b51,_0x2451c0,_0x18784c);}['_pImportEntry_fillData_Resources'](_0x5e5383,_0x711e,_0x35b13d){const _0x228f65=_0x2e8401,_0x4c4e62={};let _0x3f8520=0x0;if(_0x5e5383[_0x228f65(0x235)])_0x3f8520=_0x5e5383[_0x228f65(0x17c)]||0x3;_0x4c4e62[_0x228f65(0x287)]={'value':_0x3f8520,'max':_0x3f8520};let _0x5648de=0x0;if(_0x5e5383[_0x228f65(0x261)]){const _0xe6ab70=_0x5e5383[_0x228f65(0x261)][_0x228f65(0x25a)](_0x953fd7=>/legendary resistance/gi[_0x228f65(0x1df)](_0x953fd7[_0x228f65(0x279)]||''));if(_0xe6ab70){const _0x4aade5=/\((\d+)\/Day\)/i[_0x228f65(0x16e)](_0xe6ab70['name']);if(_0x4aade5)_0x5648de=Number(_0x4aade5[0x1]);}}_0x4c4e62[_0x228f65(0x2a1)]={'value':_0x5648de,'max':_0x5648de},_0x4c4e62[_0x228f65(0x219)]={'value':!!(_0x35b13d['legendaryMeta']&&_0x35b13d[_0x228f65(0x26b)][_0x228f65(0x195)]),'initiative':0x14},_0x711e[_0x228f65(0x17a)]=_0x4c4e62;}async[_0x2e8401(0x231)](_0x34e9d1,_0x5333cb,_0x44bd07,_0x18b0b1){const _0x28d494=_0x2e8401;await this[_0x28d494(0x2a5)](_0x34e9d1,_0x5333cb,_0x44bd07),await this[_0x28d494(0x1b6)](_0x34e9d1,_0x5333cb,_0x44bd07,{'prop':_0x28d494(0x261),'fnPreProcess':_0x30a377=>{const _0x258a7b=_0x28d494;if(!/legendary resistance/gi[_0x258a7b(0x1df)](_0x30a377['name']||''))return;_0x30a377['_plut_isLegendaryResistance']=!![];}},{'consumeType':_0xacaf9c=>_0xacaf9c['_plut_isLegendaryResistance']?_0x28d494(0x1cf):null,'consumeTarget':_0x101919=>_0x101919[_0x28d494(0x277)]?_0x28d494(0x1c5):null,'consumeAmount':_0x239ab9=>_0x239ab9['_plut_isLegendaryResistance']?0x1:null}),await this[_0x28d494(0x1b6)](_0x34e9d1,_0x5333cb,_0x44bd07,{'prop':_0x28d494(0x187)},{'activationType':_0x28d494(0x187),'activationCost':0x1}),await this['_pImportEntry_pFillItems_pTraitsReactionsLegendaries'](_0x34e9d1,_0x5333cb,_0x44bd07,{'prop':_0x28d494(0x243)},{'activationType':'reaction','activationCost':0x1}),await this[_0x28d494(0x274)](_0x34e9d1,_0x5333cb,_0x44bd07),await this[_0x28d494(0x1b6)](_0x34e9d1,_0x5333cb,_0x44bd07,{'prop':_0x28d494(0x235),'fnPreProcess':_0x10cf29=>{const _0x590362=_0x28d494;_0x10cf29[_0x590362(0x21f)]=0x1,_0x10cf29[_0x590362(0x279)]&&(_0x10cf29['name']=_0x10cf29[_0x590362(0x279)]['replace'](/\(costs (\d+) actions?\)/i,(..._0x2a0ee6)=>{return _0x10cf29['_plut_legActions']=Number(_0x2a0ee6[0x1]),'';})[_0x590362(0x29a)]());}},{'activationType':_0x28d494(0x235),'activationCost':_0x31ddbc=>_0x31ddbc['_plut_legActions'],'consumeType':'attribute','consumeTarget':_0x28d494(0x272),'consumeAmount':_0x491a77=>_0x491a77['_plut_legActions']}),await this[_0x28d494(0x1ca)](_0x34e9d1,_0x5333cb,_0x44bd07),await this[_0x28d494(0x1be)](_0x34e9d1,_0x5333cb,_0x44bd07),await this[_0x28d494(0x1e1)](_0x34e9d1,_0x5333cb,_0x44bd07);const _0xe6c4a5=_0x18b0b1['isTemp']||this[_0x28d494(0x1cc)]!=null;await this[_0x28d494(0x162)](_0x34e9d1,_0x5333cb,_0xe6c4a5,_0x44bd07),await UtilActors[_0x28d494(0x1c9)](_0x44bd07[_0x28d494(0x27f)],_0x44bd07['items'],_0xe6c4a5);}[_0x2e8401(0x196)](_0x1e8bf9,_0x5293bb,_0x2feea3,_0x286236,_0x371379){const _0x3929ce=_0x2e8401;_0x5293bb[_0x3929ce(0x170)][_0x3929ce(0x1b4)](DataConverter['getItemActorPassive'](_0x286236,{..._0x371379,'mode':'creature','pb':_0x5293bb[_0x3929ce(0x1ff)],'entity':_0x1e8bf9,'source':_0x1e8bf9[_0x3929ce(0x20e)],'actor':{'data':_0x2feea3}}));}async['_pImportEntry_pFillItems_pLegendaryHeader'](_0x48bd72,_0x414aa7,_0x286499){const _0x4daa76=_0x2e8401;let _0x284095=0x0;if(_0x48bd72[_0x4daa76(0x235)])_0x284095=_0x48bd72['legendaryActions']||0x3;if(!_0x284095)return;const _0x3014a4='<div>'+Renderer[_0x4daa76(0x299)][_0x4daa76(0x256)](_0x48bd72)+_0x4daa76(0x19f),_0x1a9f45=await DataConverterCreature['pGetTraitReactionLegendaryImage'](_0x48bd72,{'name':'Legendary\x20Actions'},_0x286499);_0x286499[_0x4daa76(0x170)][_0x4daa76(0x1b4)](DataConverter[_0x4daa76(0x22f)]({'name':'Legendary\x20Actions'},{'fvttType':_0x4daa76(0x2a3),'description':_0x3014a4,'mode':_0x4daa76(0x1b0),'pb':_0x286499[_0x4daa76(0x1ff)],'entity':_0x48bd72,'source':_0x48bd72[_0x4daa76(0x20e)],'actor':{'data':_0x414aa7},'img':_0x1a9f45}));}async['_pImportEntry_pFillItems_pTraitsReactionsLegendaries'](_0x111783,_0x11f0ce,_0x3baa74,_0x14213f,_0x561635){const _0x1a27c1=_0x2e8401;_0x561635=_0x561635||{};if(!_0x111783[_0x14213f[_0x1a27c1(0x197)]])return;for(let _0x2a323b of _0x111783[_0x14213f[_0x1a27c1(0x197)]]){_0x14213f['fnPreProcess']&&(_0x2a323b=MiscUtil[_0x1a27c1(0x26d)](_0x2a323b),_0x14213f[_0x1a27c1(0x1c0)](_0x2a323b));const _0xbf1ff5={};Object[_0x1a27c1(0x1a4)](_0x561635)[_0x1a27c1(0x240)](([_0x3128be,_0x139323])=>{const _0x596523=_0x1a27c1;if(typeof _0x139323===_0x596523(0x28e))_0xbf1ff5[_0x3128be]=_0x139323(_0x2a323b);else _0xbf1ff5[_0x3128be]=MiscUtil[_0x596523(0x26d)](_0x139323);});const _0x34d33e=await DataConverterCreature[_0x1a27c1(0x1c2)](_0x111783,_0x2a323b,_0x3baa74,{'isLegendary':_0x14213f[_0x1a27c1(0x197)]===_0x1a27c1(0x235)});this[_0x1a27c1(0x196)](_0x111783,_0x3baa74,_0x11f0ce,_0x2a323b,{..._0xbf1ff5,'fvttType':_0x1a27c1(0x2a3),'img':_0x34d33e});}}static[_0x2e8401(0x194)](_0x4b52cb){const _0x2262e9=_0x2e8401,_0x24c000=Renderer[_0x2262e9(0x160)](_0x4b52cb);let _0x5b173f=_0x2262e9(0x1b8);const _0x37b714=_0x24c000['split']('\x20');for(const _0xcde6b8 of _0x37b714){if(_0x5b173f[_0x2262e9(0x176)]+_0xcde6b8['length']<0x32)_0x5b173f+=_0xcde6b8+'\x20';else break;}if(_0x24c000[_0x2262e9(0x176)]>_0x5b173f[_0x2262e9(0x29a)]()[_0x2262e9(0x176)])_0x5b173f+=_0x2262e9(0x1ba);else _0x5b173f=_0x5b173f['trim']();return _0x5b173f;}async['_pImportEntry_pFillItems_pLairActions'](_0x38070e,_0x5582d8,_0x3a3048){const _0xc80c97=_0x2e8401;if(!_0x3a3048[_0xc80c97(0x26b)]?.[_0xc80c97(0x195)])return;const _0xf54f7a=_0x3a3048[_0xc80c97(0x26b)]['lairActions'],_0xb3b248=_0xf54f7a['find'](_0x454f96=>_0x454f96[_0xc80c97(0x1aa)]===_0xc80c97(0x1ac));if(_0xb3b248)for(let _0x2e5a39=0x0;_0x2e5a39<_0xb3b248['items'][_0xc80c97(0x176)];++_0x2e5a39){const _0x95da93=_0xb3b248[_0xc80c97(0x170)][_0x2e5a39];await this[_0xc80c97(0x1c8)](_0x38070e,_0x5582d8,_0x3a3048,_0x95da93,_0x2e5a39);}else await this[_0xc80c97(0x1c8)](_0x38070e,_0x5582d8,_0x3a3048,_0xf54f7a);}async[_0x2e8401(0x1c8)](_0x2161a7,_0x10959a,_0x33cf83,_0x49638c,_0x25ff12){const _0x28cfca=_0x2e8401;if(_0x49638c instanceof Array)typeof _0x49638c[0x0]===_0x28cfca(0x1bb)?_0x49638c={'type':_0x28cfca(0x1a4),'name':this[_0x28cfca(0x191)]['_getLairActionName'](_0x49638c[0x0]),'entries':_0x49638c}:_0x49638c={'type':_0x28cfca(0x1a4),'name':_0x28cfca(0x1e6)+(_0x25ff12!=null?'\x20'+(_0x25ff12+0x1):''),'entries':_0x49638c};else{if(typeof _0x49638c===_0x28cfca(0x1bb))_0x49638c={'type':'entries','name':this[_0x28cfca(0x191)][_0x28cfca(0x194)](_0x49638c),'entries':[_0x49638c]};else throw new Error('Unhandled\x20lair\x20action\x20format!');}const _0x2da73b=JSON[_0x28cfca(0x217)](_0x49638c),{saveAbility:_0x4cd13c,saveScaling:_0x1e644d,saveDc:_0x275167}=this['_getSavingThrowData'](_0x2161a7,_0x33cf83[_0x28cfca(0x1ff)],_0x2da73b),_0x1de4f3=[];let _0xb97688='';if(typeof _0x49638c[_0x28cfca(0x1a4)][0x0]===_0x28cfca(0x1bb)){const {damageTupleMetas:_0x17f15d}=DataConverter[_0x28cfca(0x21d)](_0x49638c[_0x28cfca(0x1a4)][0x0]),{damageParts:_0x46c33d,formula:_0x73c942}=DataConverter[_0x28cfca(0x164)](_0x17f15d);_0x1de4f3[_0x28cfca(0x1b4)](..._0x46c33d),_0xb97688=_0x73c942;}const _0x24c68e=this[_0x28cfca(0x157)](_0x1de4f3),_0x3c32d6=await DataConverterCreature[_0x28cfca(0x236)](_0x2161a7,{'name':'Lair\x20Actions'},_0x33cf83);this[_0x28cfca(0x196)](_0x2161a7,_0x33cf83,_0x10959a,_0x49638c,{'fvttType':_0x28cfca(0x2a3),'activationType':_0x28cfca(0x219),'activationCost':0x1,'img':_0x3c32d6,'saveAbility':_0x4cd13c,'saveDc':_0x275167,'saveScaling':_0x1e644d,'damageParts':_0x24c68e,'formula':_0xb97688});}async['_pImportEntry_pFillItems_pRegionalEffects'](_0x176e43,_0x4c5513,_0x5efe0b){const _0x59781e=_0x2e8401;if(!_0x5efe0b[_0x59781e(0x26b)]?.[_0x59781e(0x294)])return;const _0x585139={'type':_0x59781e(0x1a4),'name':_0x59781e(0x27a),'entries':MiscUtil[_0x59781e(0x26d)](_0x5efe0b[_0x59781e(0x26b)][_0x59781e(0x294)])},_0x191a98=await DataConverterCreature[_0x59781e(0x236)](_0x176e43,_0x585139,_0x5efe0b);this['_pImportEntry_pFillItems_addTextOnlyItem'](_0x176e43,_0x5efe0b,_0x4c5513,_0x585139,{'fvttType':_0x59781e(0x2a3),'img':_0x191a98});}async[_0x2e8401(0x2a5)](_0x53ef5c,_0x37280d,_0x168f21){const _0x1d6dda=_0x2e8401;if(!_0x53ef5c['action'])return;for(const _0x25073f of _0x53ef5c[_0x1d6dda(0x19a)]){const _0x5368d9=this['_pImportEntry_pFillItems_getSubActions'](_0x25073f,_0x168f21);for(const _0x3dca38 of _0x5368d9){await this['_pImportEntry_pFillItems_pAction'](_0x53ef5c,_0x37280d,_0x3dca38,_0x168f21);}}}[_0x2e8401(0x1ef)](_0x380676,_0x291082){const _0x1a95bd=_0x2e8401;if(!_0x380676[_0x1a95bd(0x279)]||!_0x380676['entries'])return[_0x380676];if(_0x380676[_0x1a95bd(0x1a4)][_0x1a95bd(0x176)]===0x2&&typeof _0x380676[_0x1a95bd(0x1a4)][0x0]===_0x1a95bd(0x1bb)&&_0x380676['entries'][0x0]['includes']('following\x20breath\x20weapon')&&_0x380676['entries'][0x1][_0x1a95bd(0x1aa)]===_0x1a95bd(0x1ac)&&_0x380676['entries'][0x1][_0x1a95bd(0x170)][_0x1a95bd(0x292)](_0x1d6de1=>_0x1d6de1[_0x1a95bd(0x279)]&&_0x1d6de1[_0x1a95bd(0x271)])){const _0x47d824=[],_0x54ea00=CryptUtil['uid'](),_0x5724df=_0x380676[_0x1a95bd(0x1a4)][0x1][_0x1a95bd(0x170)][_0x1a95bd(0x1f5)](_0x69066b=>{const _0x17c223=_0x1a95bd,_0x8e7a4c=_0x69066b['name'][_0x17c223(0x22a)](/\.\s*$/,''),_0x49c354=_0x17c223(0x212)+_0x8e7a4c,_0x4fd9de=CryptUtil[_0x17c223(0x16d)]();return _0x291082[_0x17c223(0x1da)][_0x17c223(0x1b4)](async({actor:_0x4d6145,isTemp:_0xa80320,isPack:_0x1aafbd,pack:_0x291802})=>{const _0x111712=_0x17c223;if(_0xa80320)return;const _0x54336c=_0x4d6145[_0x111712(0x23c)][_0x111712(0x170)][_0x111712(0x25a)](_0x89e4aa=>_0x89e4aa[_0x111712(0x242)]?.[SharedConsts[_0x111712(0x184)]]?.[_0x111712(0x1e2)]===_0x54ea00);if(!_0x54336c)return console[_0x111712(0x237)](...LGT,'Failed\x20to\x20find\x20parent\x20sheet\x20item\x20for\x20item\x20\x22'+_0x69066b[_0x111712(0x279)]+'\x22');const _0x26e01f=_0x4d6145['data'][_0x111712(0x170)][_0x111712(0x25a)](_0xad0783=>_0xad0783[_0x111712(0x242)]?.[SharedConsts[_0x111712(0x184)]]?.[_0x111712(0x1e2)]===_0x4fd9de);if(!_0x26e01f)return console[_0x111712(0x237)](...LGT,_0x111712(0x1f4)+_0x69066b[_0x111712(0x279)]+'\x22');if(_0x1aafbd){MiscUtil[_0x111712(0x161)](_0x26e01f,_0x111712(0x23c),_0x111712(0x15c),'target',_0x54336c[_0x111712(0x297)]||_0x54336c['id']);const _0x1f0ac4=MiscUtil[_0x111712(0x26d)](_0x4d6145['data']);await _0x291802[_0x111712(0x24b)](_0x1f0ac4);}else{const _0x2f17fd={'_id':_0x26e01f[_0x111712(0x297)],'data':{'consume':{'target':_0x54336c[_0x111712(0x297)]||_0x54336c['id']}}};await _0x4d6145[_0x111712(0x22b)](_0x111712(0x163),_0x2f17fd);}}),{'name':_0x49c354,'_plut_cleanName':_0x8e7a4c,'entries':[_0x69066b[_0x17c223(0x271)]],'_foundryData':{'consume.type':'charges','consume.amount':0x1},'_foundryFlags':{[SharedConsts[_0x17c223(0x184)]]:{'_tmpItemId':_0x4fd9de}}};});return _0x47d824['push']({'name':_0x380676['name'],'entries':[_0x380676[_0x1a95bd(0x1a4)][0x0][_0x1a95bd(0x29a)]()[_0x1a95bd(0x22a)](/[.,!?:]$/,'')+':\x20'+_0x5724df[_0x1a95bd(0x1f5)](_0x80779=>_0x80779['_plut_cleanName'])[_0x1a95bd(0x270)](',\x20',_0x1a95bd(0x1a9))],'_foundryFlags':{[SharedConsts[_0x1a95bd(0x184)]]:{'_tmpItemId':_0x54ea00}}}),_0x5724df[_0x1a95bd(0x240)](_0x2f45e1=>delete _0x2f45e1[_0x1a95bd(0x1d8)]),_0x47d824[_0x1a95bd(0x1b4)](..._0x5724df),_0x47d824;}if(/^eye ray/gi[_0x1a95bd(0x1df)](_0x380676[_0x1a95bd(0x279)])&&_0x380676['entries']['find'](_0x21c122=>_0x21c122[_0x1a95bd(0x1aa)]===_0x1a95bd(0x1ac)&&(_0x21c122['items']||[])[_0x1a95bd(0x292)](_0x133dee=>_0x133dee['type']===_0x1a95bd(0x286)))){const _0x567156=[],_0x353811=MiscUtil['copy'](_0x380676),_0x2414c3=_0x380676[_0x1a95bd(0x1a4)][_0x1a95bd(0x1cd)](_0x3fdf92=>_0x3fdf92[_0x1a95bd(0x1aa)]==='list'&&(_0x3fdf92[_0x1a95bd(0x170)]||[])[_0x1a95bd(0x292)](_0x2862de=>_0x2862de[_0x1a95bd(0x1aa)]===_0x1a95bd(0x286))),_0x470adb=_0x380676[_0x1a95bd(0x1a4)][_0x2414c3];return _0x353811[_0x1a95bd(0x1a4)][_0x1a95bd(0x1f0)](_0x2414c3,0x1),_0x567156[_0x1a95bd(0x1b4)](_0x353811),_0x470adb[_0x1a95bd(0x170)][_0x1a95bd(0x240)](_0x4ddbff=>{const _0x5233c8=_0x1a95bd,_0x155560={..._0x4ddbff,'type':_0x5233c8(0x1a4),'name':_0x5233c8(0x281)+_0x4ddbff[_0x5233c8(0x279)][_0x5233c8(0x22a)](/[.,!:?]\\s*$/,'')};_0x155560[_0x5233c8(0x271)]&&(_0x155560[_0x5233c8(0x1a4)]=[_0x155560[_0x5233c8(0x271)]],delete _0x155560[_0x5233c8(0x271)]),delete _0x155560[_0x5233c8(0x201)],_0x567156[_0x5233c8(0x1b4)](_0x155560);}),_0x567156;}return[_0x380676];}async[_0x2e8401(0x295)](_0xe36076,_0x3f5d51,_0x1a2850,_0x524a6f){const _0x4867be=_0x2e8401,_0x2a6076=DataConverter[_0x4867be(0x221)](_0x1a2850),_0x17719c=_0x1a2850[_0x4867be(0x1a4)]?JSON[_0x4867be(0x217)](_0x1a2850[_0x4867be(0x1a4)]):null,{damageTuples:_0x4e8a90,formula:_0x5f396c,offensiveAbility:_0x36b4ba,isAttack:_0x4a38b0,rangeShort:_0x4420e9,rangeLong:_0x1eb5c8,actionType:_0x2e8a59,isProficient:_0x2aa5c0,attackBonus:_0x133b2c,_foundryData:_0x4d6841,foundryData:_0x318af9,_foundryFlags:_0x50dbef,foundryFlags:_0xa78615,img:_0x3bb573}=await DataConverterCreature[_0x4867be(0x29e)](_0xe36076,_0x1a2850,_0x524a6f),_0x540765=[];_0x540765[_0x4867be(0x1b4)](...this[_0x4867be(0x157)](_0x4e8a90,_0xe36076[_0x36b4ba]));const {saveAbility:_0x4b202d,saveScaling:_0x44c3aa,saveDc:_0x1e4423}=this[_0x4867be(0x282)](_0xe36076,_0x524a6f[_0x4867be(0x1ff)],_0x17719c);_0x4a38b0?await this['_pFillWeaponItem'](_0xe36076,_0x3f5d51,_0x1a2850,_0x524a6f,{'offensiveAbility':_0x36b4ba,'damageParts':_0x540765,'formula':_0x5f396c,'rangeShort':_0x4420e9,'rangeLong':_0x1eb5c8,'actionType':_0x2e8a59,'isProficient':_0x2aa5c0,'description':_0x2a6076,'saveAbility':_0x4b202d,'saveDc':_0x1e4423,'saveScaling':_0x44c3aa,'attackBonus':_0x133b2c,'_foundryData':_0x4d6841,'foundryData':_0x318af9,'_foundryFlags':_0x50dbef,'foundryFlags':_0xa78615,'img':_0x3bb573}):this[_0x4867be(0x196)](_0xe36076,_0x524a6f,_0x3f5d51,_0x1a2850,{'fvttType':'feat','activationType':_0x4867be(0x19a),'activationCost':0x1,'description':_0x2a6076,'saveAbility':_0x4b202d,'saveDc':_0x1e4423,'saveScaling':_0x44c3aa,'damageParts':_0x540765,'formula':_0x5f396c,'attackBonus':_0x133b2c,'_foundryData':_0x4d6841,'foundryData':_0x318af9,'_foundryFlags':_0x50dbef,'foundryFlags':_0xa78615,'img':_0x3bb573});}[_0x2e8401(0x282)](_0xa0f6bd,_0x5401cc,_0x2f87fc){const _0x2de470=_0x2e8401;let {saveAbility:_0x121f1c,saveScaling:_0xc32228,saveDc:_0xa09f55,isFoundParse:_0x22a88b}=super[_0x2de470(0x282)](_0x2f87fc);if(_0x22a88b){if(_0x5401cc){const _0x114e4a=_0xa09f55-_0x5401cc-0x8;for(const _0x5732db of[_0x2de470(0x159),'wis',_0x2de470(0x22c),_0x2de470(0x27b),_0x2de470(0x15e),'con']){const _0x585257=Parser[_0x2de470(0x216)](_0xa0f6bd[_0x5732db]);if(_0x585257===_0x114e4a){_0xc32228=_0x5732db;break;}}}}return{'saveAbility':_0x121f1c,'saveScaling':_0xc32228,'saveDc':_0xa09f55};}[_0x2e8401(0x157)](_0x1cf649,_0x1cba46){const _0x14d9c7=_0x2e8401;if(!_0x1cf649[_0x14d9c7(0x176)])return[];return _0x1cf649=MiscUtil[_0x14d9c7(0x26d)](_0x1cf649),_0x1cba46&&_0x1cf649[_0x14d9c7(0x240)](_0x2637a0=>{const _0x471416=_0x14d9c7,_0x595599=Parser[_0x471416(0x216)](_0x1cba46),_0x3a837f=/(\d+d\d+\s*)([-+]\s*\d+)([ -+].*)?$/['exec'](_0x2637a0[0x0]);if(!_0x3a837f)return;const _0x400df0=Number(_0x3a837f[0x2][_0x471416(0x22a)](/\s*/g,''));if(_0x400df0===_0x595599)_0x2637a0[0x0]=_0x3a837f[0x1]+_0x471416(0x1eb)+(_0x3a837f[0x3]||'');}),_0x1cf649['filter'](_0x1a5139=>_0x1a5139[_0x14d9c7(0x176)]);}static[_0x2e8401(0x229)](_0x7b4aa8){const _0x4b01cc=_0x2e8401,_0x419a80=[];if(!_0x7b4aa8[_0x4b01cc(0x23f)]||!_0x7b4aa8['from']['length'])return _0x419a80;return _0x7b4aa8[_0x4b01cc(0x23f)][_0x4b01cc(0x240)](_0x518448=>{const _0x117752=_0x4b01cc,_0x5cfdb9=this[_0x117752(0x225)](_0x518448);_0x5cfdb9[_0x117752(0x240)](_0x378d7a=>{const _0x5699db=_0x117752;if(!_0x419a80[_0x5699db(0x20a)](_0x378d7a))_0x419a80[_0x5699db(0x1b4)](_0x378d7a);});}),_0x419a80;}static['_getItemHashesFromString'](_0x2b7ab4){const _0xc6493a=_0x2e8401,_0x20fe79=[];return _0x2b7ab4[_0xc6493a(0x22a)](/{@item ([^}]+)}/gi,(..._0x5cb779)=>{const _0x11e71c=_0xc6493a,[_0x4342e0,_0x59d553]=_0x5cb779[0x1][_0x11e71c(0x29a)]()[_0x11e71c(0x254)]()[_0x11e71c(0x29d)]('|'),_0x240dd9=UrlUtil[_0x11e71c(0x1a3)][UrlUtil[_0x11e71c(0x1de)]]({'name':_0x4342e0,'source':_0x59d553||SRC_DMG});if(!_0x20fe79[_0x11e71c(0x20a)](_0x240dd9))_0x20fe79[_0x11e71c(0x1b4)](_0x240dd9);}),[..._0x20fe79];}async['_pImportEntry_pFillItems_pInventory'](_0x22a8ca,_0x4e2655,_0x206f0b){const _0xd69c89=_0x2e8401,_0x386b9f=new Set(),_0x26bdc7=new Set();(_0x22a8ca['ac']||[])[_0xd69c89(0x240)]((_0x1253f2,_0x14cc8f)=>{const _0x1c0803=_0xd69c89,_0xf8a3c=this[_0x1c0803(0x191)][_0x1c0803(0x229)](_0x1253f2);_0xf8a3c['forEach'](_0x437091=>_0x386b9f[_0x1c0803(0x1c3)](_0x437091));if(_0x14cc8f===0x0)_0xf8a3c[_0x1c0803(0x240)](_0x5cb94f=>_0x26bdc7[_0x1c0803(0x1c3)](_0x5cb94f));});for(const _0x1767d3 of _0x386b9f){const _0x5eaa6a=await Renderer[_0xd69c89(0x173)][_0xd69c89(0x166)](UrlUtil[_0xd69c89(0x1de)],_0x1767d3);if(!_0x5eaa6a)continue;await this['_pImportEntry_pFillItems_pAddItem'](_0x22a8ca,_0x4e2655,_0x5eaa6a,_0x206f0b,{'isEquipped':_0x26bdc7[_0xd69c89(0x1ae)](_0x1767d3)});}const _0x21a193=(_0x22a8ca[_0xd69c89(0x261)]||[])[_0xd69c89(0x28b)](_0x2df32a=>_0x2df32a[_0xd69c89(0x279)]&&_0x2df32a[_0xd69c89(0x1a4)]&&/equipment/i[_0xd69c89(0x1df)](_0x2df32a[_0xd69c89(0x279)][_0xd69c89(0x29a)]()))[_0xd69c89(0x1f5)](_0x37f167=>this[_0xd69c89(0x191)][_0xd69c89(0x225)](JSON['stringify'](_0x37f167[_0xd69c89(0x1a4)])))[_0xd69c89(0x155)]()[_0xd69c89(0x28b)](_0x1af5ce=>!_0x386b9f[_0xd69c89(0x1ae)](_0x1af5ce));for(const _0x3d3f89 of _0x21a193){const _0x488e4e=await Renderer[_0xd69c89(0x173)][_0xd69c89(0x166)](UrlUtil[_0xd69c89(0x1de)],_0x3d3f89);if(!_0x488e4e)continue;if(_0x488e4e[_0xd69c89(0x1aa)]==='S'||_0x488e4e[_0xd69c89(0x1aa)]==='R'||_0x488e4e[_0xd69c89(0x16a)])continue;await this[_0xd69c89(0x19b)](_0x22a8ca,_0x4e2655,_0x488e4e,_0x206f0b,{'isEquipped':!![]});}}async[_0x2e8401(0x19b)](_0x48cc61,_0x3d39ea,_0x2c7f88,_0x579937,_0xe63505){const _0x2ce950=_0x2e8401;_0xe63505=_0xe63505||{};const _0x40ef72=await Renderer['item'][_0x2ce950(0x1e7)](_0x2c7f88),_0x2b3c9c=await DataConverterItem[_0x2ce950(0x1bc)](_0x2c7f88,{'isActorItem':!![],'fluff':_0x40ef72,'size':_0x48cc61[_0x2ce950(0x24a)],'isEquipped':_0xe63505['isEquipped'],'dexMod':Parser[_0x2ce950(0x216)](_0x48cc61[_0x2ce950(0x15e)])});_0x579937[_0x2ce950(0x170)]['push'](_0x2b3c9c);}async['_pImportEntry_pFillItems_pSpellcasting'](_0x42ba04,_0x191ef3,_0x440c7c,_0xad37db){const _0x4797b3=_0x2e8401;if(!_0x42ba04['spellcasting'])return;const _0x5621bc={},_0x1e4310=_0x197971=>{const _0x8b47dd=_0x31aa;Object[_0x8b47dd(0x1a4)](_0x197971)[_0x8b47dd(0x240)](([_0x5e3e0f,_0x16a413])=>{_0x5621bc[_0x5e3e0f]=_0x5621bc[_0x5e3e0f]||_0x16a413;});},_0x3be06b=!![],_0x82f2c9=[];for(const _0x441ac2 of _0x42ba04[_0x4797b3(0x1e8)]){const _0x39b466=MiscUtil[_0x4797b3(0x26d)](_0x441ac2);if(_0x39b466[_0x4797b3(0x1f9)]){const _0x2f868d=Object[_0x4797b3(0x18c)](_0x39b466[_0x4797b3(0x1f9)]);for(const _0x36c5ac of _0x2f868d){const _0x2fd92b=_0x39b466[_0x4797b3(0x1f9)][_0x36c5ac],_0xaac561=_0x2fd92b[_0x4797b3(0x211)]!=null?_0x4797b3(0x167):_0x4797b3(0x25f),_0x2d04ad=await DataConverterSpell[_0x4797b3(0x210)](_0xad37db[_0x4797b3(0x27f)],JSON[_0x4797b3(0x217)](_0x2fd92b['spells']),{'isTemporary':_0x440c7c,'optsGetSpellItem':{'casterLevel':_0xad37db[_0x4797b3(0x2a7)],'abilityAbv':_0xad37db['spellAbility'],'isPrepared':_0x3be06b,'preparationMode':_0xaac561}});_0x1e4310(_0x2d04ad);}delete _0x39b466[_0x4797b3(0x1f9)];}_0x39b466[_0x4797b3(0x1b3)]&&await this[_0x4797b3(0x223)](_0xad37db,_0x39b466,_0x4797b3(0x1b3),_0x1e4310,{'isTemporary':_0x440c7c,'isPrepared':_0x3be06b,'usesPer':_0x4797b3(0x257)});_0x39b466['daily']&&await this[_0x4797b3(0x223)](_0xad37db,_0x39b466,_0x4797b3(0x253),_0x1e4310,{'isTemporary':_0x440c7c,'isPrepared':_0x3be06b,'usesPer':'day'});_0x39b466[_0x4797b3(0x17d)]&&await this['_pImportEntry_pFillItems_pSpellcasting_recharge'](_0xad37db,_0x39b466,_0x4797b3(0x253),_0x1e4310,{'isTemporary':_0x440c7c,'isPrepared':_0x3be06b,'usesPer':'sr'});if(_0x39b466[_0x4797b3(0x1d9)]){const _0x167448='innate',_0x278bc7=await DataConverterSpell[_0x4797b3(0x210)](_0xad37db[_0x4797b3(0x27f)],JSON['stringify'](_0x39b466[_0x4797b3(0x1d9)]),{'isTemporary':_0x440c7c,'optsGetSpellItem':{'casterLevel':_0xad37db[_0x4797b3(0x2a7)],'abilityAbv':_0xad37db[_0x4797b3(0x27c)],'isPrepared':_0x3be06b,'preparationMode':_0x167448}});_0x1e4310(_0x278bc7),delete _0x39b466['will'];}if(_0x39b466[_0x4797b3(0x1d2)]){const _0x953bf0=_0x4797b3(0x1bf),_0x52c3c0=await DataConverterSpell[_0x4797b3(0x210)](_0xad37db['actor'],JSON['stringify'](_0x39b466[_0x4797b3(0x1d2)]),{'isTemporary':_0x440c7c,'optsGetSpellItem':{'casterLevel':_0xad37db['spellLevel'],'abilityAbv':_0xad37db['spellAbility'],'isPrepared':_0x3be06b,'preparationMode':_0x953bf0,'durationAmount':null,'durationUnit':_0x4797b3(0x1fd)}});_0x1e4310(_0x52c3c0),delete _0x39b466[_0x4797b3(0x1d2)];}_0x82f2c9[_0x4797b3(0x1b4)](_0x39b466);}await DataConverterSpell[_0x4797b3(0x210)](_0xad37db[_0x4797b3(0x27f)],JSON[_0x4797b3(0x217)](_0x82f2c9),{'isTemporary':_0x440c7c,'hashToIdMap':_0x5621bc,'optsGetSpellItem':{'casterLevel':_0xad37db[_0x4797b3(0x2a7)],'abilityAbv':_0xad37db[_0x4797b3(0x27c)]}});const _0x4c2b62=DataConverterSpell[_0x4797b3(0x181)][_0x4797b3(0x245)](null,_0xad37db[_0x4797b3(0x27f)]['id'],_0x5621bc);Renderer[_0x4797b3(0x29c)]()[_0x4797b3(0x29b)](_0x4797b3(0x21a),'*',_0x4c2b62);const _0x5b0874=Renderer[_0x4797b3(0x299)][_0x4797b3(0x175)](Renderer[_0x4797b3(0x29c)](),_0x42ba04);for(const _0x36de45 of _0x5b0874){const _0x38ddbb=await DataConverterCreature['pGetSpellcastingImage'](_0x42ba04,_0x36de45,_0xad37db);this[_0x4797b3(0x196)](_0x42ba04,_0xad37db,_0x191ef3,_0x36de45,{'fvttType':_0x4797b3(0x2a3),'img':_0x38ddbb,'description':_0x36de45[_0x4797b3(0x1e9)]});}Renderer['get']()[_0x4797b3(0x189)]('link','*',_0x4c2b62);}async[_0x2e8401(0x223)](_0x10cb4d,_0x41ed68,_0xc8ebe3,_0x9b8a3b,{isTemporary:_0x2d3854,isPrepared:_0x46c965,usesPer:_0x22d89a}){const _0x1f2d9e=_0x2e8401,_0x39ef79=_0x1f2d9e(0x1bf);for(let _0x771129=0x1;_0x771129<=0x9;++_0x771129){const _0x2ccb1a=_0x771129+'e',_0x285dd5=[...(_0x41ed68[_0xc8ebe3]||{})[_0x771129]||[],...(_0x41ed68[_0xc8ebe3]||{})[_0x2ccb1a]||[]];if(!_0x285dd5[_0x1f2d9e(0x176)])continue;const _0x13b159=await DataConverterSpell[_0x1f2d9e(0x210)](_0x10cb4d[_0x1f2d9e(0x27f)],JSON[_0x1f2d9e(0x217)](_0x285dd5),{'isTemporary':_0x2d3854,'optsGetSpellItem':{'casterLevel':_0x10cb4d[_0x1f2d9e(0x2a7)],'abilityAbv':_0x10cb4d[_0x1f2d9e(0x27c)],'isPrepared':_0x46c965,'preparationMode':_0x39ef79,'usesCurrent':_0x771129,'usesMax':_0x771129,'usesPer':_0x22d89a}});_0x9b8a3b(_0x13b159);}delete _0x41ed68[_0xc8ebe3];}static[_0x2e8401(0x1d6)](_0x19eb4b){const _0x24d7f9=_0x2e8401;let _0x3cf441=0x0;return _0x19eb4b[_0x24d7f9(0x241)]&&JSON[_0x24d7f9(0x217)](_0x19eb4b['headerEntries'])[_0x24d7f9(0x22a)](/an? (\d+)[A-Za-z]+-level/i,(..._0x52f01c)=>{const _0x1188eb=Number(_0x52f01c[0x1]);if(!isNaN(_0x1188eb))_0x3cf441=_0x1188eb;}),_0x3cf441;}static[_0x2e8401(0x266)](_0x2bbbda){const _0x4b2141=_0x2e8401;let _0x3d325a='';return _0x2bbbda['headerEntries']&&JSON['stringify'](_0x2bbbda[_0x4b2141(0x241)])[_0x4b2141(0x22a)](/(?:^| )(bard|cleric|druid|paladin|ranger|sorcerer|warlock|wizard)(?:\W|$)?/i,(..._0x419ada)=>{_0x3d325a=_0x419ada[0x1];}),_0x3d325a;}}ImportListCreature[_0x2e8401(0x15d)]=class extends ImportListActor['ImportEntryOpts']{constructor(_0x3dc7d2){const _0x5b9cb1=_0x2e8401;_0x3dc7d2=_0x3dc7d2||{},super(_0x3dc7d2),this[_0x5b9cb1(0x249)]=_0x3dc7d2[_0x5b9cb1(0x249)],this['pb']=Parser[_0x5b9cb1(0x202)](this[_0x5b9cb1(0x249)]['cr']),this['assumedPb']=this['pb'],this[_0x5b9cb1(0x26b)]=DataUtil[_0x5b9cb1(0x299)][_0x5b9cb1(0x251)](this['mon']),this[_0x5b9cb1(0x27c)]='',this[_0x5b9cb1(0x20d)]=0x8,this['spellLevel']=0x0,this[_0x5b9cb1(0x25b)]='',this[_0x5b9cb1(0x190)](this[_0x5b9cb1(0x249)]),this[_0x5b9cb1(0x24d)](this[_0x5b9cb1(0x249)]);}[_0x2e8401(0x24d)](_0x4aad43){const _0x5f112d=_0x2e8401;if(!_0x4aad43[_0x5f112d(0x19a)])return;_0x4aad43[_0x5f112d(0x19a)]['forEach'](_0x2224e2=>DataConverterActor['getParsedActionEntryData'](_0x4aad43,_0x2224e2,this));}[_0x2e8401(0x190)](_0xa8bbbf){const _0x37af44=_0x2e8401;if(!_0xa8bbbf[_0x37af44(0x1e8)])return;const _0x292551=_0xa8bbbf[_0x37af44(0x1e8)][_0x37af44(0x28b)](_0x34a382=>_0x34a382[_0x37af44(0x156)])[_0x37af44(0x1f5)](_0x2b2797=>{const _0x343dbb=_0x37af44;if(Parser[_0x343dbb(0x171)][_0x343dbb(0x20a)](_0x2b2797[_0x343dbb(0x156)]))return _0x2b2797;const _0x8fba45=_0x2b2797[_0x343dbb(0x156)]['substring'](0x0,0x3);if(Parser['ABIL_ABVS'][_0x343dbb(0x20a)](_0x8fba45))return _0x2b2797[_0x343dbb(0x156)]=_0x8fba45,_0x2b2797;return null;})[_0x37af44(0x28b)](Boolean);if(_0x292551[_0x37af44(0x176)]){let _0x163356=_0x292551[0x0];if(_0x292551[_0x37af44(0x176)]>0x1)switch(Config[_0x37af44(0x29c)](_0x37af44(0x2a9),_0x37af44(0x1b1))){case 0x1:{_0x163356=_0x292551[_0x37af44(0x29f)]((_0x450fb,_0x36f74f)=>{const _0x3d904e=_0x37af44,_0x1128be=this[_0x3d904e(0x191)][_0x3d904e(0x1b5)](_0x450fb),_0x2ae5ce=this[_0x3d904e(0x191)]['_getSpellCount'](_0x36f74f);return SortUtil[_0x3d904e(0x19d)](_0x2ae5ce,_0x1128be);})[0x0];break;}case 0x2:{_0x163356=_0x292551['sort']((_0x153af6,_0x1b658d)=>SortUtil[_0x37af44(0x19d)](Parser['getAbilityModNumber'](_0xa8bbbf[_0x1b658d['ability']]),Parser[_0x37af44(0x216)](_0xa8bbbf[_0x153af6[_0x37af44(0x156)]])))[0x0];break;}}const _0x32388b=_0x163356[_0x37af44(0x156)],_0x564344=Parser[_0x37af44(0x216)](_0xa8bbbf[_0x32388b]);this['spellAbility']=_0x32388b,this['spellDc']=_0x564344+this['pb'];}this[_0x37af44(0x2a7)]=_0xa8bbbf[_0x37af44(0x1e8)][_0x37af44(0x1f5)](_0x4cdb63=>ImportListCreature[_0x37af44(0x1d6)](_0x4cdb63))[_0x37af44(0x25a)](Boolean)||0x0,this['spellClass']=_0xa8bbbf[_0x37af44(0x1e8)][_0x37af44(0x1f5)](_0x189280=>ImportListCreature['_getCasterClassFromEntry'](_0x189280))[_0x37af44(0x25a)](Boolean)||'';}static[_0x2e8401(0x1b5)](_0x57b893){let _0x19b831=0x0;return JSON['stringify'](_0x57b893)['replace'](/{@spell [^}]+}/g,()=>{return _0x19b831++,'';}),_0x19b831;}},ImportListCreature[_0x2e8401(0x1d0)]=class extends Application{constructor(_0x2143a3,_0x33c348,_0x425027){const _0x3e7c7c=_0x2e8401;super({'title':_0x3e7c7c(0x182),'template':SharedConsts[_0x3e7c7c(0x186)]+_0x3e7c7c(0x168),'width':0x3c0,'height':Util[_0x3e7c7c(0x2a4)](),'resizable':!![]}),this['_dataList']=_0x2143a3,this[_0x3e7c7c(0x1af)]=_0x33c348,this[_0x3e7c7c(0x27d)]=_0x425027[_0x3e7c7c(0x1b9)],this[_0x3e7c7c(0x206)]=null,this[_0x3e7c7c(0x246)]=null;}[_0x2e8401(0x169)](){const _0x231b3b=_0x2e8401;return{'titleSearch':this[_0x231b3b(0x27d)],'rows':this[_0x231b3b(0x16c)][_0x231b3b(0x1f5)]((_0x6bb6f0,_0x563365)=>({'name':_0x6bb6f0[_0x231b3b(0x279)],'source':_0x6bb6f0[_0x231b3b(0x20e)],'sourceShort':Parser[_0x231b3b(0x151)](_0x6bb6f0[_0x231b3b(0x20e)]),'sourceLong':Parser[_0x231b3b(0x234)](_0x6bb6f0[_0x231b3b(0x20e)]),'sourceClassName':Parser[_0x231b3b(0x298)](_0x6bb6f0[_0x231b3b(0x20e)]),'cr':Parser[_0x231b3b(0x1bd)](_0x6bb6f0['cr']),'isAdjustable':Parser[_0x231b3b(0x293)](_0x6bb6f0['cr'])<VeCt['CR_CUSTOM'],'ix':_0x563365}))};}[_0x2e8401(0x199)](_0x4f532f){const _0x3a725a=_0x2e8401;super[_0x3a725a(0x199)](_0x4f532f),this[_0x3a725a(0x206)]=new List({'$iptSearch':_0x4f532f[_0x3a725a(0x25a)]('.search'),'$wrpList':_0x4f532f[_0x3a725a(0x25a)](_0x3a725a(0x19c)),'valueNames':['name',_0x3a725a(0x20e),'cr','ix']}),SortUtil[_0x3a725a(0x2a8)](_0x4f532f[_0x3a725a(0x25a)]('[data-name=\x22wrp-btns-sort\x22]'),this[_0x3a725a(0x206)]),this[_0x3a725a(0x206)][_0x3a725a(0x24e)](this[_0x3a725a(0x16c)],{'fnGetName':_0xaff649=>_0xaff649[_0x3a725a(0x279)],'fnGetValues':_0x7f308a=>({'source':_0x7f308a[_0x3a725a(0x20e)],'cr':Parser[_0x3a725a(0x1bd)](_0x7f308a['cr'])})}),this['_list']['init'](),this[_0x3a725a(0x246)]=_0x4f532f[_0x3a725a(0x25a)](_0x3a725a(0x2a2))[_0x3a725a(0x1ed)](()=>{const _0x27bb41=_0x3a725a;_0x4f532f[_0x27bb41(0x25a)]('.search')['val']('');if(this[_0x27bb41(0x206)])this[_0x27bb41(0x206)][_0x27bb41(0x204)]();}),_0x4f532f['find'](_0x3a725a(0x25e))['click'](async()=>{const _0x563e79=_0x3a725a,_0x34d83c=this['_list'][_0x563e79(0x170)][_0x563e79(0x1f5)](_0x404e4b=>{const _0x5a70a4=_0x563e79,_0x837080=$(_0x404e4b[_0x5a70a4(0x296)]),_0x524543=_0x837080[_0x5a70a4(0x25a)]('[name=\x22sel-cr\x22]');return{'ix':_0x404e4b['ix'],'targetCr':_0x524543[_0x5a70a4(0x176)]?Number(_0x524543[_0x5a70a4(0x264)]())===-0x1?null:Number(_0x524543[_0x5a70a4(0x264)]()):null,'rename':_0x837080[_0x5a70a4(0x25a)]('[name=\x22ipt-rename\x22]')[_0x5a70a4(0x264)]()[_0x5a70a4(0x29a)]()};}),_0x237e11=await Promise[_0x563e79(0x205)](_0x34d83c[_0x563e79(0x1f5)](async({ix:_0x1e47df,targetCr:_0x7c81e3,rename:_0x21f7bf})=>{const _0x3ec771=_0x563e79;let _0x40ae54=this[_0x3ec771(0x16c)][_0x1e47df];if(_0x7c81e3!=null&&_0x7c81e3!==Parser[_0x3ec771(0x293)](_0x40ae54['cr']))_0x40ae54=await ScaleCreature[_0x3ec771(0x1fa)](_0x40ae54,_0x7c81e3);if(_0x21f7bf)_0x40ae54=ImportListCreature['ScaleRename'][_0x3ec771(0x1d5)](_0x40ae54,_0x21f7bf);return _0x40ae54;}));this[_0x563e79(0x1af)](_0x237e11),this[_0x563e79(0x158)]();});if(this['_$btnReset'])this[_0x3a725a(0x246)]['click']();}static[_0x2e8401(0x1d5)](_0x3e97ef,_0xd04a4b){const _0x567101=_0x2e8401;ImportListCreature[_0x567101(0x1d0)][_0x567101(0x1a0)]=ImportListCreature[_0x567101(0x1d0)][_0x567101(0x1a0)]||MiscUtil[_0x567101(0x284)](),_0x3e97ef=MiscUtil[_0x567101(0x26d)](_0x3e97ef);const _0x247741=_0xd04a4b[_0x567101(0x22a)](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22'),_0x348217=new RegExp(_0x567101(0x233)+_0x3e97ef[_0x567101(0x279)][_0x567101(0x200)]()+'([^a-zA-Z0-9]|$)','gi'),_0x104608=_0x1745e2=>{const _0x1abe22=_0x567101;_0x3e97ef[_0x1745e2]&&_0x3e97ef[_0x1745e2][_0x1abe22(0x240)](_0x310897=>{const _0x53d0f4=_0x1abe22;_0x310897['entries']&&(_0x310897['entries']=ImportListCreature[_0x53d0f4(0x1d0)]['_WALER_RENAME'][_0x53d0f4(0x20c)](_0x310897[_0x53d0f4(0x1a4)],{'string':_0x3d9cd8=>_0x3d9cd8['replace'](_0x348217,(..._0x480a6e)=>''+_0x480a6e[0x1]+_0x247741+_0x480a6e[0x2])})),_0x310897[_0x53d0f4(0x241)]&&(_0x310897[_0x53d0f4(0x241)]=ImportListCreature['ScaleRename'][_0x53d0f4(0x1a0)][_0x53d0f4(0x20c)](_0x310897['headerEntries'],{'string':_0x6f7071=>_0x6f7071[_0x53d0f4(0x22a)](_0x348217,(..._0x1929d6)=>''+_0x1929d6[0x1]+_0x247741+_0x1929d6[0x2])}));});};return _0x104608(_0x567101(0x19a)),_0x104608('bonus'),_0x104608(_0x567101(0x243)),_0x104608(_0x567101(0x261)),_0x104608(_0x567101(0x235)),_0x104608('variant'),_0x3e97ef[_0x567101(0x183)]=_0xd04a4b,_0x3e97ef;}async[_0x2e8401(0x158)](){const _0x5d858a=_0x2e8401;return this[_0x5d858a(0x1af)](null),super[_0x5d858a(0x158)]();}},ImportListCreature['ScaleRename'][_0x2e8401(0x1a0)]=null;export{ImportListCreature};