const _0x4926=['Source','SOURCE_TYP_BREW','doAbsorbItems','pGetOptionalFeatureItem','TASK_EXIT_CANCELLED','absorbFnBindListenersRadio','log','source','_isPreviewable','pImportEntry','DataSourceUrl','SOURCE_TYP_OFFICIAL_ALL','_content','_titleSearch','Item','_list','_page','pHasOptionalFeatureSideLoadedEffects','5etools','_vPrerequisite','_pImportEntry_pImportToDirectoryGeneric_pGetImportableData','Name','4970510NYNDxJ','sourceClassName','_vLevel','_pImportEntry_pImportToDirectoryGeneric','4qrYnfM','text-center','getListPrerequisiteLevelText','629456USzmDw','2LFSqVJ','SRD','absorbFnGetData','items','12365ftkBaV','level','_actor','mutateForFilters','377448fTyxIw','Type','absorbFnBindListeners','SOURCE_TYP_CUSTOM','sourceJsonToFull','11OxgCmH','Import\x20Other\x20Options\x20and\x20Features','\x22\x20(from\x20\x22','_lFeatureType','isCancelled','sourceJsonToColor','968821gagcRa','sourceJsonToAbv','isStreamerMode','isTemp','utils','Upload\x20File','pGetSources','length','_pImportEntry_pImportToActor','optionalfeature','pMutActorUpdateOptionalFeature','name','data','entity','DATA_URL_OPTIONALFEATURES','update','Importing\x20other\x20option/feature\x20\x22','DataSourceFile','Level','_isRadio','TASK_EXIT_COMPLETE','PG_OPT_FEATURES','Custom\x20URL','type','isToken','109QHuUVt','1155638rojcCx','prerequisite','get','pAddActorEffects','constructor','1HwthWn','push','pGetHomebrewSources','42556yzgKnZ'];const _0x437c=function(_0xaeb4c4,_0x1c9437){_0xaeb4c4=_0xaeb4c4-0x102;let _0x492661=_0x4926[_0xaeb4c4];return _0x492661;};const _0x101210=_0x437c;(function(_0xe57b1d,_0x4d28b0){const _0x550d33=_0x437c;while(!![]){try{const _0x538ce1=-parseInt(_0x550d33(0x144))*parseInt(_0x550d33(0x138))+-parseInt(_0x550d33(0x13b))*-parseInt(_0x550d33(0x13c))+-parseInt(_0x550d33(0x114))*parseInt(_0x550d33(0x140))+parseInt(_0x550d33(0x149))*-parseInt(_0x550d33(0x11d))+parseInt(_0x550d33(0x11a))*-parseInt(_0x550d33(0x14f))+-parseInt(_0x550d33(0x115))+parseInt(_0x550d33(0x134));if(_0x538ce1===_0x4d28b0)break;else _0xe57b1d['push'](_0xe57b1d['shift']());}catch(_0x3e6ac4){_0xe57b1d['push'](_0xe57b1d['shift']());}}}(_0x4926,0xbe406));import{Vetools}from'./Vetools.js';import{LGT}from'./Util.js';import{Config}from'./Config.js';import{UtilList2}from'./UtilList2.js';import{DataConverterOptionalfeature}from'./DataConverterOptionalfeature.js';import{UtilApplications}from'./UtilApplications.js';import{UtilDataSource}from'./UtilDataSource.js';import{ImportListCharacter}from'./ImportListCharacter.js';import{UtilActors}from'./UtilActors.js';import{DataConverter}from'./DataConverter.js';class ImportListOptionalFeature extends ImportListCharacter{constructor(_0x5e6ad9){const _0x337206=_0x437c;_0x5e6ad9=_0x5e6ad9||{},super({'title':_0x337206(0x14a)},_0x5e6ad9,{'props':[_0x337206(0x104)],'titleSearch':'options\x20and\x20features','sidebarTab':_0x337206(0x13f),'gameProp':'items','defaultFolderPath':['Other\x20Options\x20and\x20Features'],'folderType':_0x337206(0x12c),'pageFilter':new PageFilterOptionalFeatures(),'page':UrlUtil[_0x337206(0x110)],'isPreviewable':!![],'isDedupable':!![]});}async[_0x101210(0x155)](){const _0x2e739c=_0x101210;return[new UtilDataSource[(_0x2e739c(0x128))](Config[_0x2e739c(0x117)]('ui',_0x2e739c(0x151))?_0x2e739c(0x13d):_0x2e739c(0x130),Vetools[_0x2e739c(0x109)],{'filterTypes':[UtilDataSource[_0x2e739c(0x129)]],'isDefault':!![]}),new UtilDataSource[(_0x2e739c(0x128))](_0x2e739c(0x111),'',{'filterTypes':[UtilDataSource[_0x2e739c(0x147)]]}),new UtilDataSource[(_0x2e739c(0x10c))](_0x2e739c(0x154),{'filterTypes':[UtilDataSource['SOURCE_TYP_CUSTOM']]}),...(await Vetools[_0x2e739c(0x11c)](_0x2e739c(0x104)))['map'](({name:_0x54d5e8,url:_0x27f8cb})=>new UtilDataSource[(_0x2e739c(0x128))](_0x54d5e8,_0x27f8cb,{'filterTypes':[UtilDataSource[_0x2e739c(0x11f)]]}))];}['getData'](){const _0x106fc1=_0x101210;return{'isPreviewable':this[_0x106fc1(0x126)],'titleButtonRun':this['_titleButtonRun'],'titleSearch':this[_0x106fc1(0x12b)],'cols':[{'name':_0x106fc1(0x133),'width':0x4,'field':_0x106fc1(0x106)},{'name':_0x106fc1(0x145),'width':0x2,'field':_0x106fc1(0x112),'rowClassName':_0x106fc1(0x139)},{'name':'Prerequisite','width':0x3,'field':_0x106fc1(0x116),'rowClassName':'text-center'},{'name':_0x106fc1(0x10d),'width':0x1,'field':'level','rowClassName':_0x106fc1(0x139)},{'name':_0x106fc1(0x11e),'width':0x1,'field':_0x106fc1(0x125),'titleProp':'sourceLong','displayProp':'sourceShort','classNameProp':_0x106fc1(0x135),'rowClassName':_0x106fc1(0x139)}],'rows':this[_0x106fc1(0x12a)]['map']((_0x2e7e9d,_0x1f41de)=>{const _0x31a6aa=_0x106fc1;return this['_pageFilter'][_0x31a6aa(0x119)][_0x31a6aa(0x143)](_0x2e7e9d),_0x2e7e9d[_0x31a6aa(0x131)]=Renderer[_0x31a6aa(0x153)]['getPrerequisiteText'](_0x2e7e9d['prerequisite'],!![],new Set([_0x31a6aa(0x141)])),_0x2e7e9d[_0x31a6aa(0x136)]=Renderer[_0x31a6aa(0x104)][_0x31a6aa(0x13a)](_0x2e7e9d['prerequisite']),{'name':_0x2e7e9d['name'],'type':_0x2e7e9d['_lFeatureType'],'prerequisite':_0x2e7e9d[_0x31a6aa(0x131)],'level':_0x2e7e9d[_0x31a6aa(0x136)],'source':_0x2e7e9d['source'],'sourceShort':Parser[_0x31a6aa(0x150)](_0x2e7e9d[_0x31a6aa(0x125)]),'sourceLong':Parser[_0x31a6aa(0x148)](_0x2e7e9d[_0x31a6aa(0x125)]),'sourceClassName':Parser[_0x31a6aa(0x14e)](_0x2e7e9d['source']),'ix':_0x1f41de};})};}['_activateListeners_absorbListItems'](){const _0x6e6acf=_0x101210;this['_list'][_0x6e6acf(0x120)](this[_0x6e6acf(0x12a)],{'fnGetName':_0x43e6b9=>_0x43e6b9['name'],'fnGetValues':_0x347a40=>({'source':_0x347a40[_0x6e6acf(0x125)],'prerequisite':_0x347a40[_0x6e6acf(0x131)],'level':_0x347a40['_vLevel'],'type':_0x347a40[_0x6e6acf(0x14c)],'hash':UrlUtil['URL_TO_HASH_BUILDER'][this[_0x6e6acf(0x12e)]](_0x347a40)}),'fnGetData':UtilList2[_0x6e6acf(0x13e)],'fnBindListeners':_0x731b24=>this[_0x6e6acf(0x10e)]?UtilList2[_0x6e6acf(0x123)](this[_0x6e6acf(0x12d)],_0x731b24):UtilList2[_0x6e6acf(0x146)](this[_0x6e6acf(0x12d)],_0x731b24)});}async[_0x101210(0x127)](_0xd71691,_0x4561a2){const _0x465915=_0x101210;_0x4561a2=_0x4561a2||{},console[_0x465915(0x124)](...LGT,_0x465915(0x10b)+_0xd71691['name']+_0x465915(0x14b)+Parser[_0x465915(0x150)](_0xd71691['source'])+'\x22)');if(_0x4561a2[_0x465915(0x152)])return this[_0x465915(0x137)](_0xd71691,_0x4561a2);else{if(this[_0x465915(0x142)])return this[_0x465915(0x103)](_0xd71691,_0x4561a2);else return this[_0x465915(0x137)](_0xd71691,_0x4561a2);}}async['_pImportEntry_pImportToActor'](_0x34ab84,_0x3d22e2){const _0x35eb69=_0x101210,_0x22ed96={'data':{}},_0x4648e0=new ImportListCharacter['ImportEntryOpts']({'isCharactermancer':_0x3d22e2['isCharactermancer']});await DataConverterOptionalfeature[_0x35eb69(0x105)](this[_0x35eb69(0x142)],_0x22ed96,_0x34ab84,_0x4648e0);if(_0x4648e0[_0x35eb69(0x14d)])return{'status':UtilApplications['TASK_EXIT_CANCELLED']};await this['_pImportEntry_pFillItems'](_0x34ab84,_0x22ed96,_0x4648e0);if(_0x4648e0[_0x35eb69(0x14d)])return{'status':UtilApplications[_0x35eb69(0x122)]};if(Object['keys'](_0x22ed96[_0x35eb69(0x107)])[_0x35eb69(0x102)])await this[_0x35eb69(0x142)][_0x35eb69(0x10a)](_0x22ed96);if(this[_0x35eb69(0x142)][_0x35eb69(0x113)])this['_actor']['sheet']['render']();return{'imported':{'name':_0x34ab84[_0x35eb69(0x106)],'actor':this[_0x35eb69(0x142)]},'status':UtilApplications[_0x35eb69(0x10f)]};}async['_pImportEntry_pFillItems'](_0x2a2c4e,_0x15331b,_0x455861){const _0x277157=_0x101210,_0xa85c7c=await DataConverterOptionalfeature[_0x277157(0x121)](_0x2a2c4e,{'isActorItem':!![]});_0x455861[_0x277157(0x13f)]['push'](_0xa85c7c);const _0x235150=await UtilActors['pAddActorItems'](this[_0x277157(0x142)],_0x455861[_0x277157(0x13f)]),_0x26a146=[];if(await DataConverterOptionalfeature[_0x277157(0x12f)](this[_0x277157(0x142)],_0x2a2c4e)){const _0x2d1d98=DataConverter['getImportedEmbed'](_0x235150,_0xa85c7c);if(_0x2d1d98)_0x26a146[_0x277157(0x11b)](...await DataConverterOptionalfeature['pGetOptionalFeatureItemEffects'](this[_0x277157(0x142)],_0x2a2c4e,_0x2d1d98[_0x277157(0x108)]));}await UtilActors[_0x277157(0x118)](this['_actor'],_0x26a146);}[_0x101210(0x132)](_0x3174be,_0x16de1f){const _0x77678=_0x101210;return DataConverterOptionalfeature[_0x77678(0x121)](_0x3174be,_0x16de1f);}}export{ImportListOptionalFeature};