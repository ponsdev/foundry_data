const _0x3dec=['_getSortedSkillSet','\x22><span\x20class=\x22fas\x20fa-search\x22></span></button>','push','comp','1Jcpylf','_otherTitle','languages','addHook','amount','skillProficiencies','titlePrefix','min','<button\x20class=\x22btn\x20btn-default\x20ml-3\x22>Skip</button>','SYM_UI_SKIP','mergeMap','<button\x20class=\x22btn\x20btn-primary\x20mr-2\x22>OK</button>','int','_state','993KBNGqI','_pFnGetParentGroup','con','_render_$getStgSelGroup','Ability\x20Scores?','_getJoinedProp','_ability','getShowModal','race_asiChoice','number','close','/Tool','548879UmLHiQ','Tool\x20Proficiency','767855TAQbQB','height','click','725147lOilEo','pulseLanguages','entries','Unhandled\x20mode\x20\x22','isGrouped','<div\x20class=\x22ve-small\x20veapp__msg-warning\x22></div>','_titlePlural','prof','propTrackerPulse','Tool\x20Proficiencies','hook','pGetImportCompModalFormData','from','isUnskippable','ARMOR_PROFICIENCIES','$getCbBool','other','dex','isNoChoice','PROF_TO_ICON_CLASS','_lastMeta','15634nnFOEK','tools','TOOL_PROFICIENCIES','filter','_tag','_VALID_HOOK_PROPS','@item','_existingProficiencies','titlePlural','_render_renderPtChooseFrom','ascSort','sort','notifications','_getWeightedProps','message','_removeHookBase','Unhandled\x20normalized\x20key\x20\x22','class','name','empty','Exotic\x20Languages','cleanup','_chooseFilter_',':</div>','startsWith','numberToText','getMetaWrpMultipleChoice','Unhandled\x20pulse\x20prop\x20\x22','LANGUAGES_EXOTIC','intToBonus','set','Language\x20and\x20Tool\x20Proficiencies','CASTER_TYPE_TO_PROGRESSION','pGetFormData','34pKZNco','_render_renderPtStatic','length','sum','string','_titlePrefix','_getNormalizedAvailableProficiencies','object','ml-1','_registered','_getDefaultState','modalTitle','Language\x20or\x20Tool\x20Proficiency','render','_featureSourceTracker','keys','thr','otherTitle','Choose\x20','_fnRenderKey','trim','VALID_TOOL_PROFICIENCIES','_getFormData','fnGetInvalidMeta','pulseSavingThrows','str','state','setState','<div\x20class=\x22mb-1\x22>Choose\x20','get','map','isCancelled','values','value','_modalTitle','deepEquals','_getSortedWeightedFrom','getCurrentAbilityScores','propPulse','propTracker','ascSortLower','11233EKgnPF','/template/_Generic.handlebars','cha','<hr\x20class=\x22hr-1\x20hr--dotted\x22>','_doSetTrackerState','weight_ability_','$getSelEnum','Unimplemented!','_getAllValuesMaybeInUseLookup','LANGUAGES_ALL','armorProficiencies','_validateProp','availableProficiencies','removeHook','updateExisting','pGetItemWeaponType','Weapon\x20Proficiency','delete','count','pulseFeatures','Do\x20you\x20wish\x20to\x20apply\x20ability\x20score\x20modifications?','Language\x20Proficiencies','type','activateListeners','any','VALID_WEAPON_PROFICIENCIES','<div\x20class=\x22ml-1\x20ve-small\x20ve-muted\x22\x20title=\x22','STR_WARN_SOURCE_SELECTION','weights','pGetUserInput','_getAbilityScores','existingProficienciesFvtt','Armor\x20Proficiency','splice','tag','_title','\x20Set','_hk_updatePtsExisting','_doPulseForProp','features','toTitleCase','VALID_LANGUAGES','valueGroupSplitControlsLookup','valueGroups','toLowerCase','append','<div\x20class=\x22ve-small\x20veapp__msg-warning\x20inline-block\x22></div>','getMetaWrpMultipleChoice_getPropIsAcceptable','race_skillChoice','$cb','pFillActorAbilityData','<button\x20class=\x22btn\x20btn-default\x22>Cancel</button>','register','_ANY_OPTIONS','toggleClass','PROP_GROUP_','_choose','last','attAbvToFull','{@skill\x20','skills','Unhandled\x20tracked\x20state\x20key\x20','pulseArmor','levels','(Other\x20language\x20or\x20tool\x20proficiency)','Standard\x20Languages','Tools','melee','featureSourceTracker','_convertAnyToChoose','getBaseAbilityScores','ranged','_availableProficiencies','add','getMetaWrpMultipleChoice_getSelectedIxs','ascSortAtts','PropGroup','hookMetas','_proxyAssignSimple','sourceJson','size','Half-Proficient\x20from\x20Another\x20Source','getExistingProficiencies','ABIL_ABVS','pulseWeapons','_valueGroupSplitControlsLookup','With\x20your\x20DM\x27s\x20permission,\x20you\x20can\x20choose\x20an\x20exotic\x20language.','Skills','5XyJvLD','_propGroups','_anyOptions','html','SKILL_ABV_TO_FULL','properties','Proficient\x20with\x20Expertise\x20from\x20Another\x20Source','_render_renderPtChooseFromFilter','pGetImportCompApplicationFormData','(<i\x20class=\x22fas\x20','flat','toolProficiencies','_pFnGetChoice','weighted','pGetUserBoolean','skillToAbilityAbv','languageProficiencies','copy','\x20to\x20increase\x20by\x20','addClass','constructor','has','existingProficiencies','join',')</div>','forEach','\x20from\x20','appendTo','\x22>(','_hkExisting','_getSortedWeights','_unlock','<div\x20class=\x22w-40p\x20flex-vh-center\x22>','max','ixSet','\x20ability\x20score','Armor\x20Proficiencies','find','pFnGetParentGroup','<div>','_pLock','ability','Language','\x22></i>)','asText','Ability\x20Score\x20Increase','_render_renderPtChooseWeighted','title','_isAnyStatic','data','unregister','Proficient\x20from\x20Another\x20Source','armor','(Other\x20language)','savingThrows','_isChooseFromFilter','weapons','removeClass','findIndex','LANGUAGES_SECRET','tool','some','anyOptions','prop','Languages','(Other\x20tool\x20proficiency)','getStatesForKey','With\x20your\x20DM\x27s\x20permission,\x20you\x20can\x20choose\x20a\x20secret\x20language.','_hk_pUpdatePtsExisting','_hk_pUpdatePtsExisting_','Weapon\x20Proficiencies','440046FHFzQh','</div>','<button\x20class=\x22btn\x20btn-default\x20btn-xxs\x20mr-1\x22\x20title=\x22Choose\x20a\x20','getAttackAbilityScore','_lastMetas','choose','static','ANY_OPT_ANY_STANDARD__VALUE_GROUPS','mr-1','getAbilityData','symbol','split','items','abilities','_getExistingProficiencies','\x20Skill','pFnGetChoice','propGroups','_addHookBase','$ele','weaponProficiencies','<div\x20class=\x22flex-v-center\x22></div>','(Other\x20armor\x20proficiency)','width','pulseSkills','<div\x20class=\x22flex-col\x22></div>'];const _0x2014=function(_0x6e1b60,_0x24e10b){_0x6e1b60=_0x6e1b60-0x6c;let _0x3decb9=_0x3dec[_0x6e1b60];return _0x3decb9;};const _0x258da9=_0x2014;(function(_0x5cf018,_0x682d7c){const _0x207f37=_0x2014;while(!![]){try{const _0x59fa56=-parseInt(_0x207f37(0x15f))+-parseInt(_0x207f37(0x19b))*-parseInt(_0x207f37(0x179))+parseInt(_0x207f37(0x145))*-parseInt(_0x207f37(0x164))+parseInt(_0x207f37(0x161))+parseInt(_0x207f37(0x127))+parseInt(_0x207f37(0x153))+parseInt(_0x207f37(0xe0))*-parseInt(_0x207f37(0x88));if(_0x59fa56===_0x682d7c)break;else _0x5cf018['push'](_0x5cf018['shift']());}catch(_0x3cb7ab){_0x5cf018['push'](_0x5cf018['shift']());}}}(_0x3dec,0x64293));import{UtilActors}from'./UtilActors.js';import{SharedConsts}from'../shared/SharedConsts.js';import{DataConverter}from'./DataConverter.js';import{ModalFilterItemsFvtt}from'./UtilModalFilter.js';class Charactermancer_Util{static[_0x258da9(0x16f)](_0xca4822){return _0xca4822=_0xca4822||{},new Promise(_0x2a7f26=>{const _0x39f48f=_0x2014,_0x3e0549=$('<button\x20class=\x22btn\x20btn-primary\x20mr-2\x22>OK</button>')[_0x39f48f(0x163)](async()=>{const _0x4c3843=_0x39f48f,_0x59092d=await _0xca4822[_0x4c3843(0x144)][_0x4c3843(0x19a)]();if(_0xca4822[_0x4c3843(0x76)]){const _0x11ded3=_0xca4822[_0x4c3843(0x76)](_0x59092d);if(_0x11ded3)return ui[_0x4c3843(0x185)][_0x11ded3[_0x4c3843(0x9e)]](_0x11ded3[_0x4c3843(0x187)]);}return _0x252089(!![],_0x59092d);}),_0x4d3836=$(_0x39f48f(0xbb))[_0x39f48f(0x163)](()=>_0x252089(![])),_0x3b737d=_0xca4822[_0x39f48f(0x171)]?null:$(_0x39f48f(0x14d))[_0x39f48f(0x163)](()=>_0x252089(VeCt[_0x39f48f(0x14e)])),{$modalInner:_0x3a1b6f,doClose:_0x252089}=UiUtil[_0x39f48f(0x15a)]({'title':_0xca4822['comp'][_0x39f48f(0x1a6)],'isMinHeight0':!![],'isUncappedHeight':!![],'cbClose':(_0x3a9d05,_0x56bbba)=>{const _0x338d54=_0x39f48f;if(typeof _0x3a9d05===_0x338d54(0x131))return _0x2a7f26(_0x3a9d05);if(!_0x3a9d05)return _0x2a7f26(null);_0x2a7f26(_0x56bbba);}});_0xca4822[_0x39f48f(0x144)]['render'](_0x3a1b6f),$$`<div class="flex-v-center flex-h-right no-shrink pb-1 pt-1 px-1">${_0x3e0549}${_0x4d3836}${_0x3b737d}</div>`[_0x39f48f(0xfb)](_0x3a1b6f);});}static async[_0x258da9(0xe8)](_0x4c0ba6){const _0x139052=_0x258da9;let _0x5c1418,_0x5d25a3;const _0x2eabef=new Promise((_0x105351,_0x149c10)=>{_0x5c1418=_0x105351,_0x5d25a3=_0x149c10;}),_0xc07ba9=new class _0x55bd83 extends Application{constructor(){const _0xe1be96=_0x2014;super({'title':_0x4c0ba6[_0xe1be96(0x144)][_0xe1be96(0x1a6)],'template':SharedConsts['MODULE_LOCATION']+_0xe1be96(0x89),'width':_0x4c0ba6[_0xe1be96(0x13e)]!=null?_0x4c0ba6['width']:0x1e0,'height':_0x4c0ba6['height']!=null?_0x4c0ba6[_0xe1be96(0x162)]:0x280,'resizable':!![]});}async[_0x139052(0x15d)](..._0x19ef27){await super['close'](..._0x19ef27),_0x5c1418(null);}[_0x139052(0x9f)](_0x335189){const _0x444ba5=_0x139052,_0xc14a7=$(_0x444ba5(0x150))[_0x444ba5(0x163)](async()=>{const _0x5696a3=_0x444ba5,_0x10301a=await _0x4c0ba6[_0x5696a3(0x144)][_0x5696a3(0x19a)]();if(_0x4c0ba6['fnGetInvalidMeta']){const _0x44b5b5=_0x4c0ba6['fnGetInvalidMeta'](_0x10301a);if(_0x44b5b5)return ui[_0x5696a3(0x185)][_0x44b5b5['type']](_0x44b5b5[_0x5696a3(0x187)]);}return _0x5c1418(_0x10301a),this[_0x5696a3(0x15d)]();}),_0x4554f7=$(_0x444ba5(0xbb))[_0x444ba5(0x163)](()=>{const _0x34385a=_0x444ba5;return _0x5c1418(null),this[_0x34385a(0x15d)]();}),_0x3c90b3=_0x4c0ba6[_0x444ba5(0x171)]?null:$(_0x444ba5(0x14d))[_0x444ba5(0x163)](()=>{return _0x5c1418(VeCt['SYM_UI_SKIP']),this['close']();});_0x4c0ba6[_0x444ba5(0x144)]['render'](_0x335189),$$`<div class="flex-v-center flex-h-right no-shrink pb-1 pt-1 px-1 mt-auto mr-3">${_0xc14a7}${_0x4554f7}${_0x3c90b3}</div>`[_0x444ba5(0xfb)](_0x335189);}}();return await _0xc07ba9['render'](!![]),_0x2eabef;}static['getCurrentLevel'](_0x4b7bed){const _0x15e701=_0x258da9,_0x549f6f=MiscUtil[_0x15e701(0x7c)](_0x4b7bed,_0x15e701(0x111),_0x15e701(0x133))||[];return _0x549f6f[_0x15e701(0x17c)](_0x4f816e=>_0x4f816e['type']===_0x15e701(0x18a))['map'](_0x1f6cc7=>Number(_0x1f6cc7?.[_0x15e701(0x111)]?.[_0x15e701(0xc7)]||0x0))[_0x15e701(0x19e)]();}static['getBaseAbilityScores'](_0x2c80b1){return this['_getAbilityScores'](_0x2c80b1,!![]);}static[_0x258da9(0x84)](_0x3d0c96){const _0x5a52a5=_0x258da9;return this[_0x5a52a5(0xa6)](_0x3d0c96,![]);}static[_0x258da9(0xa6)](_0x485158,_0x17ab48){const _0x2c6968=_0x258da9,_0x520ea7=_0x17ab48?_0x485158?.['_data']||_0x485158['data']:_0x485158[_0x2c6968(0x111)],_0xf28d6d={'str':Number(MiscUtil[_0x2c6968(0x7c)](_0x520ea7,_0x2c6968(0x111),'abilities',_0x2c6968(0x78),'value')||0x0),'dex':Number(MiscUtil['get'](_0x520ea7,_0x2c6968(0x111),_0x2c6968(0x134),_0x2c6968(0x175),_0x2c6968(0x80))||0x0),'con':Number(MiscUtil[_0x2c6968(0x7c)](_0x520ea7,'data',_0x2c6968(0x134),_0x2c6968(0x155),'value')||0x0),'int':Number(MiscUtil['get'](_0x520ea7,_0x2c6968(0x111),_0x2c6968(0x134),_0x2c6968(0x151),'value')||0x0),'wis':Number(MiscUtil['get'](_0x520ea7,_0x2c6968(0x111),_0x2c6968(0x134),'wis',_0x2c6968(0x80))||0x0),'cha':Number(MiscUtil[_0x2c6968(0x7c)](_0x520ea7,_0x2c6968(0x111),_0x2c6968(0x134),_0x2c6968(0x8a),_0x2c6968(0x80))||0x0)};return Object[_0x2c6968(0x166)](_0xf28d6d)[_0x2c6968(0xf9)](([_0x3f0e70,_0x283401])=>{if(isNaN(_0x283401))_0xf28d6d[_0x3f0e70]=0x0;}),_0xf28d6d;}static[_0x258da9(0x12a)](_0x1577eb,_0x51956e,_0x261bf7){const _0xc88e85=_0x258da9;if(!_0x1577eb||!_0x51956e)return null;switch(_0x261bf7){case _0xc88e85(0xcb):{const _0x4ea6ac=!!MiscUtil[_0xc88e85(0x7c)](_0x1577eb,_0xc88e85(0x111),_0xc88e85(0x111),_0xc88e85(0xe5),'fin');if(!_0x4ea6ac)return _0x51956e[_0xc88e85(0x78)];return _0x51956e[_0xc88e85(0x78)]>_0x51956e[_0xc88e85(0x175)]?_0x51956e[_0xc88e85(0x78)]:_0x51956e[_0xc88e85(0x175)];}case _0xc88e85(0xcf):{const _0x49bd84=!!MiscUtil[_0xc88e85(0x7c)](_0x1577eb,'data',_0xc88e85(0x111),_0xc88e85(0xe5),_0xc88e85(0x6f));if(!_0x49bd84)return _0x51956e[_0xc88e85(0x175)];return _0x51956e[_0xc88e85(0x78)]>_0x51956e[_0xc88e85(0x175)]?_0x51956e[_0xc88e85(0x78)]:_0x51956e[_0xc88e85(0x175)];}default:throw new Error(_0xc88e85(0x167)+_0x261bf7+'\x22');}}static['getCasterProgressionMeta']({casterProgression:_0x4f9031,curLevel:_0x417549,targetLevel:_0x1287c5,isBreakpointsOnly:isBreakpointsOnly=![]}){const _0x319059=_0x258da9;if(_0x4f9031==null||_0x417549==null||_0x1287c5==null)return null;const _0x2bc279=UtilActors[_0x319059(0x199)][_0x4f9031];if(!_0x2bc279)return null;const _0x558d31=[];let _0x56c8f8=0x0;_0x2bc279[_0x319059(0xf9)](_0x55e5cd=>{const _0x5d4cbb=_0x319059;let _0x51dfc7=![];for(let _0x40a155=0x0;_0x40a155<_0x55e5cd[_0x5d4cbb(0x19d)];++_0x40a155){const _0x3ea80d=_0x40a155+0x1;if(_0x55e5cd[_0x40a155]&&_0x3ea80d>_0x56c8f8){_0x558d31[_0x5d4cbb(0x143)](_0x3ea80d),_0x56c8f8=_0x3ea80d,_0x51dfc7=!![];break;}}if(!_0x51dfc7){if(isBreakpointsOnly)_0x558d31[_0x5d4cbb(0x143)](null);else _0x558d31[_0x5d4cbb(0x143)](_0x558d31[_0x5d4cbb(0x19d)]?_0x558d31[_0x5d4cbb(0xc1)]():null);}});const _0x80a089=_0x558d31['slice'](_0x417549,_0x1287c5)[_0x319059(0x17c)](Boolean);if(!_0x80a089[_0x319059(0x19d)])return null;const _0x28e7a2=Math[_0x319059(0x14c)](..._0x80a089),_0x13bbb0=Math[_0x319059(0x101)](..._0x80a089),_0x1973ef=Math[_0x319059(0x101)](0x0,_0x1287c5-_0x417549),_0x4842e1=_0x13bbb0-_0x28e7a2;return{'spellLevelLow':_0x28e7a2,'spellLevelHigh':_0x13bbb0,'deltaLevels':_0x1973ef,'deltaSpellLevels':_0x4842e1};}}Charactermancer_Util[_0x258da9(0xa3)]='Did\x20you\x20change\x20your\x20source\x20selection\x20since\x20using\x20the\x20Charactermancer\x20initially?';class Charactermancer_FeatureSourceTracker extends BaseComponent{constructor(){const _0x4de9d3=_0x258da9;super(),this[_0x4de9d3(0x1a4)]=new Map();}[_0x258da9(0xbc)](_0x2f59f1){const _0x58e59c=_0x258da9;this[_0x58e59c(0x1a4)][_0x58e59c(0x197)](_0x2f59f1,{'state':null,'hookMetas':[]});}['_validateProp'](_0x141585){const _0x58b205=_0x258da9;if(!Charactermancer_FeatureSourceTracker['_VALID_HOOK_PROPS'][_0x58b205(0xf5)](_0x141585))throw new Error(_0x58b205(0x194)+_0x141585+'\x22');}[_0x258da9(0x148)](_0x3dd712,_0x31b426,_0x3ca51e){const _0x54c671=_0x258da9;this[_0x54c671(0x93)](_0x31b426);if(!this[_0x54c671(0x1a4)]['has'](_0x3dd712))this[_0x54c671(0xbc)](_0x3dd712);this['_registered'][_0x54c671(0x7c)](_0x3dd712)['hookMetas'][_0x54c671(0x143)]({'propPulse':_0x31b426,'hook':_0x3ca51e}),this[_0x54c671(0x139)](_0x31b426,_0x3ca51e);}[_0x258da9(0x95)](_0x3346cc,_0x231a05,_0xc1c4b0){const _0x57b208=_0x258da9;this['_validateProp'](_0x231a05);if(!this[_0x57b208(0x1a4)][_0x57b208(0xf5)](_0x3346cc))return;const _0x5772f1=this['_registered'][_0x57b208(0x7c)](_0x3346cc),_0x81eaa8=_0x5772f1[_0x57b208(0xd5)][_0x57b208(0x11a)](_0x3b1be9=>_0x3b1be9[_0x57b208(0x16e)]===_0xc1c4b0);if(~_0x81eaa8)_0x5772f1[_0x57b208(0xd5)][_0x57b208(0xa9)](_0x81eaa8,0x1);this[_0x57b208(0x188)](_0x231a05,_0xc1c4b0);}['setState'](_0x44402d,_0x4026b9){const _0x37a639=_0x258da9;if(!this[_0x37a639(0x1a4)][_0x37a639(0xf5)](_0x44402d))this[_0x37a639(0xbc)](_0x44402d);const _0x28ab5d=this[_0x37a639(0x1a4)][_0x37a639(0x7c)](_0x44402d),_0x5b03fd=_0x28ab5d['state']?MiscUtil[_0x37a639(0xf1)](_0x28ab5d[_0x37a639(0x79)]):_0x28ab5d['state'];_0x28ab5d[_0x37a639(0x79)]=_0x4026b9;const _0x18f0fc=new Set([...Object[_0x37a639(0x6e)](_0x5b03fd||{}),...Object[_0x37a639(0x6e)](_0x4026b9||{})]);_0x18f0fc[_0x37a639(0xf9)](_0x1abca1=>{const _0x1b8258=_0x37a639,_0x2b02cb=_0x5b03fd?.[_0x1abca1],_0x29cae1=_0x4026b9?.[_0x1abca1];if(CollectionUtil[_0x1b8258(0x82)](_0x2b02cb,_0x29cae1))return;this[_0x1b8258(0xae)](_0x1abca1);});}[_0x258da9(0x122)](_0x1bd1b0,{ignore:ignore=null}={}){const _0x4577bf=_0x258da9,_0x8adf8d=[];for(const [_0x15ce39,_0x3076dc]of this[_0x4577bf(0x1a4)][_0x4577bf(0x166)]()){if(ignore===_0x15ce39)continue;if(_0x3076dc?.[_0x4577bf(0x79)]?.[_0x1bd1b0])_0x8adf8d[_0x4577bf(0x143)](_0x3076dc[_0x4577bf(0x79)][_0x1bd1b0]);}return _0x8adf8d;}[_0x258da9(0x112)](_0x5f05ee){const _0x270ae0=_0x258da9;if(!_0x5f05ee)return;const _0xdd7ae=this['_registered'][_0x270ae0(0x7c)](_0x5f05ee);if(!_0xdd7ae)return;this['_registered'][_0x270ae0(0x99)](_0x5f05ee),_0xdd7ae['hookMetas'][_0x270ae0(0xf9)](({propPulse:_0x3e35df,hook:_0xb37e3})=>{const _0x495684=_0x270ae0;this[_0x495684(0x188)](_0x3e35df,_0xb37e3);}),_0xdd7ae[_0x270ae0(0x79)]&&Object['keys'](_0xdd7ae[_0x270ae0(0x79)])[_0x270ae0(0xf9)](_0x25193d=>{const _0x56fd59=_0x270ae0;this[_0x56fd59(0xae)](_0x25193d);});}[_0x258da9(0xae)](_0x126f82){const _0x23cf61=_0x258da9;switch(_0x126f82){case _0x23cf61(0xc4):return this[_0x23cf61(0x152)][_0x23cf61(0x13f)]=!this['_state'][_0x23cf61(0x13f)];case _0x23cf61(0x147):return this['_state'][_0x23cf61(0x165)]=!this[_0x23cf61(0x152)][_0x23cf61(0x165)];case _0x23cf61(0x17a):return this[_0x23cf61(0x152)]['pulseTools']=!this[_0x23cf61(0x152)]['pulseTools'];case _0x23cf61(0x114):return this[_0x23cf61(0x152)][_0x23cf61(0xc6)]=!this['_state'][_0x23cf61(0xc6)];case _0x23cf61(0x118):return this[_0x23cf61(0x152)][_0x23cf61(0xdc)]=!this[_0x23cf61(0x152)][_0x23cf61(0xdc)];case _0x23cf61(0xaf):return this[_0x23cf61(0x152)][_0x23cf61(0x9b)]=!this[_0x23cf61(0x152)]['pulseFeatures'];case _0x23cf61(0x116):return this[_0x23cf61(0x152)][_0x23cf61(0x77)]=!this[_0x23cf61(0x152)][_0x23cf61(0x77)];default:throw new Error(_0x23cf61(0xc5)+_0x126f82);}}[_0x258da9(0x1a5)](){const _0x40a5e4=_0x258da9;return[...Charactermancer_FeatureSourceTracker[_0x40a5e4(0x17e)]][_0x40a5e4(0x14f)](_0x147c88=>({[_0x147c88]:![]}));}}Charactermancer_FeatureSourceTracker['_VALID_HOOK_PROPS']=new Set([_0x258da9(0x13f),_0x258da9(0x165),'pulseTools',_0x258da9(0xc6),_0x258da9(0xdc),_0x258da9(0x9b),_0x258da9(0x77)]);class Charactermancer_AbilityScoreSelect extends BaseComponent{static async[_0x258da9(0xba)](_0x3f50bb,_0x460427,_0x2e485f,_0x4eee4b){const _0xa79daa=_0x258da9;if(!_0x460427||!_0x460427['length'])return;const _0x49a70b=await this[_0xa79daa(0xa5)](_0x460427);if(!_0x49a70b)return _0x4eee4b[_0xa79daa(0x7e)]=!![];if(_0x49a70b===VeCt[_0xa79daa(0x14e)])return;_0x2e485f[_0xa79daa(0x111)]=_0x2e485f[_0xa79daa(0x111)]||{},_0x2e485f[_0xa79daa(0x111)][_0xa79daa(0x134)]=_0x2e485f[_0xa79daa(0x111)][_0xa79daa(0x134)]||{};const _0x1c7c12=Charactermancer_Util[_0xa79daa(0xce)](_0x3f50bb);return Parser[_0xa79daa(0xdb)][_0xa79daa(0x17c)](_0x1d5628=>_0x49a70b[_0xa79daa(0x111)][_0x1d5628])[_0xa79daa(0xf9)](_0x29abd0=>_0x2e485f[_0xa79daa(0x111)][_0xa79daa(0x134)][_0x29abd0]={'value':_0x1c7c12[_0x29abd0]+_0x49a70b[_0xa79daa(0x111)][_0x29abd0]}),_0x49a70b;}static async['pGetUserInput'](_0x33dfbc){const _0xf82aca=_0x258da9;if(!_0x33dfbc||!_0x33dfbc[_0xf82aca(0x19d)])return{'isFormComplete':!![],'data':{}};const _0x28f37d=new Charactermancer_AbilityScoreSelect({'ability':_0x33dfbc});if(_0x28f37d[_0xf82aca(0x176)]()){const _0x351448=await InputUiUtil[_0xf82aca(0xee)]({'title':_0xf82aca(0x157),'htmlDescription':_0xf82aca(0x9c),'textYes':'Yes','textNo':'No'});if(_0x351448==null)return null;if(!_0x351448)return{'isFormComplete':!![],'data':{}};return _0x28f37d[_0xf82aca(0x19a)]();}return Charactermancer_Util[_0xf82aca(0x16f)]({'comp':_0x28f37d});}constructor(_0x3850df){const _0x479fcd=_0x258da9;_0x3850df=_0x3850df||{},super(),this[_0x479fcd(0x159)]=_0x3850df[_0x479fcd(0x109)],this[_0x479fcd(0x178)]=null;}get[_0x258da9(0x1a6)](){const _0xd39366=_0x258da9;return _0xd39366(0x10d);}[_0x258da9(0x6c)](_0x10c6a8){const _0x718f5f=_0x258da9;let _0x30e6fb=null;if(this[_0x718f5f(0x159)]['length']>0x1){const _0x2bb793=ComponentUiUtil[_0x718f5f(0x8e)](this,_0x718f5f(0x102),{'values':this[_0x718f5f(0x159)][_0x718f5f(0x7d)]((_0x4de419,_0x74903a)=>_0x74903a),'fnDisplay':_0x4805ba=>Renderer[_0x718f5f(0x130)]([this[_0x718f5f(0x159)][_0x4805ba]])['asText']});_0x30e6fb=$$`<div class="w-100 mb-2 flex-vh-center">
				${_0x2bb793}
			</div>`;}const _0x3bbef6=$$`<div class="flex-col"></div>`,_0x1150f9=()=>{const _0x5dcb56=_0x718f5f;_0x3bbef6[_0x5dcb56(0x18c)]();if(this['_lastMeta'])this[_0x5dcb56(0x178)][_0x5dcb56(0x18e)]();const _0x1e7817=this[_0x5dcb56(0x159)][this[_0x5dcb56(0x152)][_0x5dcb56(0x102)]],_0xe1fc1f=Parser[_0x5dcb56(0xdb)][_0x5dcb56(0x17c)](_0x47f24f=>_0x1e7817[_0x47f24f])[_0x5dcb56(0x7d)](_0x26bea2=>Parser['attAbvToFull'](_0x26bea2)+'\x20'+UiUtil[_0x5dcb56(0x196)](_0x1e7817[_0x26bea2]));if(_0xe1fc1f[_0x5dcb56(0x19d)])_0x3bbef6[_0x5dcb56(0xb5)](_0x5dcb56(0x107)+_0xe1fc1f[_0x5dcb56(0xf7)](',\x20')+_0x5dcb56(0x128)+(_0x1e7817[_0x5dcb56(0x12c)]?'<hr\x20class=\x22hr-1\x20hr--dotted\x22>':''));if(_0x1e7817['choose']){if(_0x1e7817[_0x5dcb56(0x12c)]['from'])this[_0x5dcb56(0x182)](_0x3bbef6,_0x1e7817);else{if(_0x1e7817[_0x5dcb56(0x12c)][_0x5dcb56(0xed)])this[_0x5dcb56(0x10e)](_0x3bbef6,_0x1e7817);}}};this[_0x718f5f(0x139)](_0x718f5f(0x102),_0x1150f9),_0x1150f9(),$$(_0x10c6a8)`
			${_0x30e6fb}
			${_0x3bbef6}
		`;}[_0x258da9(0x182)](_0x2ec3fb,_0x19a3cf){const _0x42e3c4=_0x258da9,_0x1d48b8=_0x19a3cf[_0x42e3c4(0x12c)][_0x42e3c4(0x9a)]||0x1,_0x2bb8e9=_0x19a3cf['choose']['amount']||0x1;this[_0x42e3c4(0x178)]=ComponentUiUtil[_0x42e3c4(0x193)](this,_0x42e3c4(0x15b),{'values':_0x19a3cf[_0x42e3c4(0x12c)][_0x42e3c4(0x170)],'fnDisplay':_0x589a35=>Parser[_0x42e3c4(0xc2)](_0x589a35)+'\x20'+UiUtil[_0x42e3c4(0x196)](_0x2bb8e9),'count':_0x1d48b8}),_0x2ec3fb[_0x42e3c4(0xb5)](_0x42e3c4(0x7b)+Parser[_0x42e3c4(0x192)](_0x1d48b8)+_0x42e3c4(0x103)+(_0x1d48b8===0x1?'':'s')+_0x42e3c4(0xf2)+_0x2bb8e9+_0x42e3c4(0x190)),this[_0x42e3c4(0x178)][_0x42e3c4(0x13a)][_0x42e3c4(0xfb)](_0x2ec3fb);}['_getWeightedProps'](_0x385b70,_0x2e6a2b){const _0x1fe89a=_0x258da9;return{'propWeightAbility':_0x1fe89a(0x8d)+_0x385b70+'_'+_0x2e6a2b};}[_0x258da9(0x10e)](_0x52505f,_0x558828){const _0xd7f6f5=_0x258da9,_0x461892=[],_0x2c375b=this[_0xd7f6f5(0xf4)][_0xd7f6f5(0x83)](_0x558828),_0x4a6435=this[_0xd7f6f5(0xf4)]['_getSortedWeights'](_0x558828),_0xf0d539=$(_0xd7f6f5(0x140));_0x2c375b['forEach']((_0x5da333,_0x2cc23c)=>{const _0xd3adb7=_0xd7f6f5,_0x13fb13=_0x4a6435['map']((_0x484184,_0xf9448d)=>{const _0x2512ac=_0x2014,{propWeightAbility:_0x20d10d}=this[_0x2512ac(0x186)](_0x2cc23c,_0xf9448d),_0x2c40d4=ComponentUiUtil[_0x2512ac(0x173)](this,_0x20d10d,{'asMeta':!![]});_0x461892['push'](_0x2c40d4['unhook']);const _0x2a0d96=()=>{const _0x51f14e=_0x2512ac;if(!this[_0x51f14e(0x152)][_0x20d10d])return;const _0x5b1b47={};_0x2c375b[_0x51f14e(0xf9)]((_0x4b417a,_0x3c4ffd)=>{const _0x1c4f20=_0x51f14e,{propWeightAbility:_0x28aa68}=this[_0x1c4f20(0x186)](_0x3c4ffd,_0xf9448d);if(_0x28aa68===_0x20d10d)return;_0x5b1b47[_0x28aa68]=![];}),_0x4a6435[_0x51f14e(0xf9)]((_0xcf9f57,_0x44b2de)=>{const {propWeightAbility:_0x496626}=this['_getWeightedProps'](_0x2cc23c,_0x44b2de);if(_0x496626===_0x20d10d)return;_0x5b1b47[_0x496626]=![];}),this[_0x51f14e(0xd6)](_0x51f14e(0x79),_0x5b1b47);};return this[_0x2512ac(0x139)](_0x20d10d,_0x2a0d96),_0x461892[_0x2512ac(0x143)](()=>this[_0x2512ac(0x188)](_0x20d10d,_0x20d10d)),_0x2a0d96(),$$`<label class="flex-vh-center w-40p py-1">${_0x2c40d4[_0x2512ac(0xb9)]}</label>`;}),_0x3e0db9=$$`<div class="flex-v-center">
				<div class="w-100p text-right pr-2">${Parser[_0xd3adb7(0xc2)](_0x5da333)}</div>
				${_0x13fb13}
			</div>`[_0xd3adb7(0xfb)](_0xf0d539);}),$$(_0x52505f)`<div class="flex-col">
			<div class="mb-1">${Renderer[_0xd7f6f5(0x130)]([{'choose':_0x558828[_0xd7f6f5(0x12c)]}])[_0xd7f6f5(0x10c)]}:</div>

			<div class="flex-v-center py=1">
				<div class="w-100p"></div>
				${_0x4a6435[_0xd7f6f5(0x7d)](_0x7ebd44=>_0xd7f6f5(0x100)+UiUtil[_0xd7f6f5(0x196)](_0x7ebd44)+_0xd7f6f5(0x128))['join']('')}
			</div>

			${_0xf0d539}
		</div>`,this[_0xd7f6f5(0x178)]={'cleanup':()=>{_0x461892['forEach'](_0x2a4158=>_0x2a4158());}};}['isNoChoice'](){const _0x4a0195=_0x258da9;return this[_0x4a0195(0x159)]['length']===0x1&&!this[_0x4a0195(0x159)][0x0][_0x4a0195(0x12c)];}static[_0x258da9(0xfe)](_0x37d4df){const _0x36b3bd=_0x258da9;return MiscUtil[_0x36b3bd(0xf1)](_0x37d4df[_0x36b3bd(0x12c)][_0x36b3bd(0xed)][_0x36b3bd(0xa4)])['sort']((_0xccd5c4,_0x136cf4)=>SortUtil[_0x36b3bd(0x183)](_0x136cf4,_0xccd5c4));}static[_0x258da9(0x83)](_0x16d357){const _0x2eeeef=_0x258da9;return MiscUtil[_0x2eeeef(0xf1)](_0x16d357[_0x2eeeef(0x12c)]['weighted'][_0x2eeeef(0x170)])[_0x2eeeef(0x184)](SortUtil[_0x2eeeef(0xd3)]);}[_0x258da9(0x19a)](){const _0x59b107=_0x258da9,_0x38ac31={},_0x3a91ae=this['_ability'][this['_state'][_0x59b107(0x102)]];Parser['ABIL_ABVS'][_0x59b107(0xf9)](_0x31e6fb=>{if(_0x3a91ae[_0x31e6fb])_0x38ac31[_0x31e6fb]=_0x3a91ae[_0x31e6fb];});if(_0x3a91ae['choose']){if(_0x3a91ae[_0x59b107(0x12c)]['from']){const _0xbe34fa=ComponentUiUtil['getMetaWrpMultipleChoice_getSelectedIxs'](this,'race_asiChoice');_0xbe34fa[_0x59b107(0x7d)](_0x36bd25=>_0x3a91ae['choose'][_0x59b107(0x170)][_0x36bd25])[_0x59b107(0xf9)](_0x20ff49=>_0x38ac31[_0x20ff49]=(_0x38ac31[_0x20ff49]||0x0)+(_0x3a91ae[_0x59b107(0x12c)][_0x59b107(0x149)]||0x1));}else{if(_0x3a91ae['choose']['weighted']){const _0x491276=this[_0x59b107(0xf4)][_0x59b107(0x83)](_0x3a91ae),_0x208bac=this['constructor']['_getSortedWeights'](_0x3a91ae);_0x491276[_0x59b107(0xf9)]((_0x1895aa,_0x1942fe)=>{_0x208bac['map']((_0x297835,_0x3be890)=>{const _0x5f383=_0x2014,{propWeightAbility:_0x3384b7}=this[_0x5f383(0x186)](_0x1942fe,_0x3be890);if(this['_state'][_0x3384b7])_0x38ac31[_0x1895aa]=(_0x38ac31[_0x1895aa]||0x0)+_0x297835;});});}}}return{'isFormComplete':!!this[_0x59b107(0x152)][ComponentUiUtil[_0x59b107(0xb7)](_0x59b107(0x15b))],'data':_0x38ac31};}[_0x258da9(0x1a5)](){return{'ixSet':0x0};}}class Charactermancer_SkillSelect extends BaseComponent{static async[_0x258da9(0xa5)](_0x417c04){const _0x1da9f0=_0x258da9;_0x417c04=_0x417c04||{};if(!_0x417c04[_0x1da9f0(0x94)])return{'isFormComplete':!![],'data':{}};const _0x2a8a07=new this({..._0x417c04,'existingProficiencies':this['getExistingProficiencies'](_0x417c04['existingProficienciesFvtt'])});if(_0x2a8a07[_0x1da9f0(0x176)]())return _0x2a8a07['pGetFormData']();return Charactermancer_Util['pGetImportCompModalFormData']({'comp':_0x2a8a07});}static[_0x258da9(0xda)](_0x289ee1){const _0x32a062=_0x258da9,_0x38ae00={};return Object['entries'](_0x289ee1?.[_0x32a062(0x14a)]||{})['forEach'](([_0x29fc71,_0x4e7c36])=>{const _0x4daa93=_0x32a062;if(!_0x4e7c36[_0x4daa93(0x80)])return;_0x38ae00[UtilActors[_0x4daa93(0xe4)][_0x29fc71]]=_0x4e7c36[_0x4daa93(0x80)];}),_0x38ae00;}static['isNoChoice'](_0x5ab322){const _0x2aca22=_0x258da9;if(!_0x5ab322?.[_0x2aca22(0x19d)])return!![];return _0x5ab322[_0x2aca22(0x19d)]===0x1&&!_0x5ab322[0x0][_0x2aca22(0x12c)];}constructor(_0x362fed){const _0x80cb7a=_0x258da9;_0x362fed=_0x362fed||{},super(),this['_existingProficiencies']=_0x362fed[_0x80cb7a(0xf6)],this[_0x80cb7a(0xd0)]=_0x362fed[_0x80cb7a(0x94)],this[_0x80cb7a(0x1a0)]=_0x362fed[_0x80cb7a(0x14b)],this['_featureSourceTracker']=_0x362fed[_0x80cb7a(0xcc)],this[_0x80cb7a(0x178)]=null;}get[_0x258da9(0x1a6)](){const _0x209fb0=_0x258da9;return _0x209fb0(0xdf);}[_0x258da9(0x6c)](_0x536d76){const _0x3a1925=_0x258da9;let _0x44252d=null;if(this[_0x3a1925(0xd0)][_0x3a1925(0x19d)]>0x1){const _0x3488a3=ComponentUiUtil[_0x3a1925(0x8e)](this,_0x3a1925(0x102),{'values':this['_availableProficiencies'][_0x3a1925(0x7d)]((_0x5b97e4,_0x53b9d1)=>_0x53b9d1),'fnDisplay':_0x19f62f=>{const _0x55b4c1=_0x3a1925,_0xff81de=this[_0x55b4c1(0xd0)][_0x19f62f],_0x3356e7=[];return _0x3356e7[_0x55b4c1(0x143)](Object[_0x55b4c1(0x6e)](_0xff81de)[_0x55b4c1(0x184)](SortUtil[_0x55b4c1(0x87)])['filter'](_0x28ded2=>_0x28ded2!==_0x55b4c1(0x12c))[_0x55b4c1(0x7d)](_0x13e126=>_0x13e126[_0x55b4c1(0xb0)]())['join'](',\x20')),_0xff81de[_0x55b4c1(0x12c)]&&_0x3356e7['push'](_0x55b4c1(0x71)+(_0xff81de['choose']['count']||0x1)+_0x55b4c1(0xfa)+_0xff81de[_0x55b4c1(0x12c)][_0x55b4c1(0x170)][_0x55b4c1(0x7d)](_0x26cf68=>_0x26cf68['toTitleCase']())['join'](',\x20')),_0x3356e7[_0x55b4c1(0x17c)](Boolean)['join'](';\x20');}});if(this[_0x3a1925(0x6d)])this[_0x3a1925(0x139)](_0x3a1925(0x102),()=>this[_0x3a1925(0x6d)][_0x3a1925(0x7a)](this,{'skills':this[_0x3a1925(0x75)]()[_0x3a1925(0x111)]}));_0x44252d=$$`<div class="w-100 mb-2 flex-vh-center">
				${_0x3488a3}
			</div>`;}const _0x2540a9=$$`<div class="flex-col"></div>`;let _0x4dc0ac;const _0x4a83da=()=>{const _0x5c08d1=_0x3a1925;_0x2540a9[_0x5c08d1(0x18c)]();if(this['_featureSourceTracker']&&_0x4dc0ac)this['_featureSourceTracker'][_0x5c08d1(0x95)](this,_0x5c08d1(0x13f),_0x4dc0ac);if(this[_0x5c08d1(0x178)])this['_lastMeta'][_0x5c08d1(0x18e)]();const _0x42bd9d=this[_0x5c08d1(0xd0)][this[_0x5c08d1(0x152)]['ixSet']];if(this[_0x5c08d1(0x6d)])this[_0x5c08d1(0x6d)][_0x5c08d1(0x7a)](this,{'skills':this['_getFormData']()[_0x5c08d1(0x111)]});const _0x49869f=this[_0x5c08d1(0x110)](_0x42bd9d)?this['_render_renderPtStatic'](_0x2540a9,_0x42bd9d):null;if(_0x49869f&&_0x42bd9d[_0x5c08d1(0x12c)])_0x2540a9['append'](_0x5c08d1(0x8b));const _0x2c4ebe=_0x42bd9d[_0x5c08d1(0x12c)]?this[_0x5c08d1(0x182)](_0x2540a9,_0x42bd9d):null;_0x4dc0ac=()=>this[_0x5c08d1(0xad)](_0x49869f,_0x2c4ebe);if(this[_0x5c08d1(0x6d)])this[_0x5c08d1(0x6d)][_0x5c08d1(0x148)](this,_0x5c08d1(0x13f),_0x4dc0ac);_0x4dc0ac();};this[_0x3a1925(0x139)](_0x3a1925(0x102),_0x4a83da),_0x4a83da(),$$(_0x536d76)`
			${_0x44252d}
			${_0x2540a9}
		`;}static['_getSortedSkillSet'](_0x4f1791){const _0x159f8e=_0x258da9;if(!_0x4f1791)return _0x4f1791;return _0x4f1791=MiscUtil[_0x159f8e(0xf1)](_0x4f1791),_0x4f1791[_0x159f8e(0x12c)]?.[_0x159f8e(0x170)]&&_0x4f1791[_0x159f8e(0x12c)][_0x159f8e(0x170)][_0x159f8e(0x184)]((_0x28f151,_0x39d493)=>{const _0xb40a5b=_0x159f8e;if(typeof _0x28f151===_0xb40a5b(0x1a2)&&typeof _0x39d493===_0xb40a5b(0x1a2))return 0x0;if(typeof _0x28f151===_0xb40a5b(0x1a2))return 0x1;if(typeof _0x39d493===_0xb40a5b(0x1a2))return-0x1;return SortUtil[_0xb40a5b(0x87)](_0x28f151,_0x39d493);}),_0x4f1791;}['_isAnyStatic'](_0x29dfea){const _0x1270ee=_0x258da9;return Object[_0x1270ee(0x6e)](Parser['SKILL_TO_ATB_ABV'])[_0x1270ee(0x11d)](_0x4e6c6f=>_0x29dfea[_0x4e6c6f]);}[_0x258da9(0x19c)](_0x2b9aab,_0x3a0714){const _0x3b8f18=_0x258da9,_0x5b402e={},_0x12b403=Object[_0x3b8f18(0x6e)](Parser['SKILL_TO_ATB_ABV'])[_0x3b8f18(0x17c)](_0x4b336b=>_0x3a0714[_0x4b336b]),_0x1fce58=_0x12b403[_0x3b8f18(0x7d)]((_0x1abadc,_0x594460)=>{const _0x364694=_0x3b8f18,_0x480db8=$(_0x364694(0xb6));_0x5b402e[_0x1abadc]=_0x480db8;const _0x2b0d70=_0x594460<_0x12b403[_0x364694(0x19d)]-0x1;return $$`<div class="inline-block ${_0x2b0d70?_0x364694(0x12f):''}">${Renderer[_0x364694(0x7c)]()[_0x364694(0x6c)](_0x364694(0xc3)+_0x1abadc[_0x364694(0xb0)]()+'}')}${_0x480db8}${_0x2b0d70?',':''}</div>`;});return $$`<div class="block">
			${_0x1fce58}
		</div>`[_0x3b8f18(0xfb)](_0x2b9aab),_0x5b402e;}['_hk_updatePtsExisting'](_0x217ff9,_0x448988){const _0x12d69d=_0x258da9,_0x52e326=this[_0x12d69d(0x6d)]?this[_0x12d69d(0x6d)][_0x12d69d(0x122)](_0x12d69d(0xc4),{'ignore':this}):null,_0x561869=[_0x217ff9,_0x448988][_0x12d69d(0x17c)](Boolean);Object[_0x12d69d(0x6e)](Parser['SKILL_TO_ATB_ABV'])['forEach'](_0x5a75ea=>{_0x561869['forEach'](_0x23fdb3=>{const _0x1a4745=_0x2014;if(!_0x23fdb3[_0x5a75ea])return;let _0x1e80ed=this[_0x1a4745(0x180)]?.[_0x5a75ea]||0x0;if(_0x52e326)_0x52e326[_0x1a4745(0xf9)](_0x4fa60a=>_0x1e80ed=Math[_0x1a4745(0x101)](_0x1e80ed,_0x4fa60a[_0x5a75ea]||0x0));if(_0x1e80ed){const _0x242bea=_0x1e80ed===0x1?_0x1a4745(0x113):_0x1e80ed===0x2?_0x1a4745(0xe6):_0x1a4745(0xd9);_0x23fdb3[_0x5a75ea][_0x1a4745(0x10f)](_0x242bea)[_0x1a4745(0xf3)](_0x1a4745(0x1a3))['html'](_0x1a4745(0xe9)+UtilActors[_0x1a4745(0x177)][_0x1e80ed]+_0x1a4745(0x10b));}else _0x23fdb3[_0x5a75ea][_0x1a4745(0x10f)]('')[_0x1a4745(0x119)]('ml-1')[_0x1a4745(0xe3)]('');});});}[_0x258da9(0x182)](_0x566268,_0x538170){const _0x27860b=_0x258da9,_0x548a13=_0x538170[_0x27860b(0x12c)][_0x27860b(0x9a)]||0x1,_0xef3d12=this[_0x27860b(0xf4)][_0x27860b(0x141)](_0x538170),_0x128474={},_0x11a984=ComponentUiUtil['getMetaWrpMultipleChoice'](this,'race_skillChoice',{'count':_0x548a13,'values':_0xef3d12['choose'][_0x27860b(0x170)],'fnDisplay':_0x1226e4=>{const _0x13797b=_0x27860b;if(_0x1226e4[_0x13797b(0x11c)]===!![])return _0x13797b(0x160);if(_0x1226e4[_0x13797b(0x11c)])return _0x1226e4[_0x13797b(0x11c)]['map'](_0x2c61ed=>_0x2c61ed['toTitleCase']());const _0x5b2757=Parser[_0x13797b(0xef)](_0x1226e4),_0x339cb4=_0x13797b(0xa2)+Parser[_0x13797b(0xc2)](_0x5b2757)+_0x13797b(0xfc)+_0x5b2757[_0x13797b(0xb0)]()+_0x13797b(0xf8),_0x26b7dd=$(_0x13797b(0x169));return _0x128474[_0x1226e4]=_0x26b7dd,$$`<div class="flex-v-center w-100">
						<div class="flex-v-center">${Renderer[_0x13797b(0x7c)]()[_0x13797b(0x6c)](_0x13797b(0xc3)+_0x1226e4[_0x13797b(0xb0)]()+'}')}${_0x339cb4}</div>${_0x26b7dd}
					</div>`;}});let _0x46220d=null;this[_0x27860b(0x6d)]&&(_0x46220d=()=>this[_0x27860b(0x6d)][_0x27860b(0x7a)](this,{'skills':this[_0x27860b(0x75)]()[_0x27860b(0x111)]}),this[_0x27860b(0x139)](_0x11a984[_0x27860b(0x85)],_0x46220d));const _0x36f0a4=_0xef3d12['choose'][_0x27860b(0x170)][_0x27860b(0x11d)](_0x59b9fd=>typeof _0x59b9fd==='object'&&_0x59b9fd['tool']);return _0x566268[_0x27860b(0xb5)]('<div\x20class=\x22mb-1\x22>'+(this[_0x27860b(0x1a0)]?this[_0x27860b(0x1a0)]+':\x20':'')+'Choose\x20'+Parser[_0x27860b(0x192)](_0x548a13)+_0x27860b(0x136)+(_0x548a13===0x1?'':'s')+(_0x36f0a4?_0x27860b(0x15e)+(_0x548a13===0x1?'':'s'):'')+_0x27860b(0x190)),_0x11a984[_0x27860b(0x13a)][_0x27860b(0xfb)](_0x566268),this[_0x27860b(0x178)]={'cleanup':()=>{const _0x53505d=_0x27860b;_0x11a984[_0x53505d(0x18e)]();if(_0x46220d)this[_0x53505d(0x188)](_0x11a984[_0x53505d(0x85)],_0x46220d);}},_0x128474;}[_0x258da9(0x176)](){const _0x2ee2c0=_0x258da9;return this[_0x2ee2c0(0xf4)]['isNoChoice'](this[_0x2ee2c0(0xd0)]);}[_0x258da9(0x75)](){const _0x477356=_0x258da9,_0x3e6098={},_0x501011=this[_0x477356(0xd0)][this['_state']['ixSet']],_0x4dbd2e=this['constructor'][_0x477356(0x141)](_0x501011);Object[_0x477356(0x6e)](Parser['SKILL_TO_ATB_ABV'])[_0x477356(0x17c)](_0x55844b=>_0x4dbd2e[_0x55844b])[_0x477356(0x7d)](_0x21afe7=>_0x3e6098[_0x21afe7]=0x1);if(_0x4dbd2e[_0x477356(0x12c)]){const _0x557f32=ComponentUiUtil['getMetaWrpMultipleChoice_getSelectedIxs'](this,_0x477356(0xb8));_0x557f32[_0x477356(0x7d)](_0x33710f=>_0x4dbd2e['choose'][_0x477356(0x170)][_0x33710f])['forEach'](_0x228adc=>_0x3e6098[_0x228adc]=0x1);}return{'isFormComplete':!!this[_0x477356(0x152)][ComponentUiUtil['getMetaWrpMultipleChoice_getPropIsAcceptable']('race_skillChoice')],'data':_0x3e6098};}['pGetFormData'](){const _0x19ca2f=_0x258da9;return this[_0x19ca2f(0x75)]();}[_0x258da9(0x1a5)](){return{'ixSet':0x0};}}class Charactermancer_OtherProficiencySelect extends BaseComponent{static async['pGetUserInput'](_0x4ec34d){const _0x1b6065=_0x258da9;_0x4ec34d=_0x4ec34d||{};if(!_0x4ec34d[_0x1b6065(0x94)])return{'isFormComplete':!![],'data':{}};const _0x54db4b=new this({..._0x4ec34d,'existingProficiencies':this['getExistingProficiencies'](_0x4ec34d[_0x1b6065(0xa7)])});if(_0x54db4b[_0x1b6065(0x176)]())return _0x54db4b['pGetFormData']();return Charactermancer_Util[_0x1b6065(0x16f)]({'comp':_0x54db4b});}static['getExistingProficiencies'](_0x462678){const _0x4f4406=_0x258da9;throw new Error(_0x4f4406(0x8f));}static[_0x258da9(0x176)](_0x2c638d){const _0x156382=_0x258da9;if(!_0x2c638d?.['length'])return!![];return _0x2c638d[_0x156382(0x19d)]===0x1&&!_0x2c638d[0x0]['choose']&&!Object[_0x156382(0x6e)](this[_0x156382(0xbd)])[_0x156382(0x11d)](_0x505bcf=>_0x2c638d[0x0][_0x505bcf]);}static['_getExistingFvttProficiencySetsMeta'](_0x2ab2bc){const _0x3b24e7=_0x258da9;return{'existingProficienciesFvttSet':new Set(_0x2ab2bc?.[_0x3b24e7(0x80)]||[]),'existingProficienciesFvttSetCustom':new Set((_0x2ab2bc?.['custom']||'')[_0x3b24e7(0x132)](';')['map'](_0x282935=>_0x282935[_0x3b24e7(0x73)]()[_0x3b24e7(0xb4)]())[_0x3b24e7(0x17c)](Boolean))};}constructor(_0x22078f){const _0x2ef8be=_0x258da9;_0x22078f=_0x22078f||{},super(),this[_0x2ef8be(0xe1)]=_0x22078f[_0x2ef8be(0x138)],this['_existingProficiencies']=_0x22078f[_0x2ef8be(0xf6)],this['_availableProficiencies']=this[_0x2ef8be(0x1a1)](_0x22078f['propGroups'],_0x22078f[_0x2ef8be(0x94)],_0x22078f['anyOptions']),this['_modalTitle']=_0x22078f[_0x2ef8be(0x1a6)],this[_0x2ef8be(0xab)]=_0x22078f['title'],this[_0x2ef8be(0x16a)]=_0x22078f[_0x2ef8be(0x181)],this[_0x2ef8be(0x1a0)]=_0x22078f['titlePrefix'],this[_0x2ef8be(0xe2)]=_0x22078f[_0x2ef8be(0x11e)],this[_0x2ef8be(0x146)]=_0x22078f[_0x2ef8be(0x70)],this[_0x2ef8be(0x6d)]=_0x22078f[_0x2ef8be(0xcc)],this['_fnRenderKey']=_0x22078f['fnRenderKey'],this[_0x2ef8be(0x154)]=_0x22078f[_0x2ef8be(0x106)],this['_pFnGetChoice']=_0x22078f[_0x2ef8be(0x137)],this[_0x2ef8be(0x17d)]=_0x22078f[_0x2ef8be(0xaa)],this[_0x2ef8be(0xdd)]=_0x22078f[_0x2ef8be(0xb2)],this[_0x2ef8be(0x12b)]=[],this['_hkExisting']=null;}[_0x258da9(0x1a1)](_0x5ea89f,_0x1cb4c5,_0x28e250){const _0x312d5c=_0x258da9,_0x3c8568=this[_0x312d5c(0xe1)][0x0][_0x312d5c(0x11f)];return _0x1cb4c5[_0x312d5c(0x7d)](_0x4cbdef=>{const _0x2102fc=_0x312d5c,_0x4a98a2={};return Object['entries'](_0x4cbdef)[_0x2102fc(0xf9)](([_0x4d02f4,_0x25d80f])=>{const _0x5c6566=_0x2102fc;if(!_0x25d80f)return;if(_0x4d02f4===_0x5c6566(0x12c)){_0x4a98a2['choose']=MiscUtil[_0x5c6566(0xf1)](_0x25d80f);if(_0x4a98a2[_0x5c6566(0x12c)][_0x5c6566(0x170)]){if(_0x4a98a2['choose']['from'][_0x5c6566(0x11f)]||typeof _0x4a98a2[_0x5c6566(0x12c)][_0x5c6566(0x170)]===_0x5c6566(0x19f)){if(typeof _0x4a98a2[_0x5c6566(0x12c)][_0x5c6566(0x170)]===_0x5c6566(0x19f))_0x4a98a2[_0x5c6566(0x12c)][_0x5c6566(0x170)]={'prop':_0x3c8568,'prof':_0x4a98a2[_0x5c6566(0x12c)]['from']};}else _0x4a98a2['choose'][_0x5c6566(0x170)]=_0x4a98a2[_0x5c6566(0x12c)][_0x5c6566(0x170)][_0x5c6566(0x7d)](_0x186016=>{if(_0x186016['prop'])return _0x186016;return{'prop':_0x3c8568,'prof':_0x186016};});}}else{if(_0x28e250?.[_0x4d02f4])_0x4a98a2[_0x5c6566(0xa0)]=_0x4a98a2['any']||[],_0x4a98a2['any'][_0x5c6566(0x143)]({'key':_0x4d02f4,'value':_0x25d80f});else{if(_0x4d02f4==='static')_0x4a98a2[_0x5c6566(0x12d)]=[..._0x4a98a2[_0x5c6566(0x12d)],..._0x25d80f[_0x5c6566(0x7d)](_0x55420e=>{const _0x44bfcd=_0x5c6566;if(_0x55420e[_0x44bfcd(0x11f)])return _0x55420e;return{'prop':_0x3c8568,'prof':_0x55420e};})];else{_0x4a98a2[_0x5c6566(0x12d)]=_0x4a98a2['static']||[];const _0x14ce4a={'prop':_0x3c8568,'prof':_0x4d02f4};if(typeof _0x25d80f===_0x5c6566(0x15c))_0x14ce4a[_0x5c6566(0x9a)]=_0x25d80f;_0x4a98a2['static'][_0x5c6566(0x143)](_0x14ce4a);}}}}),_0x4a98a2;});}get[_0x258da9(0x1a6)](){const _0x462c06=_0x258da9;return this[_0x462c06(0x81)];}[_0x258da9(0x6c)](_0x4314c4){const _0x51009e=_0x258da9,_0x572e4e=this['_render_$getStgSelGroup'](),_0x17cb16=$$`<div class="flex-col"></div>`,_0x39f83b=()=>{const _0x317a3c=_0x2014;_0x17cb16[_0x317a3c(0x18c)]();this[_0x317a3c(0x6d)]&&this[_0x317a3c(0xfd)]&&this[_0x317a3c(0xe1)][_0x317a3c(0xf9)](({propTrackerPulse:_0x52926f})=>this['_featureSourceTracker'][_0x317a3c(0x95)](this,_0x52926f,this['_hkExisting']));this[_0x317a3c(0x12b)][_0x317a3c(0xf9)](_0x5a859d=>_0x5a859d['cleanup']()),this['_lastMetas']=[];const _0x29d172=this[_0x317a3c(0xd0)][this[_0x317a3c(0x152)][_0x317a3c(0x102)]];if(this[_0x317a3c(0x6d)])this[_0x317a3c(0x8c)]();const _0x95f0fe=_0x29d172[_0x317a3c(0x12d)]?.[_0x317a3c(0x19d)]?this[_0x317a3c(0x19c)](_0x17cb16,_0x29d172['static']):null;if(_0x95f0fe&&(_0x29d172[_0x317a3c(0x12c)]||_0x29d172['any']))_0x17cb16[_0x317a3c(0xb5)](_0x317a3c(0x8b));const _0x3859dc=_0x29d172[_0x317a3c(0x12c)]?this[_0x317a3c(0xf4)][_0x317a3c(0x117)](_0x29d172[_0x317a3c(0x12c)])?this[_0x317a3c(0xe7)](_0x17cb16,_0x29d172['choose']):this[_0x317a3c(0x182)](_0x17cb16,_0x29d172[_0x317a3c(0x12c)],_0x317a3c(0x12c)):null,_0x2ee637=[];_0x29d172[_0x317a3c(0xa0)]&&_0x29d172[_0x317a3c(0xa0)][_0x317a3c(0xf9)](({key:_0x12b4b9,value:_0x371358})=>{const _0x1b2af7=_0x317a3c;if(!this[_0x1b2af7(0xe2)][_0x12b4b9])return;const _0x51d5d8=this[_0x1b2af7(0xe2)][_0x12b4b9],_0x8206f0=this[_0x1b2af7(0xf4)][_0x1b2af7(0xcd)](_0x371358,_0x51d5d8,_0x29d172[_0x1b2af7(0x12d)]);if(_0x8206f0){const _0x7e1e21=this[_0x1b2af7(0x182)](_0x17cb16,_0x8206f0,_0x12b4b9);_0x2ee637[_0x1b2af7(0x143)](_0x7e1e21);}}),this[_0x317a3c(0xfd)]=()=>this[_0x317a3c(0x124)](_0x95f0fe,_0x3859dc,_0x2ee637),this[_0x317a3c(0x6d)]&&this['_propGroups'][_0x317a3c(0xf9)](({propTrackerPulse:_0x4d431e})=>this['_featureSourceTracker'][_0x317a3c(0x148)](this,_0x4d431e,this[_0x317a3c(0xfd)])),this[_0x317a3c(0xfd)]();};this[_0x51009e(0x139)](_0x51009e(0x102),_0x39f83b),_0x39f83b(),$$(_0x4314c4)`
			${_0x572e4e}
			${_0x17cb16}
		`;}[_0x258da9(0x8c)](){const _0x1e29ae=_0x258da9;this['_propGroups']['forEach'](({prop:_0x5cf306,propTracker:_0x39f2cb})=>this[_0x1e29ae(0x6d)][_0x1e29ae(0x7a)](this,{[_0x39f2cb]:this[_0x1e29ae(0x75)]()['data']?.[_0x5cf306]}));}[_0x258da9(0x156)](){const _0x35ad40=_0x258da9;if(this[_0x35ad40(0xd0)][_0x35ad40(0x19d)]<=0x1)return null;const _0x19e218=ComponentUiUtil[_0x35ad40(0x8e)](this,_0x35ad40(0x102),{'placeholder':'Select\x20'+this[_0x35ad40(0xab)]+_0x35ad40(0xac),'values':this[_0x35ad40(0xd0)][_0x35ad40(0x7d)]((_0x57bed5,_0x3dd978)=>_0x3dd978),'fnDisplay':_0x4be1a8=>{const _0x23f9eb=_0x35ad40,_0x4d6e30=this[_0x23f9eb(0xd0)][_0x4be1a8],_0x10bc7f=[];if(_0x4d6e30[_0x23f9eb(0x12d)]){const _0x25d507=MiscUtil[_0x23f9eb(0xf1)](_0x4d6e30[_0x23f9eb(0x12d)])['sort']((_0x318298,_0x5e3482)=>SortUtil[_0x23f9eb(0x87)](_0x318298[_0x23f9eb(0x16b)],_0x5e3482[_0x23f9eb(0x16b)]))[_0x23f9eb(0x7d)](({prof:_0x2ab3a6,count:_0x45d1c8})=>{const _0x484a7=_0x23f9eb,_0x57443b=_0x2ab3a6==='other'?this[_0x484a7(0x146)]:this[_0x484a7(0x72)]?this[_0x484a7(0x72)](_0x2ab3a6):_0x2ab3a6['toTitleCase']();if(_0x45d1c8)return _0x57443b+'\x20'+_0x45d1c8;return _0x57443b;})[_0x23f9eb(0xf7)](',\x20');_0x10bc7f[_0x23f9eb(0x143)](_0x25d507);}if(_0x4d6e30[_0x23f9eb(0x12c)]){if(this['constructor']['_isChooseFromFilter'](_0x4d6e30[_0x23f9eb(0x12c)]))_0x10bc7f['push'](_0x23f9eb(0x71)+Parser[_0x23f9eb(0x192)](_0x4d6e30[_0x23f9eb(0x12c)][_0x23f9eb(0x9a)]||0x1)+'\x20from\x20filtered\x20selection');else _0x10bc7f[_0x23f9eb(0x143)](_0x23f9eb(0x71)+Parser['numberToText'](_0x4d6e30['choose'][_0x23f9eb(0x9a)]||0x1)+'\x20from\x20'+_0x4d6e30[_0x23f9eb(0x12c)][_0x23f9eb(0x170)][_0x23f9eb(0x7d)](({prof:_0x3fd3e8})=>_0x3fd3e8[_0x23f9eb(0xb0)]())[_0x23f9eb(0xf7)](',\x20'));}return _0x10bc7f[_0x23f9eb(0x17c)](Boolean)['join'](';\x20');}});return this[_0x35ad40(0x6d)]&&this[_0x35ad40(0xe1)][_0x35ad40(0xf9)](({prop:_0x3de4e6,propTracker:_0x2cdb30})=>{const _0x5ab914=_0x35ad40,_0x26a59c=()=>this['_featureSourceTracker'][_0x5ab914(0x7a)](this,{[_0x2cdb30]:this[_0x5ab914(0x75)]()['data']?.[_0x3de4e6]});this[_0x5ab914(0x139)](_0x5ab914(0x102),_0x26a59c);}),$$`<div class="w-100 mb-2 flex-vh-center">
			${_0x19e218}
		</div>`;}static[_0x258da9(0x117)](_0x5b3565){const _0x26903e=_0x258da9;return typeof _0x5b3565[_0x26903e(0x170)][_0x26903e(0x16b)]===_0x26903e(0x19f);}[_0x258da9(0x90)](){const _0x2b64ab=_0x258da9,_0x5078c9={};return Object['entries'](this[_0x2b64ab(0xd0)][this[_0x2b64ab(0x152)]['ixSet']]||{})[_0x2b64ab(0xf9)](([_0x8ccd48,_0x2496f7])=>{const _0xcd15d5=_0x2b64ab;if(_0x8ccd48===_0xcd15d5(0x12c)&&this[_0xcd15d5(0xf4)]['_isChooseFromFilter'](_0x2496f7)){const _0x6f5415=this[_0xcd15d5(0x158)]()+'_chooseFilter_';Object[_0xcd15d5(0x166)](this[_0xcd15d5(0x152)])['filter'](([_0x524721,_0x4b9424])=>_0x524721[_0xcd15d5(0x191)](_0x6f5415)&&_0x4b9424)[_0xcd15d5(0xf9)](([,{prop:_0x1aee16,prof:_0x26bbfd}])=>{const _0x296789=_0xcd15d5;_0x5078c9[_0x1aee16]=_0x5078c9[_0x1aee16]||new Set(),_0x5078c9[_0x1aee16][_0x296789(0xd1)](_0x26bbfd);});}else{if(_0x8ccd48===_0xcd15d5(0x12c)){const _0x556bfe=_0x2496f7[_0xcd15d5(0x168)]?_0x2496f7[_0xcd15d5(0x170)]['map'](_0x4c2cd3=>_0x4c2cd3[_0xcd15d5(0x7f)])['flat']():_0x2496f7[_0xcd15d5(0x170)];_0x556bfe[_0xcd15d5(0xf9)](({prop:_0x17ee57,prof:_0x18ca8e})=>{const _0xf19a24=_0xcd15d5;_0x5078c9[_0x17ee57]=_0x5078c9[_0x17ee57]||new Set(),_0x5078c9[_0x17ee57][_0xf19a24(0xd1)](_0x18ca8e);});}else{if(_0x8ccd48===_0xcd15d5(0xa0))_0x2496f7[_0xcd15d5(0xf9)](({key:_0x446fde})=>{const _0x40a311=_0xcd15d5,_0x2bab83=this[_0x40a311(0xe2)][_0x446fde];if(!_0x2bab83)return;const _0x7b02cb=_0x2bab83['isGrouped']?_0x2bab83[_0x40a311(0xb3)][_0x40a311(0x7d)](_0x5748d5=>_0x5748d5['values'])[_0x40a311(0xea)]():_0x2bab83;_0x7b02cb[_0x40a311(0xf9)](({prop:_0x1570f8,prof:_0x54d92f})=>{const _0x24086e=_0x40a311;_0x5078c9[_0x1570f8]=_0x5078c9[_0x1570f8]||new Set(),_0x5078c9[_0x1570f8][_0x24086e(0xd1)](_0x54d92f);});});else{if(_0x8ccd48===_0xcd15d5(0x12d))_0x2496f7[_0xcd15d5(0xf9)](({prop:_0x5918a7,prof:_0x543e9c})=>{const _0x86bfc8=_0xcd15d5;_0x5078c9[_0x5918a7]=_0x5078c9[_0x5918a7]||new Set(),_0x5078c9[_0x5918a7][_0x86bfc8(0xd1)](_0x543e9c);});else throw new Error(_0xcd15d5(0x189)+_0x8ccd48+'\x22');}}}}),_0x5078c9;}[_0x258da9(0x158)](){const _0x39b533=_0x258da9;return this[_0x39b533(0xe1)][_0x39b533(0x7d)](({prop:_0x21b653})=>_0x21b653)[_0x39b533(0xf7)]('-');}async['_hk_pUpdatePtsExisting'](_0x42b5fd,_0x376454,_0x50eb23){const _0x14235c=_0x258da9;try{await this[_0x14235c(0x108)](_0x14235c(0x96)),await this[_0x14235c(0x125)]({'$ptsExistingStatic':_0x42b5fd,'$ptsExistingChooseFrom':_0x376454,'$ptsExistingsChooseFromAny':_0x50eb23});}finally{this[_0x14235c(0xff)](_0x14235c(0x96));}}async[_0x258da9(0x125)]({$ptsExistingStatic:_0x454212,$ptsExistingChooseFrom:_0x302bac,$ptsExistingsChooseFromAny:_0x2c1e6e}){const _0xec29f9=_0x258da9,_0xf33505=[_0x454212,_0x302bac,..._0x2c1e6e||[]][_0xec29f9(0x17c)](Boolean),_0x7453c3=this['_getAllValuesMaybeInUseLookup'](),_0x1923bc=Object[_0xec29f9(0x166)](_0x7453c3);for(const [_0x150959,_0x3232fc]of _0x1923bc){const _0x32cc20=this['_propGroups'][_0xec29f9(0x105)](_0x5d1833=>_0x5d1833['prop']===_0x150959);if(!_0x32cc20)return;const _0x5d0c6c=this[_0xec29f9(0x6d)]?this['_featureSourceTracker']['getStatesForKey'](_0x32cc20[_0xec29f9(0x86)],{'ignore':this}):null;for(const _0x275441 of _0x3232fc){for(const _0x1a8201 of _0xf33505){if(!_0x1a8201[_0x150959]?.[_0x275441])continue;const _0x18d844=this[_0xec29f9(0x154)]?await this[_0xec29f9(0x154)](_0x275441):null;let _0x416a29=!!this[_0xec29f9(0x180)]?.[_0x275441]||_0x18d844&&!!this[_0xec29f9(0x180)]?.[_0x18d844];_0x416a29=_0x416a29||(_0x5d0c6c||[])[_0xec29f9(0x11d)](_0x26e347=>!!_0x26e347[_0x275441]||_0x18d844&&!!_0x26e347[_0x18d844]),_0x1a8201[_0x150959][_0x275441][_0xec29f9(0x10f)](_0x416a29?_0xec29f9(0x113):'')[_0xec29f9(0xbe)](_0xec29f9(0x1a3),_0x416a29)[_0xec29f9(0xe3)](_0x416a29?'(<i\x20class=\x22fas\x20'+UtilActors[_0xec29f9(0x177)][0x1]+_0xec29f9(0x10b):'');}}}}[_0x258da9(0x19c)](_0x3877b5,_0x5b9cf6){const _0x1f6ee8=_0x258da9,_0x32bd91={},_0x2c96ab={};_0x5b9cf6[_0x1f6ee8(0xf9)](({prop:_0x46febc,prof:_0x4c8a8f,count:_0x49cf3b})=>MiscUtil['set'](_0x2c96ab,_0x46febc,_0x4c8a8f,_0x49cf3b||!![]));const _0xd6223e=Object['entries'](_0x2c96ab)['map'](([_0x253fcf,_0xb0a31a])=>{const _0x587d0a=_0x1f6ee8,_0x36ce90=this['_propGroups'][_0x587d0a(0x19d)]>0x1?'\x20('+this['_propGroups']['find'](_0x4757eb=>_0x4757eb['prop']===_0x253fcf)[_0x587d0a(0x18b)]+')':'',_0x1c9512=Object[_0x587d0a(0x6e)](_0xb0a31a);return _0x1c9512[_0x587d0a(0x7d)]((_0x1b7ace,_0x471036)=>{const _0x270e45=_0x587d0a,_0x28d7ec=$(_0x270e45(0xb6));MiscUtil['set'](_0x32bd91,_0x253fcf,_0x1b7ace,_0x28d7ec);const _0x5e1ab4=_0x471036<_0x1c9512[_0x270e45(0x19d)]-0x1;return $$`<div class="inline-block ${_0x5e1ab4?'mr-1':''}">${this[_0x270e45(0x72)]?this['_fnRenderKey'](_0x1b7ace):_0x1b7ace[_0x270e45(0xb0)]()}${_0x36ce90}${_0x28d7ec}${_0x5e1ab4?',':''}</div>`;});})[_0x1f6ee8(0xea)]();return $$`<div class="block">
			${_0xd6223e}
		</div>`['appendTo'](_0x3877b5),_0x32bd91;}[_0x258da9(0x182)](_0x324208,_0x250d7b,_0x1f7a5b){const _0x50affc=_0x258da9,_0xf7a496=this[_0x50affc(0x158)]()+'_'+_0x1f7a5b,_0x4eb891=_0x250d7b['count']||0x1,_0x3de3d6={},_0x19ed60={'count':_0x4eb891,'fnDisplay':({prop:_0x27cae5,prof:_0x2323d8})=>{const _0x58ff7c=_0x50affc,_0x5fcfd3=$(_0x58ff7c(0x169));return MiscUtil[_0x58ff7c(0x197)](_0x3de3d6,_0x27cae5,_0x2323d8,_0x5fcfd3),$$`<div class="flex-v-center w-100">
					<div class="flex-v-center">${_0x2323d8[_0x58ff7c(0xb0)]()}</div>
					${_0x5fcfd3}
				</div>`;}};if(_0x250d7b[_0x50affc(0x168)])_0x19ed60['valueGroups']=_0x250d7b['from'],_0x19ed60['valueGroupSplitControlsLookup']=this[_0x50affc(0xdd)];else _0x19ed60[_0x50affc(0x7f)]=_0x250d7b['from'];const _0x43047d=ComponentUiUtil[_0x50affc(0x193)](this,_0xf7a496,_0x19ed60);let _0x29da20=null;return this['_featureSourceTracker']&&(_0x29da20=()=>this[_0x50affc(0x8c)](),this[_0x50affc(0x139)](_0x43047d[_0x50affc(0x85)],_0x29da20)),this[_0x50affc(0x12b)][_0x50affc(0x143)]({'cleanup':()=>{const _0x19d366=_0x50affc;_0x43047d[_0x19d366(0x18e)]();if(_0x29da20)this[_0x19d366(0x188)](_0x43047d[_0x19d366(0x85)],_0x29da20);}}),_0x324208['append']('<div\x20class=\x22mb-1\x22>'+(this[_0x50affc(0x1a0)]?this[_0x50affc(0x1a0)]+':\x20':'')+_0x50affc(0x71)+Parser[_0x50affc(0x192)](_0x4eb891)+'\x20'+(_0x4eb891===0x1?this[_0x50affc(0xab)]:this[_0x50affc(0x16a)])+':</div>'),_0x43047d[_0x50affc(0x13a)]['appendTo'](_0x324208),_0x3de3d6;}static[_0x258da9(0xcd)](_0x1dfe69,_0x14adeb,_0x2ccb58){const _0x29ccca=_0x258da9,_0x58ceac={};(_0x2ccb58||[])[_0x29ccca(0xf9)](({prop:_0x57a1b9,prof:_0x20e951})=>{const _0x58df4c=_0x29ccca;_0x58ceac[_0x57a1b9]=_0x58ceac[_0x57a1b9]||new Set(),_0x58ceac[_0x57a1b9][_0x58df4c(0xd1)](_0x20e951[_0x58df4c(0xb4)]());});if(_0x14adeb[_0x29ccca(0x168)]){const _0xc75af1=MiscUtil[_0x29ccca(0xf1)](_0x14adeb[_0x29ccca(0xb3)]);return _0xc75af1[_0x29ccca(0xf9)](_0x1ceed1=>{const _0xced657=_0x29ccca;_0x1ceed1[_0xced657(0x7f)]['forEach'](_0x2c1c24=>_0x2c1c24[_0xced657(0x16b)]=_0x2c1c24['prof'][_0xced657(0xb4)]()),_0x1ceed1[_0xced657(0x7f)]=_0x1ceed1[_0xced657(0x7f)][_0xced657(0x17c)](({prop:_0x35a31c,prof:_0x14387e})=>!_0x58ceac[_0x35a31c]||!_0x58ceac[_0x35a31c]['has'](_0x14387e));}),{'isGrouped':!![],'from':_0xc75af1,'count':_0x1dfe69};}else return{'from':MiscUtil[_0x29ccca(0xf1)](_0x14adeb)[_0x29ccca(0x7d)](_0x3af01d=>{const _0x4cb080=_0x29ccca;return _0x3af01d[_0x4cb080(0x16b)]=_0x3af01d[_0x4cb080(0x16b)][_0x4cb080(0xb4)](),_0x3af01d;})[_0x29ccca(0x17c)](({prop:_0x3c9555,prof:_0x5a6462})=>!_0x58ceac[_0x3c9555]||!_0x58ceac[_0x3c9555][_0x29ccca(0xf5)](_0x5a6462)),'count':_0x1dfe69};}[_0x258da9(0xe7)](_0x6bfe49,_0x2eb551){const _0x11543e=_0x258da9,_0x3aa2c4={},_0x9ad4df=$('<div\x20class=\x22flex-v-center\x22></div>');return[...new Array(_0x2eb551['count']||0x1)]['forEach']((_0x42c47b,_0x4d5619)=>{const _0x96744c=_0x2014,_0x22a900=this[_0x96744c(0x158)]()+_0x96744c(0x18f)+_0x4d5619,_0x57b8c1=$(_0x96744c(0x169)),_0x47f96a=$(_0x96744c(0x13c)),_0x446714=(_0x1a2140,_0x593f15,_0x100f32)=>{const _0x1e3320=_0x96744c,_0x150000=!_0x1a2140;if(!_0x150000){const {prop:_0x53e523,prof:_0x803288}=_0x100f32||{},_0xba9e90=(_0x803288||'')['toLowerCase']();MiscUtil[_0x1e3320(0x99)](_0x3aa2c4,_0x53e523,_0xba9e90);const {prop:_0x45fb77,prof:_0xa98dea}=_0x593f15||{},_0x36ef96=(_0xa98dea||'')[_0x1e3320(0xb4)]();MiscUtil['set'](_0x3aa2c4,_0x45fb77,_0x36ef96);}_0x47f96a['html'](this[_0x1e3320(0x152)][_0x22a900]!=null?_0x1e3320(0x107)+Renderer[_0x1e3320(0x7c)]()[_0x1e3320(0x6c)]('{'+this[_0x1e3320(0x17d)]+'\x20'+this['_state'][_0x22a900][_0x1e3320(0x16b)][_0x1e3320(0xb4)]()+'}')+_0x1e3320(0x128):'<div\x20class=\x22italic\x20ve-muted\x22>(select\x20a\x20'+this['_title'][_0x1e3320(0xb4)]()+_0x1e3320(0xf8));if(!_0x150000&&this['_featureSourceTracker'])this[_0x1e3320(0x8c)]();};this[_0x96744c(0x139)](_0x22a900,_0x446714),this['_lastMetas']['push']({'cleanup':()=>this[_0x96744c(0x188)](_0x22a900,_0x446714)}),_0x446714();const _0x71cc0a=$(_0x96744c(0x129)+this[_0x96744c(0xab)]+_0x96744c(0x142))[_0x96744c(0x163)](async()=>{const _0x4ae49d=_0x96744c,_0x57c0a1=await this[_0x4ae49d(0xec)]({'filterExpression':_0x2eb551['from']['prof']});if(_0x57c0a1==null||!_0x57c0a1[_0x4ae49d(0x19d)])return;const _0x3e8f52=_0x57c0a1[0x0],_0x7707e7=this[_0x4ae49d(0xe1)][0x0]['prop'];this[_0x4ae49d(0x152)][_0x22a900]={'prop':_0x7707e7,'prof':(_0x3e8f52[_0x4ae49d(0x18b)]+'|'+_0x3e8f52[_0x4ae49d(0x7f)][_0x4ae49d(0xd7)])[_0x4ae49d(0xb4)]()};});$$`<div class="flex-v-center mr-1">${_0x71cc0a}${_0x47f96a}${_0x57b8c1}</div>`[_0x96744c(0xfb)](_0x9ad4df);}),$$`<div class="py-1 flex-v-center">
			${_0x9ad4df}
		</div>`[_0x11543e(0xfb)](_0x6bfe49),_0x3aa2c4;}[_0x258da9(0x176)](){const _0x27e5e7=_0x258da9;return this[_0x27e5e7(0xf4)]['isNoChoice'](this[_0x27e5e7(0xd0)]);}[_0x258da9(0x75)](){const _0x1fa5d4=_0x258da9;let _0x53f615=!![];const _0xc9c6b9={},_0x208a0f=this[_0x1fa5d4(0xd0)][this[_0x1fa5d4(0x152)][_0x1fa5d4(0x102)]];(_0x208a0f[_0x1fa5d4(0x12d)]||[])[_0x1fa5d4(0xf9)](({prop:_0x5c314b,prof:_0x147149})=>MiscUtil[_0x1fa5d4(0x197)](_0xc9c6b9,_0x5c314b,_0x147149,!![]));if(_0x208a0f[_0x1fa5d4(0x12c)]&&this[_0x1fa5d4(0xf4)]['_isChooseFromFilter'](_0x208a0f[_0x1fa5d4(0x12c)]))[...new Array(_0x208a0f['choose'][_0x1fa5d4(0x9a)]||0x1)][_0x1fa5d4(0xf9)]((_0x1e0f6a,_0x5c65e1)=>{const _0x4a71e6=_0x1fa5d4,_0x4a424e=this['_getJoinedProp']()+'_chooseFilter_'+_0x5c65e1;if(!this[_0x4a71e6(0x152)][_0x4a424e])_0x53f615=![];else{const {prop:_0x62a41f,prof:_0x5a30e6}=this['_state'][_0x4a424e];MiscUtil[_0x4a71e6(0x197)](_0xc9c6b9,_0x62a41f,_0x5a30e6,!![]);}});else{if(_0x208a0f[_0x1fa5d4(0x12c)]){const _0x95be91=this[_0x1fa5d4(0x158)]()+_0x1fa5d4(0xc0),_0x3ab123=ComponentUiUtil[_0x1fa5d4(0xd2)](this,_0x95be91);_0x3ab123[_0x1fa5d4(0x7d)](_0x40e61d=>_0x208a0f[_0x1fa5d4(0x12c)][_0x1fa5d4(0x170)][_0x40e61d])[_0x1fa5d4(0xf9)](({prop:_0x742f40,prof:_0x1c028d})=>MiscUtil[_0x1fa5d4(0x197)](_0xc9c6b9,_0x742f40,_0x1c028d,!![]));if(!this['_state'][ComponentUiUtil[_0x1fa5d4(0xb7)](_0x95be91)])_0x53f615=![];}}return _0x208a0f['any']&&_0x208a0f[_0x1fa5d4(0xa0)]['forEach'](({key:_0x534abb,value:_0x120f13})=>{const _0x40a244=_0x1fa5d4;if(!this[_0x40a244(0xe2)][_0x534abb])return;const _0x2c504f=this['_getJoinedProp']()+'_'+_0x534abb,_0x2e0f2c=this[_0x40a244(0xe2)][_0x534abb],_0x5e78f3=this[_0x40a244(0xf4)][_0x40a244(0xcd)](_0x120f13,_0x2e0f2c,_0x208a0f[_0x40a244(0x12d)]);if(_0x5e78f3){const _0x11b857={};if(_0x5e78f3[_0x40a244(0x168)])_0x11b857[_0x40a244(0xb3)]=_0x5e78f3[_0x40a244(0x170)];else _0x11b857[_0x40a244(0x7f)]=_0x5e78f3[_0x40a244(0x170)];ComponentUiUtil['getMetaWrpMultipleChoice_getSelectedValues'](this,_0x2c504f,_0x11b857)[_0x40a244(0xf9)](({prop:_0x57a7cc,prof:_0x330bf1})=>MiscUtil['set'](_0xc9c6b9,_0x57a7cc,_0x330bf1,!![]));}if(!this['_state'][ComponentUiUtil[_0x40a244(0xb7)](_0x2c504f)])_0x53f615=![];}),{'isFormComplete':_0x53f615,'data':_0xc9c6b9};}[_0x258da9(0x19a)](){const _0x2670d0=_0x258da9;return this[_0x2670d0(0x75)]();}['_getDefaultState'](){return{'ixSet':0x0};}static[_0x258da9(0x135)]({existingProficienciesSetFvtt:_0x45e6e4,vetToFvttProfs:_0x1c663e,allProfsVet:_0x4434fa}){const _0x40938d=_0x258da9,{existingProficienciesFvttSet:_0x2fbc3d,existingProficienciesFvttSetCustom:_0x499fee}=this['_getExistingFvttProficiencySetsMeta'](_0x45e6e4),_0x3bf4c8={};return Object['entries'](_0x1c663e)['filter'](([_0x5c38a8,_0x411993])=>_0x2fbc3d[_0x40938d(0xf5)](_0x411993))[_0x40938d(0xf9)](([_0x1d4556,_0x3e8e82])=>{const _0x2531ce=_0x40938d;_0x3bf4c8[_0x1d4556]=!![],_0x2fbc3d[_0x2531ce(0x99)](_0x3e8e82);}),_0x4434fa[_0x40938d(0xf9)](_0x38d41e=>{const _0x2c56bb=_0x40938d;if(_0x2fbc3d[_0x2c56bb(0xf5)](_0x38d41e))_0x3bf4c8[_0x38d41e]=!![],_0x2fbc3d['delete'](_0x38d41e);else _0x499fee[_0x2c56bb(0xf5)](_0x38d41e)&&(_0x3bf4c8[_0x38d41e]=!![],_0x499fee[_0x2c56bb(0x99)](_0x38d41e));}),(_0x2fbc3d[_0x40938d(0xd8)]||_0x499fee[_0x40938d(0xd8)])&&(_0x3bf4c8[_0x40938d(0x174)]=_0x2fbc3d['size']+_0x499fee['size']),_0x3bf4c8;}static get[_0x258da9(0xbd)](){return{};}}Charactermancer_OtherProficiencySelect['PropGroup']=class{constructor({prop:_0x3cafcd,propTrackerPulse:_0x1eddd6,propTracker:_0x38d0a1}){const _0x224de4=_0x258da9;this['prop']=_0x3cafcd,this[_0x224de4(0x16c)]=_0x1eddd6,this[_0x224de4(0x86)]=_0x38d0a1;}};class Charactermancer_LanguageProficiencySelect extends Charactermancer_OtherProficiencySelect{static[_0x258da9(0xda)](_0x31a3ac){const _0x56dd8b=_0x258da9;return this['_getExistingProficiencies']({'existingProficienciesSetFvtt':_0x31a3ac?.[_0x56dd8b(0xf0)],'vetToFvttProfs':UtilActors[_0x56dd8b(0xb1)],'allProfsVet':Parser[_0x56dd8b(0x91)]});}constructor(_0x3c4f97){const _0x584769=_0x258da9;super({..._0x3c4f97,'propGroups':[Charactermancer_LanguageProficiencySelect['PROP_GROUP_']],'modalTitle':_0x584769(0x9d),'title':_0x584769(0x10a),'titlePlural':_0x584769(0x120),'otherTitle':_0x584769(0x115),'anyOptions':Charactermancer_LanguageProficiencySelect['_ANY_OPTIONS']});}static get[_0x258da9(0xbd)](){const _0x14fe8b=_0x258da9;return{'any':Parser['LANGUAGES_ALL']['map'](_0x2cbdd4=>({'prof':_0x2cbdd4[_0x14fe8b(0xb4)](),'prop':_0x14fe8b(0xf0)})),'anyStandard':{'isGrouped':!![],'valueGroups':Charactermancer_LanguageProficiencySelect[_0x14fe8b(0x12e)]}};}}Charactermancer_LanguageProficiencySelect[_0x258da9(0xbf)]=new Charactermancer_OtherProficiencySelect[(_0x258da9(0xd4))]({'prop':_0x258da9(0xf0),'propTrackerPulse':_0x258da9(0x165),'propTracker':_0x258da9(0x147)}),Charactermancer_LanguageProficiencySelect[_0x258da9(0x12e)]=[{'name':_0x258da9(0xc9),'values':Parser['LANGUAGES_STANDARD'][_0x258da9(0x7d)](_0x14868a=>({'prof':_0x14868a[_0x258da9(0xb4)](),'prop':_0x258da9(0xf0)}))},{'name':_0x258da9(0x18d),'text':_0x258da9(0xde),'values':Parser[_0x258da9(0x195)][_0x258da9(0x7d)](_0x24d8d3=>({'prof':_0x24d8d3[_0x258da9(0xb4)](),'prop':_0x258da9(0xf0)}))},{'name':'Secret\x20Languages','text':_0x258da9(0x123),'values':Parser[_0x258da9(0x11b)][_0x258da9(0x7d)](_0x12e73c=>({'prof':_0x12e73c['toLowerCase'](),'prop':_0x258da9(0xf0)}))}];class Charactermancer_ToolProficiencySelect extends Charactermancer_OtherProficiencySelect{static[_0x258da9(0xda)](_0x5c905e){const _0x4ac4a2=_0x258da9;return this[_0x4ac4a2(0x135)]({'existingProficienciesSetFvtt':_0x5c905e?.[_0x4ac4a2(0xeb)],'vetToFvttProfs':UtilActors[_0x4ac4a2(0x74)],'allProfsVet':UtilActors[_0x4ac4a2(0x17b)]});}constructor(_0x74d608){const _0x15844f=_0x258da9;super({..._0x74d608,'propGroups':[Charactermancer_ToolProficiencySelect['PROP_GROUP_']],'modalTitle':_0x15844f(0x16d),'title':_0x15844f(0x160),'titlePlural':'Tool\x20Proficiencies','otherTitle':_0x15844f(0x121)});}}Charactermancer_ToolProficiencySelect[_0x258da9(0xbf)]=new Charactermancer_OtherProficiencySelect[(_0x258da9(0xd4))]({'prop':_0x258da9(0xeb),'propTrackerPulse':'pulseTools','propTracker':'tools'});class Charactermancer_LanguageToolProficiencySelect extends Charactermancer_OtherProficiencySelect{static['getExistingProficiencies'](_0x2a19b5){const _0x534c45=_0x258da9,_0x3e5ad4=this[_0x534c45(0x135)]({'existingProficienciesSetFvtt':_0x2a19b5?.[_0x534c45(0xf0)],'vetToFvttProfs':UtilActors[_0x534c45(0xb1)],'allProfsVet':Parser['LANGUAGES_ALL']}),_0x4f2b7d=this[_0x534c45(0x135)]({'existingProficienciesSetFvtt':_0x2a19b5?.[_0x534c45(0xeb)],'vetToFvttProfs':UtilActors[_0x534c45(0x74)],'allProfsVet':UtilActors[_0x534c45(0x17b)]}),_0x35ce0d=(_0x3e5ad4[_0x534c45(0x174)]||0x0)+(_0x4f2b7d[_0x534c45(0x174)]||0x0),_0x568411=MiscUtil['copy'](_0x3e5ad4);return Object['entries'](_0x4f2b7d)[_0x534c45(0x17c)](([,_0x401995])=>_0x401995)[_0x534c45(0xf9)](([_0x49c9e4,_0x5a6bd1])=>_0x568411[_0x49c9e4]=_0x5a6bd1),_0x568411[_0x534c45(0x174)]=_0x35ce0d,_0x568411;}constructor(_0x152428){const _0x3bbbae=_0x258da9;super({..._0x152428,'propGroups':[Charactermancer_LanguageProficiencySelect[_0x3bbbae(0xbf)],Charactermancer_ToolProficiencySelect['PROP_GROUP_']],'modalTitle':_0x3bbbae(0x198),'title':_0x3bbbae(0x1a7),'titlePlural':'Language\x20and\x20Tool\x20Proficiencies','otherTitle':_0x3bbbae(0xc8),'anyOptions':Charactermancer_LanguageToolProficiencySelect[_0x3bbbae(0xbd)]});}static get['_ANY_OPTIONS'](){const _0x1b51b6=_0x258da9;return{'any':[...Parser[_0x1b51b6(0x91)][_0x1b51b6(0x7d)](_0x2e7548=>({'prop':_0x1b51b6(0xf0),'prof':_0x2e7548})),...UtilActors['TOOL_PROFICIENCIES']['map'](_0x33ab70=>({'prop':_0x1b51b6(0xeb),'prof':_0x33ab70}))],'anyStandard':{'isGrouped':!![],'valueGroups':[...Charactermancer_LanguageProficiencySelect[_0x1b51b6(0x12e)],{'name':_0x1b51b6(0xca),'values':UtilActors[_0x1b51b6(0x17b)][_0x1b51b6(0x7d)](_0x212df7=>({'prop':_0x1b51b6(0xeb),'prof':_0x212df7[_0x1b51b6(0xb4)]()}))}]}};}}class Charactermancer_ArmorProficiencySelect extends Charactermancer_OtherProficiencySelect{static[_0x258da9(0xda)](_0x5560df){const _0x49a499=_0x258da9;return this['_getExistingProficiencies']({'existingProficienciesSetFvtt':_0x5560df?.[_0x49a499(0x92)],'vetToFvttProfs':UtilActors['VALID_ARMOR_PROFICIENCIES'],'allProfsVet':UtilActors[_0x49a499(0x172)]});}constructor(_0x394bb5){const _0x3fed80=_0x258da9;super({..._0x394bb5,'propGroups':[new Charactermancer_OtherProficiencySelect['PropGroup']({'prop':_0x3fed80(0x92),'propTrackerPulse':'pulseArmor','propTracker':'armor'})],'modalTitle':'Armor\x20Proficiencies','title':_0x3fed80(0xa8),'titlePlural':_0x3fed80(0x104),'otherTitle':_0x3fed80(0x13d)});}}class Charactermancer_WeaponProficiencySelect extends Charactermancer_OtherProficiencySelect{static[_0x258da9(0xda)](_0xfd5c44){const _0x1f0f77=_0x258da9;return this[_0x1f0f77(0x135)]({'existingProficienciesSetFvtt':_0xfd5c44?.[_0x1f0f77(0x13b)],'vetToFvttProfs':UtilActors[_0x1f0f77(0xa1)],'allProfsVet':UtilActors['WEAPON_PROFICIENCIES']});}constructor(_0x35cb9f){const _0x5280c0=_0x258da9;super({..._0x35cb9f,'propGroups':[new Charactermancer_OtherProficiencySelect['PropGroup']({'prop':_0x5280c0(0x13b),'propTrackerPulse':_0x5280c0(0xdc),'propTracker':_0x5280c0(0x118)})],'modalTitle':'Weapon\x20Proficiencies','title':_0x5280c0(0x98),'titlePlural':_0x5280c0(0x126),'otherTitle':'(Other\x20weapon\x20proficiency)','fnRenderKey':_0x4abc42=>Renderer[_0x5280c0(0x7c)]()['render']('{@item\x20'+_0x4abc42[_0x5280c0(0xb0)]()+'}'),'pFnGetParentGroup':_0x1d7b3e=>DataConverter[_0x5280c0(0x97)](_0x1d7b3e),'pFnGetChoice':({filterExpression:filterExpression=null}={})=>{const _0x20493d=new ModalFilterItemsFvtt({'filterExpression':filterExpression,'namespace':'Charactermancer_WeaponProficiencySelect.items','isRadio':!![]});return _0x20493d['pGetUserSelection']({'filterExpression':filterExpression});},'tag':_0x5280c0(0x17f)});}}export{Charactermancer_FeatureSourceTracker,Charactermancer_AbilityScoreSelect,Charactermancer_Util,Charactermancer_SkillSelect,Charactermancer_LanguageProficiencySelect,Charactermancer_ToolProficiencySelect,Charactermancer_LanguageToolProficiencySelect,Charactermancer_ArmorProficiencySelect,Charactermancer_WeaponProficiencySelect};