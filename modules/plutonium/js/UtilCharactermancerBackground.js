const _0xfae7=['_PROP_TO_ACTOR_DETAILS_PROP','flaw','render','walk','Flaw','roll','replace','colLabels','propMode','getFormData','find','_render_manual','_getProps','getOrSet','_renderCollection','getMaxWindowWidth','<button\x20class=\x22btn\x20btn-5et\x20btn-xs\x20btn-danger\x20ml-1\x22\x20title=\x22Delete\x22><span\x20class=\x22glyphicon\x20glyphicon-trash\x22></span></button>','_$wrpHeaderControls','330203cpdDvG','Customize\x20Background:\x20Features','WALKER_READONLY_GENERIC','modalFilter','_tables','bond','error','167603PlZiKJ','Add\x20Features\x20from\x20This\x20Background','withCustomDiceRenderingPatch','text','_triggerCollectionUpdate','total','STR_SEE_CONSOLE','appendTo','click','$getSelEnum','entries','_getDefaultState_manualEntryMeta','personalitytrait','pGetImportCompApplicationFormData','</div>','_state','details','notifications','_getDefaultState','_PROP_TO_FULL','pFillActorCharacteristicsData','<div\x20class=\x22flex-col\x22></div>','[data-plut-temp-dice]','_addHookAll','_MODE_OTHER_BACKGROUND','getDataFromSelected','data','_getCpyTableCell','1gGoETH','height','map','prop','getTableRollMode','propValue','append','standard','_getCharacteristicTables','count','_MODE_DEFAULT','state','push','resize-vertical','filter','mb-2','toggleClass','<button\x20class=\x22btn\x20btn-default\x20btn-xs\x22\x20title=\x22Show/Hide\x20Table\x22>View\x20Table</button>','style','name','stripTags','trim','pGetUserSelection','pGetFormData','isCancelled','pulseFeatures','addClass','_render_other','type','_proxyAssignSimple','1xaIvQa','_getFeatureEntries','319441nqUfAs','forEach','keys','_MODE_TO_FULL','fromObject','ideal','getMaxWindowHeight','each','No\x20cell\x20found\x20for\x20row\x20','copy','length','Personality\x20Traits','Failed\x20to\x20roll\x20dice!\x20','462323yvrTjQ','mode','get','Customize\x20your\x20Background:\x20Add\x20Feature(s)\x20from\x20Another\x20Background','_addHookBase','<div\x20class=\x22italic\x20text-center\x20ve-muted\x20my-1\x22>No\x20features.</div>','mergeMap','SYM_UI_SKIP','$wrpHeaderControls','toLowerCase','_mode','table','rows','trait','uid','<div\x20class=\x22w-100\x22></div>','_featureEntries','manualEntryMetas','custom','ctrlKey','<button\x20class=\x22btn\x20btn-xs\x20btn-5et\x20ml-1\x22><span\x20class=\x22glyphicon\x20glyphicon-plus\x22></span>\x20Add\x20Feature</button>','(Unnamed\x20Feature)','toMessage','addHookPulseFeatures','applyFormDataToActorUpdate','$getIptEntries','Show\x20Tables','915146kRJwlM','every','constructor','_value','[data-roll-min]','getEntriesAsText','title','273617MWrQwA','observe','<button\x20class=\x22btn\x20btn-default\x20btn-xs\x22>Hide\x20Tables</button>','735881BtYocO','_render_default','_PROP_METAS','html','<button\x20class=\x22btn\x20btn-xs\x20btn-default\x22>Roll','getOrdinalForm','pGetUserInput','No\x20result\x20found\x20for\x20roll\x20of\x20','Hide\x20Tables','_modalFilter','join','otherBackgroundEntries','toggleVe','<button\x20class=\x22btn\x20btn-default\x20btn-5et\x20w-100\x20mr-2\x20mb-2\x22>Choose\x20Background</button>','<i\x20class=\x22ve-muted\x22>Select\x20an\x20alternate\x20background,\x20whose\x20feature(s)\x20will\x20replace\x20your\x20current\x20background\x27s\x20feature(s).</i>','Customize\x20your\x20Background:\x20Add\x20Custom\x20Feature(s)','_MODE_MANUAL','exec','ROLL_COL_STANDARD'];const _0x3f98=function(_0x264c0,_0x3fc393){_0x264c0=_0x264c0-0x1cd;let _0xfae7fd=_0xfae7[_0x264c0];return _0xfae7fd;};const _0x213939=_0x3f98;(function(_0x162f61,_0x7fd745){const _0xb98a68=_0x3f98;while(!![]){try{const _0xc5f39b=parseInt(_0xb98a68(0x257))+-parseInt(_0xb98a68(0x1e2))+-parseInt(_0xb98a68(0x232))*parseInt(_0xb98a68(0x205))+-parseInt(_0xb98a68(0x254))+parseInt(_0xb98a68(0x1e9))+parseInt(_0xb98a68(0x225))*-parseInt(_0xb98a68(0x223))+parseInt(_0xb98a68(0x24d));if(_0xc5f39b===_0x7fd745)break;else _0x162f61['push'](_0x162f61['shift']());}catch(_0x18e5df){_0x162f61['push'](_0x162f61['shift']());}}}(_0xfae7,0x69b96));import{DataConverter}from'./DataConverter.js';import{Vetools}from'./Vetools.js';import{Charactermancer_Util}from'./UtilCharactermancer.js';import{Util}from'./Util.js';class Charactermancer_Background_Characteristics extends BaseComponent{static async[_0x213939(0x25d)]({entries:_0x42f87b}={}){const _0xcb1a23=_0x213939;if(!_0x42f87b||!_0x42f87b['length'])return{'isFormComplete':!![],'data':{}};const _0x4a141c=new this({'entries':_0x42f87b});return Charactermancer_Util[_0xcb1a23(0x1f6)]({'comp':_0x4a141c,'width':Util[_0xcb1a23(0x1df)](0x280),'height':Util['getMaxWindowHeight']()});}static async[_0x213939(0x1fd)](_0x2eeb99,_0x19c3bc,_0x2c12e8){const _0x22af54=_0x213939;if(!_0x2eeb99||!_0x2eeb99[_0x22af54(0x22f)])return;const _0x5cb65b=await this[_0x22af54(0x25d)]({'entries':_0x2eeb99});if(!_0x5cb65b)return _0x2c12e8[_0x22af54(0x21d)]=!![];if(_0x5cb65b===VeCt[_0x22af54(0x239)])return;this['applyFormDataToActorUpdate'](_0x19c3bc,_0x5cb65b);}static[_0x213939(0x24a)](_0x16d43b,_0x335654){const _0x126191=_0x213939;MiscUtil[_0x126191(0x1dd)](_0x16d43b,_0x126191(0x203),_0x126191(0x1f9),{}),Charactermancer_Background_Characteristics[_0x126191(0x259)][_0x126191(0x226)](_0x17887a=>{const _0x4a91f2=_0x126191;_0x16d43b[_0x4a91f2(0x203)][_0x4a91f2(0x1f9)][Charactermancer_Background_Characteristics[_0x4a91f2(0x1d0)][_0x17887a[_0x4a91f2(0x208)]]]=[...new Array(_0x17887a[_0x4a91f2(0x20e)]||0x1)][_0x4a91f2(0x207)]((_0x1a1d03,_0x3db61d)=>{const _0x5b6e52=_0x4a91f2,{propValue:_0x2fdd6c}=this[_0x5b6e52(0x1dc)](_0x17887a[_0x5b6e52(0x208)],_0x3db61d);if(!_0x335654['data'][_0x2fdd6c])return null;return _0x335654[_0x5b6e52(0x203)][_0x2fdd6c];})['filter'](Boolean)[_0x4a91f2(0x261)]('\x0a\x0a');});}constructor(_0x1516b0){const _0x1a0bde=_0x213939;_0x1516b0=_0x1516b0||{},super(),this[_0x1a0bde(0x1e6)]=Charactermancer_Background_Characteristics[_0x1a0bde(0x20d)](_0x1516b0[_0x1a0bde(0x1f3)]),this[_0x1a0bde(0x1e1)]=_0x1516b0[_0x1a0bde(0x23a)],Object['assign'](this['__state'],Charactermancer_Background_Characteristics['_PROP_METAS'][_0x1a0bde(0x238)](_0x5170e8=>({[Charactermancer_Background_Characteristics[_0x1a0bde(0x1dc)](_0x5170e8[_0x1a0bde(0x208)])[_0x1a0bde(0x1d8)]]:this[_0x1a0bde(0x1e6)][_0x5170e8[_0x1a0bde(0x208)]]!=null?_0x1a0bde(0x20c):'custom'})));}static[_0x213939(0x1dc)](_0x4ad525,_0x20165f){const _0x4277d7=_0x213939;return{'propValue':_0x4ad525+'_'+_0x20165f+_0x4277d7(0x250),'propMode':_0x4ad525+_0x4277d7(0x23c)};}static[_0x213939(0x204)](_0x19d89f,_0x1c43b0){const _0x1fee46=_0x213939,_0x2bd3eb=_0x19d89f[_0x1fee46(0x23e)][_0x1c43b0]?.[0x1];if(!_0x2bd3eb)return ui[_0x1fee46(0x1fa)][_0x1fee46(0x1e8)](_0x1fee46(0x22d)+_0x1c43b0+'!'),null;return MiscUtil['copy'](_0x2bd3eb);}get['modalTitle'](){return'Characteristics';}[_0x213939(0x1d2)](_0x35250b){const _0x356d31=_0x213939,_0x246ef2=Charactermancer_Background_Characteristics[_0x356d31(0x259)][_0x356d31(0x207)]((_0x2d9110,_0x370e2d)=>{const _0x5ebe5f=_0x356d31,_0xf6b48c=_0x2d9110[_0x5ebe5f(0x20e)]||0x1,{propMode:_0x214a5e}=this[_0x5ebe5f(0x24f)][_0x5ebe5f(0x1dc)](_0x2d9110['prop']);let _0x59b942,_0x1f03b8;if(this['_tables'][_0x2d9110['prop']]){const _0x12cd5e=$(_0x5ebe5f(0x216))[_0x5ebe5f(0x1f1)](()=>this[_0x5ebe5f(0x1f8)][_0x214a5e]=this['_state'][_0x214a5e]===_0x5ebe5f(0x244)?_0x5ebe5f(0x20c):_0x5ebe5f(0x244));_0x59b942=$$`<div class="flex-v-center">
					${_0x12cd5e}
				</div>`;const _0x2be5b9=this['_tables'][_0x2d9110[_0x5ebe5f(0x208)]],_0x5f39fd=Vetools[_0x5ebe5f(0x1eb)](()=>{const _0x248012=_0x5ebe5f,_0x58f48b=$(''+Renderer['get']()[_0x248012(0x1d2)](_0x2be5b9));return _0x58f48b['find'](_0x248012(0x1ff))[_0x248012(0x22c)]((_0x1194bc,_0x42ad6c)=>{const _0x580eea=_0x248012,_0x150ff5=$(_0x42ad6c),_0x2b7142=[...new Array(_0xf6b48c)][_0x580eea(0x207)]((_0x3097fe,_0x3d10ab)=>{const _0x5b2016=_0x580eea;return $(_0x5b2016(0x25b)+(_0xf6b48c>0x1?'\x20'+Parser[_0x5b2016(0x25c)](_0x3d10ab+0x1):'')+'</button>')[_0x5b2016(0x1f1)](()=>{const _0x31b0f8=_0x5b2016,{propValue:_0x2445c4}=this[_0x31b0f8(0x24f)][_0x31b0f8(0x1dc)](_0x2d9110[_0x31b0f8(0x208)],_0x3d10ab);let _0x3433eb;try{_0x3433eb=new Roll(Renderer[_0x31b0f8(0x219)](_0x2be5b9['colLabels'][0x0])),_0x3433eb[_0x31b0f8(0x1d5)](),_0x3433eb[_0x31b0f8(0x248)]();}catch(_0x456467){return ui[_0x31b0f8(0x1fa)]['error'](_0x31b0f8(0x231)+VeCt[_0x31b0f8(0x1ef)]);}const _0x577809=_0x2be5b9[_0x31b0f8(0x23e)][_0x3433eb[_0x31b0f8(0x1ee)]-0x1]?.[0x1];if(!_0x577809)return ui[_0x31b0f8(0x1fa)][_0x31b0f8(0x1e8)](_0x31b0f8(0x25e)+_0x3433eb[_0x31b0f8(0x1ee)]+'!');this[_0x31b0f8(0x1f8)][_0x2445c4]=MiscUtil[_0x31b0f8(0x22e)](_0x577809);});}),_0x15dbc3=$$`<div class="flex-vh-center btn-group">${_0x2b7142}</div>`;_0x150ff5['replaceWith'](_0x15dbc3);}),_0x58f48b[_0x248012(0x1da)](_0x248012(0x251))['each']((_0x1c6b55,_0x187a4c)=>{const _0x117140=_0x248012,_0x38423d=$(_0x187a4c),_0x303c6e=_0x38423d[_0x117140(0x25a)]();$('<div\x20class=\x22render-roller\x22>'+_0x303c6e+_0x117140(0x1f7))[_0x117140(0x1f1)](_0xc99a4b=>{const _0x3c9b8d=_0x117140,{propValue:_0x464cca}=this[_0x3c9b8d(0x24f)][_0x3c9b8d(0x1dc)](_0x2d9110[_0x3c9b8d(0x208)],_0xc99a4b[_0x3c9b8d(0x245)]?0x1:0x0);this[_0x3c9b8d(0x1f8)][_0x464cca]=this[_0x3c9b8d(0x24f)]['_getCpyTableCell'](_0x2be5b9,_0x1c6b55);})[_0x117140(0x253)](_0xf6b48c>0x1?'Left-click\x20to\x20set\x20the\x20first\x20field;\x20CTRL-click\x20to\x20set\x20the\x20second\x20field.':null)['appendTo'](_0x38423d['empty']());}),_0x58f48b;},()=>{return'<span\x20data-plut-temp-dice=\x22true\x22></span>';});_0x1f03b8=$$`<div class="flex-col w-100 ve-small">
					${_0x5f39fd}
				</div>`;const _0x34f492=()=>{const _0x16bd4f=_0x5ebe5f;_0x12cd5e[_0x16bd4f(0x215)]('active',this[_0x16bd4f(0x1f8)][_0x214a5e]===_0x16bd4f(0x20c)),_0x1f03b8[_0x16bd4f(0x263)](this[_0x16bd4f(0x1f8)][_0x214a5e]===_0x16bd4f(0x20c));};this[_0x5ebe5f(0x236)](_0x214a5e,_0x34f492),_0x34f492();}const _0x213b5b=[...new Array(_0xf6b48c)]['map']((_0x1d114a,_0x57b3e0)=>ComponentUiUtil[_0x5ebe5f(0x24b)](this,this[_0x5ebe5f(0x24f)][_0x5ebe5f(0x1dc)](_0x2d9110['prop'],_0x57b3e0)[_0x5ebe5f(0x20a)])[_0x5ebe5f(0x21f)](_0x5ebe5f(0x212)));if(_0xf6b48c!==0x1){const _0x50892b=_0x213b5b[_0x5ebe5f(0x207)](_0x2da7db=>_0x2da7db[0x0]),_0x3c95ca=new ResizeObserver(_0x4f9931=>{const _0x22e6dd=_0x5ebe5f;if(_0x4f9931[_0x22e6dd(0x22f)]!==0x1)return;const _0x2904b1=_0x4f9931[0x0]['target'];_0x50892b[_0x22e6dd(0x213)](_0x32c3b6=>_0x32c3b6!==_0x2904b1)[_0x22e6dd(0x226)](_0x347985=>_0x347985[_0x22e6dd(0x217)][_0x22e6dd(0x206)]=_0x2904b1[_0x22e6dd(0x217)][_0x22e6dd(0x206)]);});_0x50892b[_0x5ebe5f(0x226)](_0x5967ad=>_0x3c95ca[_0x5ebe5f(0x255)](_0x5967ad));}return $$`<div class="flex-col ${_0x370e2d<Charactermancer_Background_Characteristics[_0x5ebe5f(0x259)][_0x5ebe5f(0x22f)]-0x1?_0x5ebe5f(0x214):''}">
				<div class="split-v-center mb-1">
					<div>${Charactermancer_Background_Characteristics[_0x5ebe5f(0x1fc)][_0x2d9110[_0x5ebe5f(0x208)]]}:</div>
					${_0x59b942}
				</div>

				${_0x1f03b8}

				<div class="flex">${_0x213b5b}</div>
			</div>`;}),_0x4ca63e=!!Object[_0x356d31(0x227)](this[_0x356d31(0x1e6)])[_0x356d31(0x22f)];let _0x31c834;if(_0x4ca63e){_0x31c834=$(_0x356d31(0x256))['click'](()=>{const _0x46fb0f=_0x356d31,_0x3a3079=_0x31c834[_0x46fb0f(0x1ec)]()===_0x46fb0f(0x25f);this[_0x46fb0f(0x222)]('state',Charactermancer_Background_Characteristics['_PROP_METAS'][_0x46fb0f(0x238)](_0x90a238=>({[Charactermancer_Background_Characteristics[_0x46fb0f(0x1dc)](_0x90a238[_0x46fb0f(0x208)])[_0x46fb0f(0x1d8)]]:this[_0x46fb0f(0x1e6)][_0x90a238[_0x46fb0f(0x208)]]!=null&&!_0x3a3079?_0x46fb0f(0x20c):_0x46fb0f(0x244)}))),_0x31c834[_0x46fb0f(0x1ec)](_0x3a3079?_0x46fb0f(0x24c):_0x46fb0f(0x25f));});const _0x313456=()=>{const _0x29c7f5=_0x356d31,_0x40c392=Charactermancer_Background_Characteristics['_PROP_METAS'][_0x29c7f5(0x213)](_0x43f108=>this[_0x29c7f5(0x1e6)][_0x43f108[_0x29c7f5(0x208)]])[_0x29c7f5(0x207)](_0x1332d9=>this[_0x29c7f5(0x1f8)][Charactermancer_Background_Characteristics[_0x29c7f5(0x1dc)](_0x1332d9['prop'])[_0x29c7f5(0x1d8)]]==='custom');if(_0x40c392[_0x29c7f5(0x24e)](Boolean))_0x31c834[_0x29c7f5(0x1ec)](_0x29c7f5(0x24c));else{if(_0x40c392[_0x29c7f5(0x24e)](_0x324964=>!_0x324964))_0x31c834[_0x29c7f5(0x1ec)](_0x29c7f5(0x25f));}};Charactermancer_Background_Characteristics['_PROP_METAS']['map'](_0x28b46f=>Charactermancer_Background_Characteristics[_0x356d31(0x1dc)](_0x28b46f['prop'])['propMode'])[_0x356d31(0x226)](_0x422359=>this[_0x356d31(0x236)](_0x422359,_0x313456)),_0x313456();}let _0x218354;if(!this[_0x356d31(0x1e1)]&&_0x4ca63e)_0x218354=$$`<div class="mb-2 flex-h-right">${_0x31c834}</div>`;else this[_0x356d31(0x1e1)]&&_0x4ca63e&&this[_0x356d31(0x1e1)][_0x356d31(0x20b)](_0x31c834);$$(_0x35250b)`
			${_0x218354}
			${_0x246ef2}
		`;}[_0x213939(0x21c)](){const _0x3cb4fa=_0x213939,_0x93eb31=Charactermancer_Background_Characteristics[_0x3cb4fa(0x259)][_0x3cb4fa(0x207)](_0x3e92e6=>[...new Array(_0x3e92e6['count']||0x1)]['map']((_0xa2dfca,_0x2543ec)=>this[_0x3cb4fa(0x24f)][_0x3cb4fa(0x1dc)](_0x3e92e6[_0x3cb4fa(0x208)],_0x2543ec)[_0x3cb4fa(0x20a)]))['flat']()['mergeMap'](_0x3232c5=>({[_0x3232c5]:UiUtil[_0x3cb4fa(0x252)](this['_state'][_0x3232c5])}));return{'isFormComplete':Object['values'](_0x93eb31)[_0x3cb4fa(0x24e)](_0x5d072c=>_0x5d072c[_0x3cb4fa(0x21a)]()),'data':_0x93eb31};}[_0x213939(0x1fb)](){const _0x1ee6f4=_0x213939;return Charactermancer_Background_Characteristics[_0x1ee6f4(0x259)][_0x1ee6f4(0x207)](_0x33f4e8=>[...new Array(_0x33f4e8[_0x1ee6f4(0x20e)]||0x1)]['map']((_0x226fe1,_0x2bf818)=>this[_0x1ee6f4(0x24f)][_0x1ee6f4(0x1dc)](_0x33f4e8[_0x1ee6f4(0x208)],_0x2bf818)[_0x1ee6f4(0x20a)]))['flat']()[_0x1ee6f4(0x238)](_0x9c1de9=>({[_0x9c1de9]:''}));}static[_0x213939(0x20d)](_0x12c21e){const _0x465f83=_0x213939;if(!_0x12c21e)return{};const _0x4f46cd={};return DataConverter[_0x465f83(0x1e4)][_0x465f83(0x1d3)](_0x12c21e,{'object':_0x293a9d=>{const _0x5f4258=_0x465f83;if(_0x293a9d[_0x5f4258(0x221)]!==_0x5f4258(0x23d)||_0x293a9d?.['colLabels']?.[_0x5f4258(0x22f)]!==0x2||Renderer[_0x5f4258(0x209)](_0x293a9d)!==RollerUtil[_0x5f4258(0x1cf)])return;const _0x2cddbf=_0x293a9d[_0x5f4258(0x1d7)][0x1][_0x5f4258(0x23b)]()[_0x5f4258(0x1d6)](/\s+/g,''),_0x596118=/^(personalitytrait|ideal|bond|flaw)$/i[_0x5f4258(0x1ce)](_0x2cddbf);if(!_0x596118)return;_0x4f46cd[_0x2cddbf]=MiscUtil[_0x5f4258(0x22e)](_0x293a9d);}}),_0x4f46cd;}}Charactermancer_Background_Characteristics[_0x213939(0x259)]=[{'prop':_0x213939(0x1f5),'count':0x2},{'prop':_0x213939(0x22a)},{'prop':_0x213939(0x1e7)},{'prop':_0x213939(0x1d1)}],Charactermancer_Background_Characteristics['_PROP_TO_FULL']={'personalitytrait':_0x213939(0x230),'ideal':'Ideal','bond':'Bond','flaw':_0x213939(0x1d4)},Charactermancer_Background_Characteristics[_0x213939(0x1d0)]={'personalitytrait':_0x213939(0x23f),'ideal':_0x213939(0x22a),'bond':_0x213939(0x1e7),'flaw':_0x213939(0x1d1)};class Charactermancer_Background_Features extends BaseComponent{static async[_0x213939(0x25d)]({entries:_0x3e558b,modalFilter:_0x4e1e93}={}){const _0x4cbad7=_0x213939,_0x1ce50a=new this({'entries':_0x3e558b,'modalFilter':_0x4e1e93});return Charactermancer_Util[_0x4cbad7(0x1f6)]({'comp':_0x1ce50a,'width':Util['getMaxWindowWidth'](0x280),'height':Util[_0x4cbad7(0x22b)](0x1e0)});}constructor(_0x49dedd){const _0x2ce72c=_0x213939;_0x49dedd=_0x49dedd||{},super(),this[_0x2ce72c(0x242)]=Charactermancer_Background_Features[_0x2ce72c(0x224)](_0x49dedd['entries']),this['_modalFilter']=_0x49dedd[_0x2ce72c(0x1e5)];}static[_0x213939(0x224)](_0x61c82e){const _0x52f674=_0x213939;return(_0x61c82e||[])[_0x52f674(0x213)](_0x58a8ec=>_0x58a8ec[_0x52f674(0x203)]?.['isFeature'])[_0x52f674(0x207)](_0x351ed9=>{const _0x42540f=_0x52f674,_0x16cb05=MiscUtil['copy'](_0x351ed9);if(_0x16cb05[_0x42540f(0x218)])_0x16cb05[_0x42540f(0x218)]['replace'](/^.*?:\s*/,'');return _0x16cb05;});}get['modalTitle'](){const _0x54b53b=_0x213939;return _0x54b53b(0x1e3);}get[_0x213939(0x233)](){const _0x4258af=_0x213939;return this['_state'][_0x4258af(0x233)];}[_0x213939(0x249)](_0x58e807){const _0x44637e=_0x213939;this['_addHookBase'](_0x44637e(0x21e),_0x58e807);}['render'](_0x1956f8){const _0x13437f=_0x213939,_0x2a4e48=ComponentUiUtil[_0x13437f(0x1f2)](this,_0x13437f(0x233),{'values':[Charactermancer_Background_Features[_0x13437f(0x20f)],Charactermancer_Background_Features['_MODE_OTHER_BACKGROUND'],Charactermancer_Background_Features[_0x13437f(0x1cd)]],'fnDisplay':_0x5916f6=>Charactermancer_Background_Features[_0x13437f(0x228)][_0x5916f6]});this[_0x13437f(0x236)]('mode',()=>this[_0x13437f(0x1f8)]['pulseFeatures']=!this[_0x13437f(0x1f8)][_0x13437f(0x21e)]);const _0x42179a=$(_0x13437f(0x246))[_0x13437f(0x1f1)](()=>{const _0x7ef82a=_0x13437f,_0x141ccf=this[_0x7ef82a(0x1f4)]();this['_state'][_0x7ef82a(0x243)]=[...this[_0x7ef82a(0x1f8)]['manualEntryMetas'],_0x141ccf];}),_0x3e78f8=()=>_0x42179a[_0x13437f(0x263)](this[_0x13437f(0x1f8)][_0x13437f(0x233)]===Charactermancer_Background_Features[_0x13437f(0x1cd)]);this['_addHookBase'](_0x13437f(0x233),_0x3e78f8),_0x3e78f8();const _0x492624=this['_render_default'](),_0x2ae2b8=this['_render_other'](),_0x201c06=this[_0x13437f(0x1db)]();$$(_0x1956f8)`
			<div class="flex-v-center mb-1">
				${_0x2a4e48}
				${_0x42179a}
			</div>
			${_0x492624}
			${_0x2ae2b8}
			${_0x201c06}
		`;}[_0x213939(0x258)](){const _0x4f8596=_0x213939,_0x1959ce=$$`<div class="flex-col mt-1">
			<div class="w-100">${Renderer[_0x4f8596(0x234)]()['render']({'type':_0x4f8596(0x1f3),'entries':this[_0x4f8596(0x242)]})}</div>
		</div>`,_0x4e096b=()=>_0x1959ce[_0x4f8596(0x263)](this['_state']['mode']===Charactermancer_Background_Features[_0x4f8596(0x20f)]);return this[_0x4f8596(0x236)]('mode',_0x4e096b),_0x4e096b(),_0x1959ce;}[_0x213939(0x220)](){const _0x299d9f=_0x213939,_0x425f02=$(_0x299d9f(0x264))[_0x299d9f(0x1f1)](async()=>{const _0x51e52e=_0x299d9f,_0x5a708e=await this[_0x51e52e(0x260)][_0x51e52e(0x21b)]();if(_0x5a708e==null||!_0x5a708e[_0x51e52e(0x22f)])return;const _0x4b97e0=this['_modalFilter'][_0x51e52e(0x202)](_0x5a708e[0x0]);this[_0x51e52e(0x1f8)][_0x51e52e(0x262)]=Charactermancer_Background_Features['_getFeatureEntries'](_0x4b97e0[_0x51e52e(0x1f3)]);}),_0x18bb4f=$(_0x299d9f(0x241)),_0x38684b=()=>{const _0x2b13a2=_0x299d9f;_0x18bb4f[_0x2b13a2(0x25a)](Renderer[_0x2b13a2(0x234)]()[_0x2b13a2(0x1d2)](this['_state'][_0x2b13a2(0x262)]?.[_0x2b13a2(0x22f)]?{'type':_0x2b13a2(0x1f3),'entries':this['_state'][_0x2b13a2(0x262)]}:_0x2b13a2(0x265))),this[_0x2b13a2(0x1f8)][_0x2b13a2(0x21e)]=!this[_0x2b13a2(0x1f8)][_0x2b13a2(0x21e)];};this['_addHookBase']('otherBackgroundEntries',_0x38684b),_0x38684b();const _0x57e16e=$$`<div class="flex-col mt-1">
			${_0x425f02}
			${_0x18bb4f}
		</div>`,_0x1a19a5=()=>_0x57e16e[_0x299d9f(0x263)](this['_state'][_0x299d9f(0x233)]===Charactermancer_Background_Features[_0x299d9f(0x201)]);return this['_addHookBase'](_0x299d9f(0x233),_0x1a19a5),_0x1a19a5(),_0x57e16e;}[_0x213939(0x1db)](){const _0x283106=_0x213939,_0xc07efa=$(_0x283106(0x237)),_0x481b49=$(_0x283106(0x1fe)),_0x10f8d7=()=>{const _0x264d99=_0x283106;this[_0x264d99(0x1de)]({'prop':_0x264d99(0x243),'fnDeleteExisting':()=>{const _0xf53bf9=_0x264d99;this[_0xf53bf9(0x1f8)][_0xf53bf9(0x21e)]=!this[_0xf53bf9(0x1f8)][_0xf53bf9(0x21e)];},'fnUpdateExisting':(_0x18e33a,_0x7432ef)=>{const _0x4a2ae1=_0x264d99;_0x18e33a['comp']['_proxyAssignSimple'](_0x4a2ae1(0x210),_0x7432ef[_0x4a2ae1(0x203)],!![]),this['_state'][_0x4a2ae1(0x21e)]=!this['_state'][_0x4a2ae1(0x21e)];},'fnGetNew':_0x2a79b0=>{const _0x53d949=_0x264d99,_0x186051=BaseComponent[_0x53d949(0x229)](_0x2a79b0[_0x53d949(0x203)],'*');_0x186051[_0x53d949(0x200)](_0x53d949(0x210),()=>{const _0x37b6c6=_0x53d949;_0x2a79b0[_0x37b6c6(0x203)]=_0x186051['toObject'](),this[_0x37b6c6(0x1ed)](_0x37b6c6(0x243));});const _0x3e89a8=ComponentUiUtil['$getIptStr'](_0x186051,_0x53d949(0x218)),_0x254eda=ComponentUiUtil[_0x53d949(0x24b)](_0x186051,_0x53d949(0x1f3)),_0x4f4366=$(_0x53d949(0x1e0))['click'](()=>this[_0x53d949(0x1f8)][_0x53d949(0x243)]=this[_0x53d949(0x1f8)][_0x53d949(0x243)][_0x53d949(0x213)](_0x90a88c=>_0x90a88c!==_0x2a79b0)),_0x4f724b=$$`<div class="flex-col py-1 w-100 stripe-even">
						<div class="split-v-center mb-1">
							<label class="flex-v-center w-100"><div class="mr-1 text-right pr-1 no-shrink w-50p">Name</div>${_0x3e89a8}</label>
							${_0x4f4366}
						</div>
						<label class="flex-v-center w-100"><div class="mr-1 text-right pr-1 no-shrink w-50p">Text</div>${_0x254eda}</label>
					</div>`[_0x53d949(0x1f0)](_0x481b49);return{'comp':_0x186051,'$wrpRow':_0x4f724b};}}),_0xc07efa['toggleVe'](!this['_state'][_0x264d99(0x243)]?.[_0x264d99(0x22f)]);};_0x10f8d7(),this[_0x283106(0x236)](_0x283106(0x243),_0x10f8d7);const _0x4f9110=$$`<div class="flex-col">
			<hr class="hr-1">
			${_0xc07efa}
			${_0x481b49}
		</div>`,_0x1c5de9=()=>_0x4f9110[_0x283106(0x263)](this[_0x283106(0x1f8)][_0x283106(0x233)]===Charactermancer_Background_Features[_0x283106(0x1cd)]);return this[_0x283106(0x236)](_0x283106(0x233),_0x1c5de9),_0x1c5de9(),_0x4f9110;}[_0x213939(0x1d9)](){const _0x1eab43=_0x213939;let _0x4d2eee=!![];const _0x12f2ca=[];switch(this[_0x1eab43(0x1f8)][_0x1eab43(0x233)]){case Charactermancer_Background_Features[_0x1eab43(0x20f)]:{_0x12f2ca[_0x1eab43(0x211)](...this[_0x1eab43(0x242)]);break;}case Charactermancer_Background_Features[_0x1eab43(0x201)]:{if(!this[_0x1eab43(0x1f8)]['otherBackgroundEntries']?.[_0x1eab43(0x22f)])_0x4d2eee=![];_0x12f2ca[_0x1eab43(0x211)](...this[_0x1eab43(0x1f8)][_0x1eab43(0x262)]||[]);break;}case Charactermancer_Background_Features[_0x1eab43(0x1cd)]:{const _0x2c2758=this[_0x1eab43(0x1f8)][_0x1eab43(0x243)][_0x1eab43(0x213)](({data:_0x435b09})=>_0x435b09[_0x1eab43(0x1f3)]&&_0x435b09[_0x1eab43(0x1f3)]['length'])[_0x1eab43(0x207)](({data:_0x4ccd96})=>{const _0x3196c0=_0x1eab43;return _0x4ccd96=MiscUtil[_0x3196c0(0x22e)](_0x4ccd96),_0x4ccd96[_0x3196c0(0x218)]=_0x4ccd96['name']||_0x3196c0(0x247),_0x4ccd96[_0x3196c0(0x221)]=_0x3196c0(0x1f3),_0x4ccd96;});if(!_0x2c2758[_0x1eab43(0x22f)])_0x4d2eee=![];_0x12f2ca[_0x1eab43(0x211)](..._0x2c2758);break;}}return{'isFormComplete':_0x4d2eee,'data':{'entries':_0x12f2ca,'isCustomize':this[_0x1eab43(0x1f8)][_0x1eab43(0x233)]!==Charactermancer_Background_Features['_MODE_DEFAULT']}};}[_0x213939(0x21c)](){const _0xd36f1e=_0x213939;return this[_0xd36f1e(0x1d9)]();}['_getDefaultState_manualEntryMeta'](){const _0x5094c4=_0x213939;return{'id':CryptUtil[_0x5094c4(0x240)](),'data':{'name':'','entries':[]}};}['_getDefaultState'](){const _0x1ef0d5=_0x213939;return{'mode':Charactermancer_Background_Features[_0x1ef0d5(0x20f)],'otherBackgroundName':null,'otherBackgroundSource':null,'otherBackgroundEntries':null,'manualEntryMetas':[this['_getDefaultState_manualEntryMeta']()],'pulseFeatures':![]};}}Charactermancer_Background_Features[_0x213939(0x20f)]=0x0,Charactermancer_Background_Features[_0x213939(0x201)]=0x1,Charactermancer_Background_Features[_0x213939(0x1cd)]=0x2,Charactermancer_Background_Features[_0x213939(0x228)]={[Charactermancer_Background_Features[_0x213939(0x20f)]]:_0x213939(0x1ea),[Charactermancer_Background_Features['_MODE_OTHER_BACKGROUND']]:_0x213939(0x235),[Charactermancer_Background_Features[_0x213939(0x1cd)]]:_0x213939(0x266)};export{Charactermancer_Background_Characteristics,Charactermancer_Background_Features};